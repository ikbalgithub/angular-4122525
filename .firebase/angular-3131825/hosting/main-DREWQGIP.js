var jx=Object.create;var gf=Object.defineProperty,Fx=Object.defineProperties,s_=Object.getOwnPropertyDescriptor,Lx=Object.getOwnPropertyDescriptors,$x=Object.getOwnPropertyNames,o_=Object.getOwnPropertySymbols,a_=Object.getPrototypeOf,c_=Object.prototype.hasOwnProperty,Bx=Object.prototype.propertyIsEnumerable,Vx=Reflect.get;var km=(t,e,n)=>e in t?gf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ke=(t,e)=>{for(var n in e||={})c_.call(e,n)&&km(t,n,e[n]);if(o_)for(var n of o_(e))Bx.call(e,n)&&km(t,n,e[n]);return t},Mt=(t,e)=>Fx(t,Lx(e));var Ux=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qx=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $x(e))!c_.call(t,i)&&i!==n&&gf(t,i,{get:()=>e[i],enumerable:!(r=s_(e,i))||r.enumerable});return t};var Hx=(t,e,n)=>(n=t!=null?jx(a_(t)):{},qx(e||!t||!t.__esModule?gf(n,"default",{value:t,enumerable:!0}):n,t));var Er=(t,e,n,r)=>{for(var i=r>1?void 0:r?s_(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&gf(e,n,i),i};var hi=(t,e,n)=>km(t,typeof e!="symbol"?e+"":e,n);var ks=(t,e,n)=>Vx(a_(t),n,e);var Me=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(f){i(f)}},s=c=>{try{a(n.throw(c))}catch(f){i(f)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var XT=Ux((cf,z1)=>{"use strict";(function(t,e){typeof cf=="object"&&typeof z1=="object"?z1.exports=e():typeof define=="function"&&define.amd?define([],e):typeof cf=="object"?cf.mongoose=e():t.mongoose=e()})(typeof self<"u"?self:cf,()=>(()=>{var t={4986:(r,i,o)=>{"use strict";r.exports=o(254)},254:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(u){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(u)}function c(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!u})()}function f(u){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},f(u)}function y(u,l){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},y(u,l)}o(8582).set(o(5221));var m=o(3300);m.setBrowser(!0),i.Error=o(9507),i.Schema=o(9703),i.Types=o(1148),i.VirtualType=o(5165),i.SchemaType=o(2319),i.utils=o(335),i.Document=m(),i.model=function(u,l){var h=function(d){function p(b,v){return function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}(this,p),function(_,S,w){return S=f(S),function(D,x){if(x&&(a(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(D)}(_,c()?Reflect.construct(S,w||[],f(_).constructor):S.apply(_,w))}(this,p,[b,l,v])}return function(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&y(b,v)}(p,d),g=p,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(i.Document);return h.modelName=u,h},typeof window<"u"&&(window.mongoose=r.exports,window.Buffer=s)},6024:(r,i,o)=>{"use strict";var s=o(3293),a=o(3550).EventEmitter,c=o(9507),f=o(9703),y=o(6704),m=c.ValidationError,u=o(8892),l=o(4797);function h(d,p,g,b,v){if(!(this instanceof h))return new h(d,p,g,b,v);if(l(p)&&!p.instanceOfSchema&&(p=new f(p)),p=this.schema||p,!this.schema&&p.options._id&&(d=d||{})._id===void 0&&(d._id=new y),!p)throw new c.MissingSchemaError;for(var _ in this.$__setSchema(p),s.call(this,d,g,b,v),u(this,p,{decorateDoc:!0}),p.methods)this[_]=p.methods[_];for(var S in p.statics)this[S]=p.statics[S]}h.prototype=Object.create(s.prototype),h.prototype.constructor=h,h.events=new a,h.$emitter=new a,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(d){h[d]=function(){return h.$emitter[d].apply(h.$emitter,arguments)}}),h.ValidationError=m,r.exports=h},8447:(r,i,o)=>{"use strict";function s(M,P){var k=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!k){if(Array.isArray(M)||(k=function(te,E){if(te){if(typeof te=="string")return a(te,E);var O={}.toString.call(te).slice(8,-1);return O==="Object"&&te.constructor&&(O=te.constructor.name),O==="Map"||O==="Set"?Array.from(te):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?a(te,E):void 0}}(M))||P&&M&&typeof M.length=="number"){k&&(M=k);var B=0,L=function(){};return{s:L,n:function(){return B>=M.length?{done:!0}:{done:!1,value:M[B++]}},e:function(te){throw te},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,Q=!0,ne=!1;return{s:function(){k=k.call(M)},n:function(){var te=k.next();return Q=te.done,te},e:function(te){ne=!0,V=te},f:function(){try{Q||k.return==null||k.return()}finally{if(ne)throw V}}}}function a(M,P){(P==null||P>M.length)&&(P=M.length);for(var k=0,B=Array(P);k<P;k++)B[k]=M[k];return B}function c(M){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},c(M)}var f=o(6148),y=o(6166),m=o(2176),u=o(8385),l=o(8471),h=o(2503),d=o(5132),p=o(1654),g=o(499),b=o(7352),v=o(4797),_=o(6504),S=o(335),w=["Polygon","MultiPolygon"];function D(M,P,k){if(Array.isArray(M))M.forEach(function(ne,te){if(Array.isArray(ne)||v(ne))return D(ne,P,k);M[te]=P.castForQuery(null,ne,k)});else for(var B=Object.keys(M),L=B.length;L--;){var V=B[L],Q=M[V];Array.isArray(Q)||v(Q)?(D(Q,P,k),M[V]=Q):M[V]=P.castForQuery({val:Q,context:k})}}function x(M,P,k,B){if("strictQuery"in M)return M.strictQuery;if("strictQuery"in P)return P.strictQuery;var L=B&&B.mongooseCollection&&B.mongooseCollection.conn&&B.mongooseCollection.conn.base&&B.mongooseCollection.conn.base.options;return L&&"strictQuery"in L?L.strictQuery:k.strictQuery}r.exports=function M(P,k,B,L){if(Array.isArray(k))throw new Error("Query filter must be an object, got an array ",b.inspect(k));if(k==null)return k;P!=null&&P.discriminators!=null&&k[P.options.discriminatorKey]!=null&&(P=p(P,k[P.options.discriminatorKey])||P);var V,Q,ne,te,E,O,C=Object.keys(k),I=C.length;for(B=B||{};I--;)if(O=k[te=C[I]],te==="$or"||te==="$nor"||te==="$and"){if(!Array.isArray(O))throw new f("Array",O,te);for(var T=O.length-1;T>=0;T--){if(O[T]==null||c(O[T])!=="object")throw new f("Object",O[T],te+"."+T);var N=Object.keys(O[T]).length,j=O[T][P.options.discriminatorKey];if(j==null)O[T]=M(P,O[T],B,L);else{var H=p(L.schema,j);O[T]=M(H||P,O[T],B,L)}Object.keys(O[T]).length===0&&N!==0&&O.splice(T,1)}O.length===0&&delete k[te]}else{if(te==="$where"){if((E=c(O))!=="string"&&E!=="function")throw new Error("Must have a string or function for $where");E==="function"&&(k[te]=O.toString());continue}if(te==="$expr"){O=u(O,P);continue}if(te==="$elemMatch")O=M(P,O,B,L);else if(te==="$text")O=h(O,te);else if(te!=="$comment"||P.paths.hasOwnProperty("$comment")){if(!P)continue;if(!(Q=P.path(te)))for(var q=te.split("."),X=q.length;X--;){var z=q.slice(0,X).join("."),U=q.slice(X).join("."),Z=P.path(z),ee=Z&&Z.schema&&Z.schema.options&&Z.schema.options.discriminatorKey;if(Z!=null&&(Z.schema&&Z.schema.discriminators)!=null&&ee!=null&&U!==ee){var R=d(k,z+"."+ee),$=Z.schema.discriminators;typeof R=="string"&&$[R]!=null?Q=$[R].path(U):R!=null&&Object.keys(R).length===1&&Array.isArray(R.$in)&&R.$in.length===1&&typeof R.$in[0]=="string"&&$[R.$in[0]]!=null&&(Q=$[R.$in[0]].path(U))}}if(Q){if(O==null)continue;if(S.isPOJO(O))if(Object.keys(O).some(g))for(var G=Object.keys(O),ie=void 0,ae=G.length;ae--;)if(ne=O[ie=G[ae]],ie==="$elemMatch")ne&&Q!=null&&Q.schema!=null?M(Q.schema,ne,B,L):ne&&Q!=null&&Q.$isMongooseArray&&(S.isPOJO(ne)&&ne.$not!=null?M(P,ne,B,L):O[ie]=Q.castForQuery(ie,ne,L));else if(ie==="$not"){if(ne&&Q){if((V=Object.keys(ne)).length&&g(V[0]))for(var le in ne)ne[le]=Q.castForQuery(le,ne[le],L);else O[ie]=Q.castForQuery(ie,ne,L);continue}}else O[ie]=Q.castForQuery(ie,ne,L);else k[te]=Q.castForQuery(null,O,L);else if(Array.isArray(O)&&["Buffer","Array"].indexOf(Q.instance)===-1&&!B.sanitizeFilter){var J,re=[],ue=s(O);try{for(ue.s();!(J=ue.n()).done;){var fe=J.value;re.push(Q.castForQuery(null,fe,L))}}catch(kt){ue.e(kt)}finally{ue.f()}k[te]={$in:re}}else k[te]=Q.castForQuery(null,O,L)}else{for(var de=te.split("."),se=de.length,Ie=void 0,Ce=void 0,we=void 0;se--&&(Ie=de.slice(0,se).join("."),!(Q=P.path(Ie))););if(Q){if(Q.caster&&Q.caster.schema){(we={})[Ce=de.slice(se).join(".")]=O;var Te=M(Q.caster.schema,we,B,L)[Ce];Te===void 0?delete k[te]:k[te]=Te}else k[te]=O;continue}if(v(O)){var Ne="";if(O.$near?Ne="$near":O.$nearSphere?Ne="$nearSphere":O.$within?Ne="$within":O.$geoIntersects?Ne="$geoIntersects":O.$geoWithin&&(Ne="$geoWithin"),Ne){var Ye=new m.Number("__QueryCasting__"),Le=O[Ne];if(O.$maxDistance!=null&&(O.$maxDistance=Ye.castForQuery(null,O.$maxDistance,L)),O.$minDistance!=null&&(O.$minDistance=Ye.castForQuery(null,O.$minDistance,L)),Ne==="$within"){var at=Le.$center||Le.$centerSphere||Le.$box||Le.$polygon;if(!at)throw new Error("Bad $within parameter: "+JSON.stringify(O));Le=at}else if(Ne==="$near"&&typeof Le.type=="string"&&Array.isArray(Le.coordinates))Le=Le.coordinates;else if((Ne==="$near"||Ne==="$nearSphere"||Ne==="$geoIntersects")&&Le.$geometry&&typeof Le.$geometry.type=="string"&&Array.isArray(Le.$geometry.coordinates))Le.$maxDistance!=null&&(Le.$maxDistance=Ye.castForQuery(null,Le.$maxDistance,L)),Le.$minDistance!=null&&(Le.$minDistance=Ye.castForQuery(null,Le.$minDistance,L)),_(Le.$geometry)&&(Le.$geometry=Le.$geometry.toObject({transform:!1,virtuals:!1})),Le=Le.$geometry.coordinates;else if(Ne==="$geoWithin")if(Le.$geometry){_(Le.$geometry)&&(Le.$geometry=Le.$geometry.toObject({virtuals:!1}));var Et=Le.$geometry.type;if(w.indexOf(Et)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+Et+'", must be "Polygon" or "MultiPolygon"');Le=Le.$geometry.coordinates}else Le=Le.$box||Le.$polygon||Le.$center||Le.$centerSphere,_(Le)&&(Le=Le.toObject({virtuals:!1}));D(Le,Ye,L);continue}}if(P.nested[te])continue;var Je="strict"in B?B.strict:P.options.strict,wt=x(B,P._userProvidedOptions,P.options,L);if(B.upsert&&Je)throw Je==="throw"?new y(te):new y(te,'Path "'+te+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(wt==="throw")throw new y(te,'Path "'+te+`" is not in schema and strictQuery is 'throw'.`);wt&&delete k[te]}}else O=l(O,te),k[te]=O}return k}},6237:(r,i,o)=>{"use strict";var s=o(2402),a=o(3633).Long;r.exports=function(c){return c==null?c:c===""?null:typeof c=="bigint"?c:c instanceof a?c.toBigInt():typeof c=="string"||typeof c=="number"?BigInt(c):void s.ok(!1)}},7092:(r,i,o)=>{"use strict";var s=o(6148);r.exports=function(a,c){if(r.exports.convertToTrue.has(a))return!0;if(r.exports.convertToFalse.has(a))return!1;if(a==null)return a;throw new s("boolean",a,c)},r.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),r.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},9973:(r,i,o)=>{"use strict";var s=o(2402);r.exports=function(a){return a==null||a===""?null:a instanceof Date?(s.ok(!isNaN(a.valueOf())),a):(s.ok(typeof a!="boolean"),c=a instanceof Number||typeof a=="number"?new Date(a):typeof a=="string"&&!isNaN(Number(a))&&(Number(a)>=275761||Number(a)<-271820)?new Date(Number(a)):typeof a.valueOf=="function"?new Date(a.valueOf()):new Date(a),isNaN(c.valueOf())?void s.ok(!1):c);var c}},3854:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(y){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},a(y)}var c=o(9394),f=o(2402);r.exports=function(y){return y==null?y:a(y)==="object"&&typeof y.$numberDecimal=="string"?c.fromString(y.$numberDecimal):y instanceof c?y:typeof y=="string"?c.fromString(y):typeof s=="function"&&s.isBuffer(y)||typeof Uint8Array=="function"&&y instanceof Uint8Array?new c(y):typeof y=="number"?c.fromString(String(y)):typeof y.valueOf=="function"&&typeof y.valueOf()=="string"?c.fromString(y.valueOf()):void f.ok(!1)}},4631:(r,i,o)=>{"use strict";function s(y){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(y)}var a=o(2402),c=o(3633),f=o(2128);r.exports=function(y){if(y==null||y==="")return null;var m;if(f(y,"Long"))m=y.toNumber();else if(typeof y=="string")try{return c.Double.fromString(y)}catch{a.ok(!1)}else if(s(y)==="object"){var u,l=(u=y.valueOf())!==null&&u!==void 0?u:y.toString();if(typeof l=="string")try{return c.Double.fromString(y)}catch{a.ok(!1)}else m=Number(l)}else m=Number(y);return new c.Double(m)}},3724:(r,i,o)=>{"use strict";var s=o(2128),a=o(2402);r.exports=function(c){if(c==null)return c;if(c==="")return null;var f=s(c,"Long")?c.toNumber():Number(c);if(f===(0|f)&&f>=-2147483648&&f<=2147483647)return f;a.ok(!1)}},247:(r,i,o)=>{"use strict";var s=o(2402);r.exports=function(a){return a==null?a:a===""?null:(typeof a!="string"&&typeof a!="boolean"||(a=Number(a)),s.ok(!isNaN(a)),a instanceof Number?a.valueOf():typeof a=="number"?a:Array.isArray(a)||typeof a.valueOf!="function"?a.toString&&!Array.isArray(a)&&a.toString()==Number(a)?Number(a):void s.ok(!1):Number(a.valueOf()))}},8092:(r,i,o)=>{"use strict";var s=o(2128),a=o(6704);r.exports=function(c){if(c==null||s(c,"ObjectId"))return c;if(c._id){if(s(c._id,"ObjectId"))return c._id;if(c._id.toString instanceof Function)return new a(c._id.toString())}return c.toString instanceof Function?new a(c.toString()):new a(c)}},8471:(r,i,o)=>{"use strict";var s=o(6148);r.exports=function(a,c){if(a==null)return a;if(a._id&&typeof a._id=="string")return a._id;if(a.toString&&a.toString!==Object.prototype.toString&&!Array.isArray(a))return a.toString();throw new s("string",a,c)}},991:(r,i)=>{"use strict";var o=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"]).concat(["validate"]);i.Ut=o},3293:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(K){return function(oe){if(Array.isArray(oe))return p(oe)}(K)||function(oe){if(typeof Symbol<"u"&&oe[Symbol.iterator]!=null||oe["@@iterator"]!=null)return Array.from(oe)}(K)||d(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(){c=function(){return oe};var K,oe={},ce=Object.prototype,he=ce.hasOwnProperty,pe=Object.defineProperty||function(Fe,je,Ze){Fe[je]=Ze.value},me=typeof Symbol=="function"?Symbol:{},Ee=me.iterator||"@@iterator",be=me.asyncIterator||"@@asyncIterator",Pe=me.toStringTag||"@@toStringTag";function De(Fe,je,Ze){return Object.defineProperty(Fe,je,{value:Ze,enumerable:!0,configurable:!0,writable:!0}),Fe[je]}try{De({},"")}catch{De=function(je,Ze,vt){return je[Ze]=vt}}function Ae(Fe,je,Ze,vt){var ct=je&&je.prototype instanceof gt?je:gt,Xe=Object.create(ct.prototype),Ot=new xt(vt||[]);return pe(Xe,"_invoke",{value:Wt(Fe,Ze,Ot)}),Xe}function Oe(Fe,je,Ze){try{return{type:"normal",arg:Fe.call(je,Ze)}}catch(vt){return{type:"throw",arg:vt}}}oe.wrap=Ae;var He="suspendedStart",$e="suspendedYield",ze="executing",et="completed",st={};function gt(){}function _t(){}function dt(){}var Lt={};De(Lt,Ee,function(){return this});var qt=Object.getPrototypeOf,Nn=qt&&qt(qt(Sn([])));Nn&&Nn!==ce&&he.call(Nn,Ee)&&(Lt=Nn);var un=dt.prototype=gt.prototype=Object.create(Lt);function Rn(Fe){["next","throw","return"].forEach(function(je){De(Fe,je,function(Ze){return this._invoke(je,Ze)})})}function Dn(Fe,je){function Ze(ct,Xe,Ot,Vt){var ln=Oe(Fe[ct],Fe,Xe);if(ln.type!=="throw"){var Vn=ln.arg,En=Vn.value;return En&&g(En)=="object"&&he.call(En,"__await")?je.resolve(En.__await).then(function(Un){Ze("next",Un,Ot,Vt)},function(Un){Ze("throw",Un,Ot,Vt)}):je.resolve(En).then(function(Un){Vn.value=Un,Ot(Vn)},function(Un){return Ze("throw",Un,Ot,Vt)})}Vt(ln.arg)}var vt;pe(this,"_invoke",{value:function(ct,Xe){function Ot(){return new je(function(Vt,ln){Ze(ct,Xe,Vt,ln)})}return vt=vt?vt.then(Ot,Ot):Ot()}})}function Wt(Fe,je,Ze){var vt=He;return function(ct,Xe){if(vt===ze)throw Error("Generator is already running");if(vt===et){if(ct==="throw")throw Xe;return{value:K,done:!0}}for(Ze.method=ct,Ze.arg=Xe;;){var Ot=Ze.delegate;if(Ot){var Vt=Ct(Ot,Ze);if(Vt){if(Vt===st)continue;return Vt}}if(Ze.method==="next")Ze.sent=Ze._sent=Ze.arg;else if(Ze.method==="throw"){if(vt===He)throw vt=et,Ze.arg;Ze.dispatchException(Ze.arg)}else Ze.method==="return"&&Ze.abrupt("return",Ze.arg);vt=ze;var ln=Oe(Fe,je,Ze);if(ln.type==="normal"){if(vt=Ze.done?et:$e,ln.arg===st)continue;return{value:ln.arg,done:Ze.done}}ln.type==="throw"&&(vt=et,Ze.method="throw",Ze.arg=ln.arg)}}}function Ct(Fe,je){var Ze=je.method,vt=Fe.iterator[Ze];if(vt===K)return je.delegate=null,Ze==="throw"&&Fe.iterator.return&&(je.method="return",je.arg=K,Ct(Fe,je),je.method==="throw")||Ze!=="return"&&(je.method="throw",je.arg=new TypeError("The iterator does not provide a '"+Ze+"' method")),st;var ct=Oe(vt,Fe.iterator,je.arg);if(ct.type==="throw")return je.method="throw",je.arg=ct.arg,je.delegate=null,st;var Xe=ct.arg;return Xe?Xe.done?(je[Fe.resultName]=Xe.value,je.next=Fe.nextLoc,je.method!=="return"&&(je.method="next",je.arg=K),je.delegate=null,st):Xe:(je.method="throw",je.arg=new TypeError("iterator result is not an object"),je.delegate=null,st)}function An(Fe){var je={tryLoc:Fe[0]};1 in Fe&&(je.catchLoc=Fe[1]),2 in Fe&&(je.finallyLoc=Fe[2],je.afterLoc=Fe[3]),this.tryEntries.push(je)}function qe(Fe){var je=Fe.completion||{};je.type="normal",delete je.arg,Fe.completion=je}function xt(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(An,this),this.reset(!0)}function Sn(Fe){if(Fe||Fe===""){var je=Fe[Ee];if(je)return je.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Ze=-1,vt=function ct(){for(;++Ze<Fe.length;)if(he.call(Fe,Ze))return ct.value=Fe[Ze],ct.done=!1,ct;return ct.value=K,ct.done=!0,ct};return vt.next=vt}}throw new TypeError(g(Fe)+" is not iterable")}return _t.prototype=dt,pe(un,"constructor",{value:dt,configurable:!0}),pe(dt,"constructor",{value:_t,configurable:!0}),_t.displayName=De(dt,Pe,"GeneratorFunction"),oe.isGeneratorFunction=function(Fe){var je=typeof Fe=="function"&&Fe.constructor;return!!je&&(je===_t||(je.displayName||je.name)==="GeneratorFunction")},oe.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,dt):(Fe.__proto__=dt,De(Fe,Pe,"GeneratorFunction")),Fe.prototype=Object.create(un),Fe},oe.awrap=function(Fe){return{__await:Fe}},Rn(Dn.prototype),De(Dn.prototype,be,function(){return this}),oe.AsyncIterator=Dn,oe.async=function(Fe,je,Ze,vt,ct){ct===void 0&&(ct=Promise);var Xe=new Dn(Ae(Fe,je,Ze,vt),ct);return oe.isGeneratorFunction(je)?Xe:Xe.next().then(function(Ot){return Ot.done?Ot.value:Xe.next()})},Rn(un),De(un,Pe,"Generator"),De(un,Ee,function(){return this}),De(un,"toString",function(){return"[object Generator]"}),oe.keys=function(Fe){var je=Object(Fe),Ze=[];for(var vt in je)Ze.push(vt);return Ze.reverse(),function ct(){for(;Ze.length;){var Xe=Ze.pop();if(Xe in je)return ct.value=Xe,ct.done=!1,ct}return ct.done=!0,ct}},oe.values=Sn,xt.prototype={constructor:xt,reset:function(Fe){if(this.prev=0,this.next=0,this.sent=this._sent=K,this.done=!1,this.delegate=null,this.method="next",this.arg=K,this.tryEntries.forEach(qe),!Fe)for(var je in this)je.charAt(0)==="t"&&he.call(this,je)&&!isNaN(+je.slice(1))&&(this[je]=K)},stop:function(){this.done=!0;var Fe=this.tryEntries[0].completion;if(Fe.type==="throw")throw Fe.arg;return this.rval},dispatchException:function(Fe){if(this.done)throw Fe;var je=this;function Ze(ln,Vn){return Xe.type="throw",Xe.arg=Fe,je.next=ln,Vn&&(je.method="next",je.arg=K),!!Vn}for(var vt=this.tryEntries.length-1;vt>=0;--vt){var ct=this.tryEntries[vt],Xe=ct.completion;if(ct.tryLoc==="root")return Ze("end");if(ct.tryLoc<=this.prev){var Ot=he.call(ct,"catchLoc"),Vt=he.call(ct,"finallyLoc");if(Ot&&Vt){if(this.prev<ct.catchLoc)return Ze(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return Ze(ct.finallyLoc)}else if(Ot){if(this.prev<ct.catchLoc)return Ze(ct.catchLoc,!0)}else{if(!Vt)throw Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return Ze(ct.finallyLoc)}}}},abrupt:function(Fe,je){for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var vt=this.tryEntries[Ze];if(vt.tryLoc<=this.prev&&he.call(vt,"finallyLoc")&&this.prev<vt.finallyLoc){var ct=vt;break}}ct&&(Fe==="break"||Fe==="continue")&&ct.tryLoc<=je&&je<=ct.finallyLoc&&(ct=null);var Xe=ct?ct.completion:{};return Xe.type=Fe,Xe.arg=je,ct?(this.method="next",this.next=ct.finallyLoc,st):this.complete(Xe)},complete:function(Fe,je){if(Fe.type==="throw")throw Fe.arg;return Fe.type==="break"||Fe.type==="continue"?this.next=Fe.arg:Fe.type==="return"?(this.rval=this.arg=Fe.arg,this.method="return",this.next="end"):Fe.type==="normal"&&je&&(this.next=je),st},finish:function(Fe){for(var je=this.tryEntries.length-1;je>=0;--je){var Ze=this.tryEntries[je];if(Ze.finallyLoc===Fe)return this.complete(Ze.completion,Ze.afterLoc),qe(Ze),st}},catch:function(Fe){for(var je=this.tryEntries.length-1;je>=0;--je){var Ze=this.tryEntries[je];if(Ze.tryLoc===Fe){var vt=Ze.completion;if(vt.type==="throw"){var ct=vt.arg;qe(Ze)}return ct}}throw Error("illegal catch attempt")},delegateYield:function(Fe,je,Ze){return this.delegate={iterator:Sn(Fe),resultName:je,nextLoc:Ze},this.method==="next"&&(this.arg=K),st}},oe}function f(K,oe,ce,he,pe,me,Ee){try{var be=K[me](Ee),Pe=be.value}catch(De){return void ce(De)}be.done?oe(Pe):Promise.resolve(Pe).then(he,pe)}function y(K){return function(){var oe=this,ce=arguments;return new Promise(function(he,pe){var me=K.apply(oe,ce);function Ee(Pe){f(me,he,pe,Ee,be,"next",Pe)}function be(Pe){f(me,he,pe,Ee,be,"throw",Pe)}Ee(void 0)})}}function m(K,oe){var ce=Object.keys(K);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(K);oe&&(he=he.filter(function(pe){return Object.getOwnPropertyDescriptor(K,pe).enumerable})),ce.push.apply(ce,he)}return ce}function u(K){for(var oe=1;oe<arguments.length;oe++){var ce=arguments[oe]!=null?arguments[oe]:{};oe%2?m(Object(ce),!0).forEach(function(he){l(K,he,ce[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ce)):m(Object(ce)).forEach(function(he){Object.defineProperty(K,he,Object.getOwnPropertyDescriptor(ce,he))})}return K}function l(K,oe,ce){return(oe=function(he){var pe=function(me){if(g(me)!="object"||!me)return me;var Ee=me[Symbol.toPrimitive];if(Ee!==void 0){var be=Ee.call(me,"string");if(g(be)!="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(me)}(he);return g(pe)=="symbol"?pe:pe+""}(oe))in K?Object.defineProperty(K,oe,{value:ce,enumerable:!0,configurable:!0,writable:!0}):K[oe]=ce,K}function h(K,oe){var ce=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(!ce){if(Array.isArray(K)||(ce=d(K))||oe&&K&&typeof K.length=="number"){ce&&(K=ce);var he=0,pe=function(){};return{s:pe,n:function(){return he>=K.length?{done:!0}:{done:!1,value:K[he++]}},e:function(Pe){throw Pe},f:pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,Ee=!0,be=!1;return{s:function(){ce=ce.call(K)},n:function(){var Pe=ce.next();return Ee=Pe.done,Pe},e:function(Pe){be=!0,me=Pe},f:function(){try{Ee||ce.return==null||ce.return()}finally{if(be)throw me}}}}function d(K,oe){if(K){if(typeof K=="string")return p(K,oe);var ce={}.toString.call(K).slice(8,-1);return ce==="Object"&&K.constructor&&(ce=K.constructor.name),ce==="Map"||ce==="Set"?Array.from(K):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?p(K,oe):void 0}}function p(K,oe){(oe==null||oe>K.length)&&(oe=K.length);for(var ce=0,he=Array(oe);ce<oe;ce++)he[ce]=K[ce];return he}function g(K){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},g(K)}var b,v,_,S=o(6432),w=o(3550).EventEmitter,D=o(641),x=o(9820),M=o(9507),P=o(1895),k=o(7283),B=o(2260),L=o(1857),V=o(3810),Q=o(9703),ne=o(6166),te=o(5368),E=o(8393),O=o(8279),C=o(6690),I=o(8208),T=o(1829),N=o(9725).w,j=o(9725).X,H=o(5575),q=o(9563).B,X=o(8239),z=o(4051),U=o(8825),Z=o(8145),ee=o(3933),R=o(2128),$=o(6239),G=o(1384),ie=o(2243),ae=o(7352).inspect,le=o(3920)._,J=o(1096),re=o(6470),ue=o(5678),fe=o(4094),de=o(2205),se=o(335),Ie=o(3165),Ce=se.deepEqual,we=se.isMongooseObject,Te=o(5625).arrayAtomicsBackupSymbol,Ne=o(5625).arrayAtomicsSymbol,Ye=o(5625).documentArrayParent,Le=o(5625).documentIsModified,at=o(5625).documentModifiedPaths,Et=o(5625).documentSchemaSymbol,Je=o(5625).getSymbol,wt=o(5625).modelSymbol,kt=o(5625).populateModelSymbol,pt=o(5625).scopeSymbol,Tt=o(3089).schemaMixedSymbol,an=o(2609),Rt=o(5625).sessionNewDocuments,It=se.specialProperties;function xe(K,oe,ce,he){if(g(ce)==="object"&&ce!=null&&(ce=(he=ce).skipId),he=Object.assign({},he),this.$__schema==null){var pe=se.isObject(oe)&&!oe.instanceOfSchema?new Q(oe):oe;this.$__setSchema(pe),oe=ce,ce=he,he=arguments[4]||{}}if(this.$__=new D,he.isNew!=null&&he.isNew!==!0&&(this.$isNew=he.isNew),he.priorDoc!=null&&(this.$__.priorDoc=he.priorDoc),ce&&(this.$__.skipId=ce),K!=null&&g(K)!=="object")throw new L(K,"obj","Document");var me=!0;he.defaults!==void 0&&(this.$__.defaults=he.defaults,me=he.defaults);var Ee=this.$__schema;typeof oe=="boolean"||oe==="throw"?(oe!==!0&&(this.$__.strictMode=oe),oe=void 0):Ee.options.strict!==!0&&(this.$__.strictMode=Ee.options.strict);var be,Pe=h(Ee.requiredPaths(!0));try{for(Pe.s();!(be=Pe.n()).done;){var De=be.value;this.$__.activePaths.require(De)}}catch($e){Pe.e($e)}finally{Pe.f()}var Ae=null;se.isPOJO(oe)&&Object.keys(oe).length>0&&(Ae=G(oe),this.$__.selected=oe,this.$__.exclude=Ae);var Oe=Ae===!1&&oe?O(oe):null;if(this._doc==null&&(this.$__buildDoc(K,oe,ce,Ae,Oe,!1),me&&C(this,oe,Ae,Oe,!0,null,{skipParentChangeTracking:!0})),K&&(this.$__original_set?this.$__original_set(K,void 0,!0,he):this.$set(K,void 0,!0,he),K instanceof xe&&(this.$isNew=K.$isNew)),he.willInit&&me?he.skipDefaults&&(this.$__.skipDefaults=he.skipDefaults):me&&C(this,oe,Ae,Oe,!1,he.skipDefaults),!this.$__.strictMode&&K){var He=this;Object.keys(this._doc).forEach(function($e){$e in Ee.tree||$e in Ee.methods||$e in Ee.virtuals||$e.startsWith("$")||j({prop:$e,subprops:null,prototype:He})})}(function($e){var ze=$e.$__schema&&$e.$__schema.callQueue;if(ze.length){var et,st=h(ze);try{for(st.s();!(et=st.n()).done;){var gt=et.value;gt[0]!=="pre"&&gt[0]!=="post"&&gt[0]!=="on"&&$e[gt[0]].apply($e,gt[1])}}catch(_t){st.e(_t)}finally{st.f()}}})(this)}for(var Kt in xe.prototype.$isMongooseDocumentPrototype=!0,Object.defineProperty(xe.prototype,"isNew",{get:function(){return this.$isNew},set:function(K){this.$isNew=K}}),Object.defineProperty(xe.prototype,"errors",{get:function(){return this.$errors},set:function(K){this.$errors=K}}),xe.prototype.$isNew=!0,se.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(K){xe.prototype[K]=function(){if(!this.$__.emitter){if(K==="emit")return;this.$__.emitter=new w,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[K].apply(this.$__.emitter,arguments)},xe.prototype["$".concat(K)]=xe.prototype[K]}),xe.prototype.constructor=xe,w.prototype)xe[Kt]=w.prototype[Kt];function yt(K,oe,ce){if(K!=null)for(var he=Object.keys(ce.$__schema.paths),pe=he.length,me=oe.indexOf(".")===-1?[oe]:oe.split("."),Ee=0;Ee<pe;++Ee){var be="",Pe=he[Ee];if(Pe.startsWith(oe+".")){var De=ce.$__schema.paths[Pe],Ae=De.splitPath().slice(me.length),Oe=Ae.length;if(De.defaultValue!==void 0)for(var He=K,$e=0;$e<Oe&&He!=null;++$e){var ze=Ae[$e];if($e===Oe-1){if(He[ze]!==void 0)break;try{var et=De.getDefault(ce,!1);et!==void 0&&(He[ze]=et)}catch(st){ce.invalidate(oe+"."+be,st);break}break}be+=(be.length?".":"")+ze,He[ze]=He[ze]||{},He=He[ze]}}}}function wn(K,oe,ce,he,pe){pe=pe||"",oe.$__!=null&&(oe=oe._doc);for(var me,Ee,be,Pe=Object.keys(oe),De=Pe.length,Ae=0,Oe=K.$__.strictMode,He=K.$__schema;Ae<De;)$e(Ae++);function $e(ze){if((be=Pe[ze])!=="__proto__"&&be!=="constructor"&&(Ee=pe?pe+be:be,me=He.path(Ee),!He.$isRootDiscriminator||K.$__isSelected(Ee))){var et=oe[be];if(!me&&se.isPOJO(et))ce[be]||(ce[be]={},Oe||be in He.tree||be in He.methods||be in He.virtuals||(K[be]=ce[be])),wn(K,et,ce[be],he,Ee+".");else if(me){if(ce.hasOwnProperty(be)&&et!==void 0&&!he.hydratedPopulatedDocs&&delete ce[be],et===null)ce[be]=me._castNullish(null);else if(et!==void 0){var st=et.$__==null?null:et.$__.wasPopulated;if(!me||st||he.hydratedPopulatedDocs)if(he.hydratedPopulatedDocs){var gt;ce[be]=me.cast(et,K,!0),ce[be]&&ce[be].$__&&ce[be].$__.wasPopulated?K.$populated(Ee,ce[be].$__.wasPopulated.value,ce[be].$__.wasPopulated.options):Array.isArray(ce[be])&&ce[be].length&&(gt=ce[be][0])!==null&&gt!==void 0&&(gt=gt.$__)!==null&&gt!==void 0&&gt.wasPopulated&&K.$populated(Ee,ce[be].map(function(_t){var dt;return _t==null||(dt=_t.$__)===null||dt===void 0||(dt=dt.wasPopulated)===null||dt===void 0?void 0:dt.value}).filter(function(_t){return _t!=null}),ce[be][0].$__.wasPopulated.options)}else ce[be]=et;else try{he&&he.setters?ce[be]=me.applySetters(et,K,!1):ce[be]=me.cast(et,K,!0)}catch(_t){K.invalidate(_t.path,new E({path:_t.path,message:_t.message,type:"cast",value:_t.value,reason:_t}))}}K.$isModified(Ee)||K.$__.activePaths.init(Ee)}else ce[be]=et,Oe||pe||(K[be]=et)}}}function cn(K){if(K==null)return!0;if(g(K)!=="object"||Array.isArray(K))return!1;for(var oe=0,ce=Object.keys(K);oe<ce.length;oe++)if(!cn(K[ce[oe]]))return!1;return!0}function jt(K,oe,ce,he){var pe={};(function(Xe){var Ot=Object.keys(Xe.$__.activePaths.getStatePaths("require")),Vt=0,ln=Ot.length;for(Vt=0;Vt<ln;++Vt){var Vn=Ot[Vt],En=Xe.$__schema.path(Vn);if(En!=null&&typeof En.originalRequiredValue=="function"){Xe.$__.cachedRequired=Xe.$__.cachedRequired||{};try{Xe.$__.cachedRequired[Vn]=En.originalRequiredValue.call(Xe,Xe)}catch(Un){Xe.invalidate(Vn,Un)}}}})(K);var me=new Set(Object.keys(K.$__.activePaths.getStatePaths("require")).filter(function(Xe){return!(!K.$__isSelected(Xe)&&!K.$isModified(Xe))&&(K.$__.cachedRequired==null||!(Xe in K.$__.cachedRequired)||K.$__.cachedRequired[Xe])}));function Ee(Xe){me.add(Xe)}if(Object.keys(K.$__.activePaths.getStatePaths("init")).forEach(Ee),Object.keys(K.$__.activePaths.getStatePaths("modify")).forEach(Ee),Object.keys(K.$__.activePaths.getStatePaths("default")).forEach(Ee),!he){var be,Pe=K.$getAllSubdocs({useCache:!0}),De=K.modifiedPaths(),Ae=h(Pe);try{for(Ae.s();!(be=Ae.n()).done;){var Oe=be.value;if(Oe.$basePath){var He,$e=Oe.$isSingleNested?Oe.$__pathRelativeToParent():Oe.$__fullPathWithIndexes(),ze=h(Oe.modifiedPaths());try{for(ze.s();!(He=ze.n()).done;){var et=He.value;me.delete($e+"."+et)}}catch(Xe){ze.e(Xe)}finally{ze.f()}!K.$isModified($e,null,De)||K.$__.activePaths.getStatePaths("modify").hasOwnProperty($e)||K.$isDefault($e)||(me.add($e),K.$__.pathsToScopes==null&&(K.$__.pathsToScopes={}),K.$__.pathsToScopes[$e]=Oe.$isDocumentArrayElement?Oe.__parentArray:Oe.$parent(),pe[$e]={skipSchemaValidators:!0},Oe.$isDocumentArrayElement&&Oe.__index!=null&&(pe[$e].index=Oe.__index))}}}catch(Xe){Ae.e(Xe)}finally{Ae.f()}}var st,gt=h(me);try{for(gt.s();!(st=gt.n()).done;){var _t=st.value,dt=K.$__schema.path(_t);if(dt){if(dt.$isMongooseDocumentArray){var Lt,qt=h(me);try{for(qt.s();!(Lt=qt.n()).done;){var Nn=Lt.value;(Nn==null||Nn.startsWith(dt.path+"."))&&me.delete(Nn)}}catch(Xe){qt.e(Xe)}finally{qt.f()}}(dt.caster||dt.validators.length!==0||dt.$parentSchemaDocArray)&&(!dt.$isMongooseArray||dt.$isMongooseDocumentArray||dt.$embeddedSchemaType.$isMongooseArray||dt.validators.length!==0||dt.$embeddedSchemaType.validators.length!==0)||me.delete(_t)}}}catch(Xe){gt.e(Xe)}finally{gt.f()}Array.isArray(oe)?me=function(Xe,Ot){var Vt,ln=new Set(Ot),Vn=new Map([]),En=h(Ot);try{for(En.s();!(Vt=En.n()).done;){var Un=Vt.value;if(Un.indexOf(".")!==-1)for(var Oi=Un.split("."),di=Oi[0],F=1;F<Oi.length;++F)Vn.set(di,Un),di=di+"."+Oi[F]}}catch(ge){En.e(ge)}finally{En.f()}var A,Y=new Set,W=h(Xe);try{for(W.s();!(A=W.n()).done;){var ye=A.value;ln.has(ye)?Y.add(ye):Vn.has(ye)&&Y.add(Vn.get(ye))}}catch(ge){W.e(ge)}finally{W.f()}return Y}(me,oe):Array.isArray(ce)&&(me=function(Xe,Ot){return Ot=new Set(Ot),Xe=Array.from(Xe).filter(function(Vt){return!Ot.has(Vt)}),new Set(Xe)}(me,ce)),function(Xe,Ot){var Vt,ln=h(Ot);try{for(ln.s();!(Vt=ln.n()).done;){var Vn=Vt.value,En=Xe.$__schema.path(Vn);En&&En.$isMongooseArray&&(Array.isArray(En)||!En.$isMongooseDocumentArray||En&&En.schemaOptions&&En.schemaOptions.required)&&(!En.$isMongooseArray||En.$isMongooseDocumentArray||En.$embeddedSchemaType.$isMongooseArray||En.$embeddedSchemaType.validators.length!==0)&&Qn(Xe.$__getValue(Vn),Ot,Vn)}}catch(Un){ln.e(Un)}finally{ln.f()}}(K,me);var un,Rn={skipArrays:!0},Dn=h(me);try{for(Dn.s();!(un=Dn.n()).done;){var Wt=un.value;if(K.$__schema.nested[Wt]){var Ct=K.$__getValue(Wt);we(Ct)&&(Ct=Ct.toObject({transform:!1}));var An=q(Ct,Wt,Rn,K.$__schema);Object.keys(An).filter(function(Xe){return!K.$__schema.singleNestedPaths.hasOwnProperty(Xe)}).forEach(Ee)}}}catch(Xe){Dn.e(Xe)}finally{Dn.f()}var qe,xt=h(me);try{for(xt.s();!(qe=xt.n()).done;){var Sn=qe.value,Fe=K.$__schema.path(Sn);if(Fe&&(Fe.$parentSchemaDocArray&&typeof Fe.$parentSchemaDocArray.path=="string"&&me.add(Fe.$parentSchemaDocArray.path),Fe.$isSchemaMap)){var je=K.$__getValue(Sn);if(je!=null){var Ze,vt=h(je.keys());try{for(vt.s();!(Ze=vt.n()).done;){var ct=Ze.value;me.add(Sn+"."+ct)}}catch(Xe){vt.e(Xe)}finally{vt.f()}}}}}catch(Xe){xt.e(Xe)}finally{xt.f()}return[me=Array.from(me),pe]}function Qn(K,oe,ce){if(K!=null)for(var he=K.length,pe=0;pe<he;++pe)Array.isArray(K[pe])?Qn(K[pe],oe,ce+"."+pe):oe.add(ce+"."+pe)}function zt(K,oe,ce,he){var pe,me,Ee,be=K.$__schema,Pe=be.virtuals,De=Object.keys(Pe),Ae=De.length,Oe=Ae,He=K._doc,$e=typeof(he&&he.aliases)!="boolean"||he.aliases;ce=ce||{};var ze=null;if(Array.isArray(ce.virtuals))ze=new Set(ce.virtuals);else if(ce.virtuals&&ce.virtuals.pathsToSkip){ze=new Set(De);for(var et=0;et<ce.virtuals.pathsToSkip.length;et++)ze.has(ce.virtuals.pathsToSkip[et])&&ze.delete(ce.virtuals.pathsToSkip[et])}if(!He)return oe;for(Ae=0;Ae<Oe;++Ae)if(pe=De[Ae],(ze==null||ze.has(pe))&&($e||!be.aliases.hasOwnProperty(pe))){if(me=pe,ce.path!=null){if(!pe.startsWith(ce.path+"."))continue;me=pe.substring(ce.path.length+1)}if(me.indexOf(".")!==-1||me!==pe){var st=me.split(".");if((Ee=T(K.get(pe),ce))!==void 0){var gt=st.length;He=oe;for(var _t=0;_t<gt-1;++_t)He[st[_t]]=He[st[_t]]||{},He=He[st[_t]];He[st[gt-1]]=Ee}}else{if((Ee=Pe[pe].applyGetters(void 0,K))===void 0)continue;Ee=T(Ee,ce),oe[me]=Ee}}return oe}function Ut(K,oe){if(Ie(oe))throw new Error("`transform` function must be synchronous, but the transform on path `"+K+"` returned a promise.")}function Jr(K,oe,ce){var he=K.$populated(oe,!0);if(!he&&K.$__.selected){var pe=oe.split(".")[0];if(K.$__.selected[pe+".$"])return pe}if(he&&se.isMongooseArray(ce)&&(he.options.match||he.options.options&&se.object.hasOwnProperty(he.options.options,"limit")||he.options.options&&he.options.options.skip||he.options.select&&(he.options.select._id===0||/\s?-_id\s?/.test(he.options.select)))){var me=ce[Ne];if(Object.keys(me).length===0||me.$set||me.$pop)return oe}}function pn(K,oe,ce,he,pe,me){if(me||(me="$set"),ce[me]||(ce[me]={}),ce[me][he.path]=pe,K.$__schema.options.versionKey!==!1&&!function(Ee,be){var Pe=Ee.$__schema.options.skipVersioning;return!!Pe&&Pe[be=be.replace(/\.\d+\./,".")]}(K,he.path)&&3&~K.$__.version&&!K.$__schema.options.optimisticConcurrency){switch(me){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}me==="$push"||me==="$addToSet"||me==="$pullAll"||me==="$pull"?/\.\d+\.|\.\d+$/.test(he.path)?K.$__.version=3:K.$__.version=2:/^\$p/.test(me)||Array.isArray(pe)?K.$__.version=3:/\.\d+\.|\.\d+$/.test(he.path)&&(K.$__.version=1)}}function Mn(K,oe,ce,he,pe){if(!ce.$set||!ce.$set[he.path])if(typeof pe.$__getAtomics!="function"){var me,Ee,be=pe[Ne],Pe=Object.keys(be),De=Pe.length;if(De===0)return se.isMongooseObject(pe)?pe=pe.toObject({depopulate:1,_isNested:!0}):pe.valueOf&&(pe=pe.valueOf()),pn(K,0,ce,he,pe);for(;De--;)me=be[Ee=Pe[De]],se.isMongooseObject(me)?me=me.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(me)?me=me.map(Ae):me.valueOf&&(me=me.valueOf()),Ee==="$addToSet"&&(me={$each:me}),pn(K,0,ce,he,me,Ee)}else pe.$__getAtomics().forEach(function(Oe){var He=Oe[0],$e=Oe[1];pn(K,0,ce,he,$e,He)});function Ae(Oe){return se.isMongooseObject(Oe)?Oe.toObject({depopulate:1,_isNested:!0}):Oe}}xe.prototype.$__schema,xe.prototype.schema,Object.defineProperty(xe.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(K){this.$__.locals=K}}),xe.prototype.isNew,Object.defineProperty(xe.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),xe.prototype.id,xe.prototype.$errors,Object.defineProperty(xe.prototype,"$op",{get:function(){return this.$__.op||null},set:function(K){this.$__.op=K}}),xe.prototype.$__buildDoc=function(K,oe,ce,he,pe){for(var me={},Ee=Object.keys(this.$__schema.paths).filter(function(_t){return!_t.includes("$*")}),be=Ee.length,Pe=0;Pe<be;++Pe){var De=Ee[Pe];if(!(De==="_id"&&(ce||K&&"_id"in K)))for(var Ae=this.$__schema.paths[De].splitPath(),Oe=Ae.length,He=Oe-1,$e="",ze=me,et=!1,st=0;st<Oe;++st){var gt=Ae[st];if($e.length?$e+="."+gt:$e=gt,he===!0){if($e in oe)break}else if(he===!1&&oe&&!et){if($e in oe)et=!0;else if(!pe[$e])break}st<He&&(ze=ze[gt]||(ze[gt]={}))}}this._doc=me},xe.prototype.toBSON=function(){return this.toObject(le)},xe.prototype.init=function(K,oe,ce){return typeof oe=="function"&&(ce=oe,oe=null),this.$__init(K,oe),ce&&ce(null,this),this},xe.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)},xe.prototype.$__init=function(K,oe){if(this.$isNew=!1,oe=oe||{},K._id!=null&&oe.populated&&oe.populated.length){var ce,he=String(K._id),pe=h(oe.populated);try{for(pe.s();!(ce=pe.n()).done;){var me=ce.value;if(me.isVirtual?this.$populated(me.path,se.getValue(me.path,K),me):this.$populated(me.path,me._docs[he],me),me._childDocs!=null){var Ee,be=h(me._childDocs);try{for(be.s();!(Ee=be.n()).done;){var Pe=Ee.value;Pe!=null&&Pe.$__!=null&&(Pe.$__.parent=this)}}catch(Ae){be.e(Ae)}finally{be.f()}me._childDocs=[]}}}catch(Ae){pe.e(Ae)}finally{pe.f()}}wn(this,K,this._doc,oe),J(this,oe.populated),this.$emit("init",this),this.constructor.emit("init",this);var De=this.$__.exclude===!1&&this.$__.selected?O(this.$__.selected):null;return C(this,this.$__.selected,this.$__.exclude,De,!1,this.$__.skipDefaults),this},xe.prototype.updateOne=function(K,oe,ce){var he=this.constructor.updateOne({_id:this._doc._id},K,oe),pe=this;return he.pre(function(me){pe.constructor._middleware.execPre("updateOne",pe,[pe],me)}),he.post(function(me){pe.constructor._middleware.execPost("updateOne",pe,[pe],{},me)}),this.$session()!=null&&("session"in he.options||(he.options.session=this.$session())),ce!=null?he.exec(ce):he},xe.prototype.replaceOne=function(){var K=Array.prototype.slice.call(arguments);return K.unshift({_id:this._doc._id}),this.constructor.replaceOne.apply(this.constructor,K)},xe.prototype.$session=function(K){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(K!=null&&K.hasEnded)throw new M("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(K!=null||this.$__.session!=null){if(this.$__.session=K,!this.$isSubdocument){var oe,ce=h(this.$getAllSubdocs());try{for(ce.s();!(oe=ce.n()).done;)oe.value.$session(K)}catch(he){ce.e(he)}finally{ce.f()}}return K}},xe.prototype.$timestamps=function(K){return arguments.length===0?this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0:(K!==this.$timestamps()&&(this.$__.timestamps=K),this)},xe.prototype.overwrite=function(K){for(var oe=0,ce=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(K))));oe<ce.length;oe++){var he=ce[oe];he!=="_id"&&(this.$__schema.options.versionKey&&he===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&he===this.$__schema.options.discriminatorKey||this.$set(he,K[he]))}return this},xe.prototype.$set=function(K,oe,ce,he){var pe=this;se.isPOJO(ce)&&(he=ce,ce=void 0);var me,Ee,be,Pe,De=he&&he.merge,Ae=ce&&ce!==!0,Oe=ce===!0,He=0,$e=he&&"strict"in he,ze=$e?he.strict:this.$__.strictMode;if(Ae&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[K]=this.$__schema.interpretAsType(K,ce,this.$__schema.options)),K==null){var et=[oe,K];K=et[0],oe=et[1]}else if(typeof K!="string"){if(K instanceof xe&&(K=K.$__isNested?K.toObject():K.$__schema===this.$__schema?zt(K,u({},K._doc)):K._doc),K==null){var st=[oe,K];K=st[0],oe=st[1]}Pe=oe?oe+".":"";var gt=(me=z(this.$__schema,K)).length,_t=he&&he._skipMinimizeTopLevel||!1;if(gt===0&&_t)return delete he._skipMinimizeTopLevel,oe&&this.$set(oe,{}),this;he=Object.assign({},he,{_skipMinimizeTopLevel:!1});for(var dt=0;dt<gt;++dt){be=me[dt];var Lt=Pe?Pe+be:be;Ee=this.$__schema.pathType(Lt);var qt=K[be];if(ce!==!0||Pe||qt==null||Ee!=="nested"||this._doc[be]==null||delete this._doc[be],se.isNonBuiltinObject(qt)&&Ee==="nested")this.$set(Lt,qt,Oe,Object.assign({},he,{_skipMarkModified:!0})),yt(this.$get(Lt),Lt,this);else if(ze){if(Oe&&qt===void 0&&this.$get(Lt)!==void 0)continue;if(Ee==="adhocOrUndefined"&&(Ee=X(this,Lt,{typeOnly:!0})),Ee==="real"||Ee==="virtual")this.$set(Lt,qt,Oe,he);else if(Ee==="nested"&&qt instanceof xe)this.$set(Lt,qt.toObject({transform:!1}),Oe,he);else{if(ze==="throw")throw Ee==="nested"?new B(be,qt):new ne(be);Ee==="nested"&&qt==null&&this.$set(Lt,qt,Oe,he)}}else qt!==void 0&&this.$set(Lt,qt,Oe,he)}for(var Nn={},un=Object.keys(this.$__schema.tree),Rn=0,Dn=un.length;Rn<Dn;++Rn)(be=un[Rn])&&this._doc.hasOwnProperty(be)&&(Nn[be]=void 0);return this._doc=Object.assign(Nn,this._doc),this}var Wt=this.$__schema.pathType(K),Ct=null;if(Wt==="adhocOrUndefined"&&(Ct=K.indexOf(".")===-1?[K]:K.split("."),Wt=X(this,Ct,{typeOnly:!0})),Wt==="adhocOrUndefined"&&!$e){Ct==null&&(Ct=K.indexOf(".")===-1?[K]:K.split("."));var An=U(this.$__schema,Ct);An!==void 0&&(ze=An)}oe=Z(oe,!0);var qe,xt=pe.$__.priorDoc!=null?pe.$__.priorDoc.$__getValue(K):Oe?void 0:pe.$__getValue(K);if(Wt==="nested"&&oe){if(g(oe)==="object"&&oe!=null){if(oe.$__!=null&&(oe=oe.toObject(le)),oe==null)return this.invalidate(K,new M.CastError("Object",oe,K)),this;var Sn=this.$isModified(K),Fe=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(K);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(K)){var je=this.$__getValue(K);this.$__.savedState[K]=je;for(var Ze=0,vt=Object.keys(je||{});Ze<vt.length;Ze++){var ct=vt[Ze];this.$__.savedState[K+"."+ct]=je[ct]}}if(De)return this.$set(oe,K,Oe,he);this.$__setValue(K,null),I(this,K);var Xe=z(this.$__schema,oe,K);this.$__setValue(K,{});var Ot,Vt=h(Xe);try{for(Vt.s();!(Ot=Vt.n()).done;){var ln=Ot.value;this.$set(K+"."+ln,oe[ln],Oe,u(u({},he),{},{_skipMarkModified:!0}))}}catch(Ke){Vt.e(Ke)}finally{Vt.f()}return xt==null||Sn&&!Fe||!se.deepEqual(Fe?this.$__.savedState[K]:xt,oe)?this.markModified(K):this.unmarkModified(K),this}return this.invalidate(K,new M.CastError("Object",oe,K)),this}if(Ct==null&&(Ct=K.indexOf(".")===-1?[K]:K.split(".")),typeof this.$__schema.aliases[Ct[0]]=="string"&&(Ct[0]=this.$__schema.aliases[Ct[0]]),Wt==="adhocOrUndefined"&&ze){var Vn;for(He=0;He<Ct.length;++He){var En=Ct.slice(0,He+1).join(".");if(He+1<Ct.length&&this.$__schema.pathType(En)==="virtual")return ue.set(K,oe,this),this;if((qe=this.$__schema.path(En))!=null){if(qe instanceof P){Vn=!0;break}if(qe.$isSchemaMap&&qe.$__schemaType instanceof P&&He<Ct.length-1){Vn=!0,qe=qe.$__schemaType;break}}}if(qe==null&&(qe=X(this,K)),!Vn&&!qe){if(ze==="throw")throw new ne(K);return this}}else{if(Wt==="virtual")return(qe=this.$__schema.virtualpath(K)).applySetters(oe,this),this;qe=this.$__path(K)}var Un,Oi=this._doc,di="";for(He=0;He<Ct.length-1;++He)Oi=Oi[Ct[He]],di+=(di.length!==0?".":"")+Ct[He],Oi||(this.$set(di,{}),this.$__isSelected(di)||this.unmarkModified(di),Oi=this.$__getValue(di));if(Ct.length<=1)Un=K;else{var F=Ct.length;for(He=0;He<F;++He){var A=Ct.slice(0,He+1).join(".");if(this.$get(A,null,{getters:!1})===null){Un=A;break}}Un||(Un=K)}if(!qe)return this.$__set(Un,K,he,Oe,Ct,qe,oe,xt),Wt==="nested"&&oe==null&&I(this,K),this;if((qe.$isSingleNested||qe.$isMongooseArray)&&function(Ke,ut){if(Ke.$__.validationError){for(var vn=0,fn=Object.keys(Ke.$__.validationError.errors);vn<fn.length;vn++){var dn=fn[vn];dn.startsWith(ut+".")&&delete Ke.$__.validationError.errors[dn]}Object.keys(Ke.$__.validationError.errors).length===0&&(Ke.$__.validationError=null)}}(this,K),oe!=null&&De&&qe.$isSingleNested){oe instanceof xe&&(oe=oe.toObject({virtuals:!1,transform:!1}));for(var Y=0,W=Object.keys(oe);Y<W.length;Y++){var ye=W[Y];this.$set(K+"."+ye,oe[ye],Oe,he)}return this}var ge=!0;try{var Ue,Be=function(){if(qe.options==null||!(oe instanceof xe))return!1;var Ke=oe.constructor,ut=typeof qe.options.ref!="function"||qe.options.ref[wt]?qe.options.ref:qe.options.ref.call(pe,pe),vn=ut?.modelName||ut;if(vn!=null&&(vn===Ke.modelName||vn===Ke.baseModelName))return!0;var fn=qe.options.refPath;if(fn==null)return!1;var dn=oe.get(fn);return dn===Ke.modelName||dn===Ke.baseModelName}(),ve=!1;if(Be&&oe instanceof xe&&(!oe.$__.wasPopulated||se.deepEqual(oe.$__.wasPopulated.value,oe._doc._id))){var lt=qe&&qe.$isSingleNested?qe.cast(oe,this):oe._doc._id;this.$populated(K,lt,l({},kt,oe.constructor)),oe.$__.wasPopulated={value:lt},ve=!0}var Ge=this.$__schema.options.typeKey;if(qe.options&&Array.isArray(qe.options[Ge])&&qe.options[Ge].length&&qe.options[Ge][0]&&qe.options[Ge][0].ref&&function(Ke,ut){if(!Array.isArray(Ke)||Ke.length===0)return!1;var vn,fn=h(Ke);try{for(fn.s();!(vn=fn.n()).done;){var dn=vn.value;if(!(dn instanceof xe)||dn.constructor.modelName==null||dn.constructor.modelName!=ut&&dn.constructor.baseModelName!=ut)return!1}}catch(Ns){fn.e(Ns)}finally{fn.f()}return!0}(oe,qe.options[Ge][0].ref)){Ue=l({},kt,oe[0].constructor),this.$populated(K,oe.map(function(Ke){return Ke._doc._id}),Ue);var Re,We=h(oe);try{for(We.s();!(Re=We.n()).done;){var ft=Re.value;ft.$__.wasPopulated={value:ft._doc._id}}}catch(Ke){We.e(Ke)}finally{We.f()}ve=!0}if(!Be||!qe.$isSingleNested||!oe.$__){var ht=this;this.$__schema.singleNestedPaths[K]!=null&&Ct.length>1&&(ht=an(this,Ct,this.schema)),oe=he!=null&&he.overwriteImmutable?qe.applySetters(oe,ht,!1,xt,{overwriteImmutable:!0}):qe.applySetters(oe,ht,!1,xt)}if(Array.isArray(oe)&&!Array.isArray(qe)&&qe.$isMongooseDocumentArray&&oe.length!==0&&oe[0]!=null&&oe[0].$__!=null&&oe[0].$__.populated!=null){for(var tn=Object.keys(oe[0].$__.populated),Tn=function(){var Ke=qn[In];pe.$populated(K+"."+Ke,oe.map(function(ut){return ut.$populated(Ke)}),oe[0].$__.populated[Ke].options)},In=0,qn=tn;In<qn.length;In++)Tn();ve=!0}if(!ve&&this.$__.populated){if(Array.isArray(oe)&&this.$__.populated[K])for(var mn=0;mn<oe.length;++mn)oe[mn]instanceof xe&&oe.set(mn,oe[mn]._doc._id,!0);delete this.$__.populated[K]}oe!=null&&qe.$isSingleNested&&function(Ke,ut,vn){var fn=ut.schema;if(fn!=null)for(var dn=0,Ns=Object.keys(fn.paths);dn<Ns.length;dn++){var pu=Ns[dn],Ho=fn.paths[pu];if(Ho.$immutableSetter!=null){var Ps=vn?.$__getValue(pu);Ho.$immutableSetter.call(Ke,Ps)}}}(oe,qe,xt),this.$markValid(K)}catch(Ke){Ke instanceof M.StrictModeError&&Ke.isImmutableError?this.invalidate(K,Ke):Ke instanceof M.CastError?(this.invalidate(Ke.path,Ke),Ke.$originalErrorPath&&this.invalidate(K,new M.CastError(qe.instance,oe,K,Ke.$originalErrorPath))):this.invalidate(K,new M.CastError(qe.instance,oe,K,Ke)),ge=!1}if(ge){var tt,At=null,Sr=null;if(!Oe){var on=this.$isSubdocument?this.ownerDocument():this;At=on.$__.savedState,Sr=this.$isSubdocument?this.$__.fullPath+"."+K:K,on.$__saveInitialState(Sr)}this.$__set(Un,K,he,Oe,Ct,qe,oe,xt);var nr=!((tt=this.$__.session)===null||tt===void 0||!tt.transaction),nt=this.$__.session&&this.$__.session[Rt]&&this.$__.session[Rt].has(this)&&this.$__.session[Rt].get(this).modifiedPaths&&!this.$__.session[Rt].get(this).modifiedPaths.has(Sr);At!=null&&At.hasOwnProperty(Sr)&&(!nr||nt)&&se.deepEqual(oe,At[Sr])&&this.unmarkModified(K)}return qe.$isSingleNested&&(this.isDirectModified(K)||oe==null)&&I(this,K),this},xe.prototype.set=xe.prototype.$set,xe.prototype.$__shouldModify=function(K,oe,ce,he,pe,me,Ee,be){return!(ce&&ce._skipMarkModified||!this.$isNew&&!(oe in this.$__.activePaths.getStatePaths("modify"))&&(Ee!==void 0||this.$__isSelected(oe))&&(Ee===void 0&&oe in this.$__.activePaths.getStatePaths("default")||this.$populated(oe)&&Ee instanceof xe&&Ce(Ee._doc._id,be)||Ce(Ee,be!==void 0?be:se.getValue(oe,this))&&(he||Ee==null||!(oe in this.$__.activePaths.getStatePaths("default"))||!Ce(Ee,me.getDefault(this,he)))))},xe.prototype.$__set=function(K,oe,ce,he,pe,me,Ee,be){_=_||o(8578);var Pe=this.$__shouldModify(K,oe,ce,he,pe,me,Ee,be);Pe?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[oe]&&(delete this.$__.primitiveAtomics[oe],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(K),v||(v=o(2918)),Ee&&se.isMongooseArray(Ee)&&(Ee._registerAtomic("$set",Ee),se.isMongooseDocumentArray(Ee)&&Ee.forEach(function(st){st&&st.__parentArray&&(st.__parentArray=Ee)}))):Array.isArray(Ee)&&Array.isArray(be)&&se.isMongooseArray(Ee)&&se.isMongooseArray(be)&&(Ee[Ne]=be[Ne],Ee[Te]=be[Te],se.isMongooseDocumentArray(Ee)&&Ee.forEach(function(st){st!=null&&(st.$isNew=!1)}));for(var De=this._doc,Ae=0,Oe=pe.length,He="";Ae<Oe;Ae++){var $e=Ae+1===Oe;if(He+=He?"."+pe[Ae]:pe[Ae],It.has(pe[Ae]))return;if($e)De instanceof Map?De.set(pe[Ae],Ee):De.$isSingleNested?(pe[Ae]in De||(De[pe[Ae]]=Ee),De._doc[pe[Ae]]=Ee,Pe&&De.markModified(pe[Ae])):De[pe[Ae]]=Ee;else{var ze=De instanceof Map,et=ze?De.get(pe[Ae]):De[pe[Ae]];se.isPOJO(et)||et&&et instanceof _||et&&!Array.isArray(et)&&et.$isSingleNested||et&&Array.isArray(et)||et==null&&(et={},ze?De.set(pe[Ae],et):De[pe[Ae]]=et),De=et}}},xe.prototype.$__getValue=function(K){if(typeof K!="string"&&!Array.isArray(K))throw new TypeError('Invalid `path`. Must be either string or array. Got "'.concat(K,'" (type ').concat(g(K),")"));return se.getValue(K,this._doc)},xe.prototype.$inc=function(K,oe){var ce=this;if(oe==null&&(oe=1),Array.isArray(K))return K.forEach(function(Pe){return ce.$inc(Pe,oe)}),this;var he=this.$__path(K);if(he==null){if(this.$__.strictMode==="throw")throw new ne(K);if(this.$__.strictMode===!0)return this}else if(he.instance!=="Number")return this.invalidate(K,new M.CastError(he.instance,oe,K)),this;var pe=this.$__getValue(K)||0,me=!1,Ee=null,be=oe;try{oe=he.cast(oe),be=(Ee=he.applySetters(pe+oe,this))-pe,me=!0}catch(Pe){this.invalidate(K,new M.CastError("number",oe,K,Pe))}return me&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[K]==null?this.$__.primitiveAtomics[K]={$inc:be}:this.$__.primitiveAtomics[K].$inc+=be,this.markModified(K),this.$__setValue(K,Ee)),this},xe.prototype.$__setValue=function(K,oe){return se.setValue(K,oe,this._doc),this},xe.prototype.get=function(K,oe,ce){var he;ce==null&&(ce={}),oe&&(he=this.$__schema.interpretAsType(K,oe,this.$__schema.options));var pe=ce.noDottedPath,me=pe?this.$__schema.paths[K]:this.$__path(K);if(me==null&&(me=this.$__schema.virtualpath(K))!=null)return me.applyGetters(void 0,this);if(pe){var Ee=this._doc[K];return he&&(Ee=he.cast(Ee)),me!=null&&ce.getters!==!1?me.applyGetters(Ee,this):Ee}if(me!=null&&me.instance==="Mixed"){var be=this.$__schema.virtualpath(K);be!=null&&(me=be)}var Pe=K.indexOf(".")!==-1,De=this._doc,Ae=Pe?K.split("."):[K];typeof this.$__schema.aliases[Ae[0]]=="string"&&(Ae[0]=this.$__schema.aliases[Ae[0]]);for(var Oe=0,He=Ae.length;Oe<He;Oe++)De&&De._doc&&(De=De._doc),De=De==null?void 0:De instanceof Map?De.get(Ae[Oe],{getters:!1}):Oe===He-1?se.getValue(Ae[Oe],De):De[Ae[Oe]];if(he&&(De=he.cast(De)),me!=null&&ce.getters!==!1)De=me.applyGetters(De,this);else if(this.$__schema.nested[K]&&ce.virtuals)return zt(this,T(De)||{},{path:K});return De},xe.prototype[Je]=xe.prototype.get,xe.prototype.$get=xe.prototype.get,xe.prototype.$__path=function(K){var oe=this.$__.adhocPaths;return(oe&&oe.hasOwnProperty(K)?oe[K]:null)||this.$__schema.path(K)},xe.prototype.markModified=function(K,oe){this.$__saveInitialState(K),this.$__.activePaths.modify(K),oe==null||this.$isSubdocument||(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[K]=oe)},xe.prototype.$__saveInitialState=function(K){var oe=this.$__.savedState,ce=K;if(oe!=null){var he=ce.indexOf("."),pe=he===-1?ce:ce.slice(0,he);oe.hasOwnProperty(pe)||(oe[pe]=T(this.$__getValue(pe)))}},xe.prototype.unmarkModified=function(K){this.$__.activePaths.init(K),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[K]},xe.prototype.$ignore=function(K){this.$__.activePaths.ignore(K)},xe.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))},xe.prototype.$isEmpty=function(K){var oe={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){var ce=this.$get(K);return ce==null||g(ce)==="object"&&(se.isPOJO(ce)?cn(ce):Object.keys(ce.toObject(oe)).length===0)}return Object.keys(this.toObject(oe)).length===0},xe.prototype.modifiedPaths=function(K){K=K||{};var oe=Object.keys(this.$__.activePaths.getStatePaths("modify")),ce=new Set,he=0,pe=0,me=oe.length;for(he=0;he<me;++he){var Ee=oe[he],be=fe(Ee),Pe=be.length;for(pe=0;pe<Pe;++pe)ce.add(be[pe]);if(K.includeChildren){var De=0,Ae=this.$get(Ee);if(g(Ae)==="object"&&Ae!==null){Ae._doc&&(Ae=Ae._doc);var Oe=Ae.length;if(Array.isArray(Ae))for(De=0;De<Oe;++De){var He=Ee+"."+De;if(!ce.has(He)&&(ce.add(He),Ae[De]!=null&&Ae[De].$__)){var $e=Ae[De].modifiedPaths(),ze=0,et=$e.length;for(ze=0;ze<et;++ze)ce.add(He+"."+$e[ze])}}else{var st=Object.keys(Ae),gt=0,_t=st.length;for(gt=0;gt<_t;++gt)ce.add(Ee+"."+st[gt])}}}}return Array.from(ce)},xe.prototype[at]=xe.prototype.modifiedPaths,xe.prototype.isModified=function(K,oe,ce){var he=this;if(K){var pe=oe&&oe.ignoreAtomics,me=this.$__.activePaths.states.modify;if(me==null)return!1;typeof K=="string"&&(K=K.indexOf(" ")===-1?[K]:K.split(" "));var Ee,be=h(K);try{for(be.s();!(Ee=be.n()).done;)if(me[Ee.value]!=null)return!0}catch(Oe){be.e(Oe)}finally{be.f()}var Pe=ce||this[at](),De=K.some(function(Oe){return!!~Pe.indexOf(Oe)}),Ae=Object.keys(me);return pe&&(Ae=Ae.filter(function(Oe){var He=he.$__getValue(Oe);return He==null||He[Ne]==null||He[Ne].$set!==void 0})),De||K.some(function(Oe){return Ae.some(function(He){return He===Oe||Oe.startsWith(He+".")})})}return this.$__.activePaths.some("modify")},xe.prototype.$isModified=xe.prototype.isModified,xe.prototype[Le]=xe.prototype.isModified,xe.prototype.$isDefault=function(K){var oe=this;if(K==null)return this.$__.activePaths.some("default");if(typeof K=="string"&&K.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(K);var ce=K;return Array.isArray(ce)||(ce=ce.split(" ")),ce.some(function(he){return oe.$__.activePaths.getStatePaths("default").hasOwnProperty(he)})},xe.prototype.$isDeleted=function(K){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!K,this)},xe.prototype.isDirectModified=function(K){var oe=this;if(K==null)return this.$__.activePaths.some("modify");if(typeof K=="string"&&K.indexOf(" ")===-1){var ce=this.$__.activePaths.getStatePaths("modify").hasOwnProperty(K);if(ce||K.indexOf(".")===-1)return ce;for(var he=K.split("."),pe=0;pe<he.length-1;++pe){var me=he.slice(0,pe+1).join("."),Ee=this.$get(me);if(Ee!=null&&Ee.$__!=null&&Ee.isDirectModified(he.slice(pe+1).join(".")))return!0}return!1}var be=K;return typeof be=="string"&&(be=be.split(" ")),be.some(function(Pe){return oe.isDirectModified(Pe)})},xe.prototype.isInit=function(K){var oe=this;if(K==null)return this.$__.activePaths.some("init");if(typeof K=="string"&&K.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(K);var ce=K;return Array.isArray(ce)||(ce=ce.split(" ")),ce.some(function(he){return oe.$__.activePaths.getStatePaths("init").hasOwnProperty(he)})},xe.prototype.isSelected=function(K){var oe=this;if(this.$__.selected==null)return!0;if(!K)return!1;if(K==="_id")return this.$__.selected._id!==0;if(K.indexOf(" ")!==-1&&(K=K.split(" ")),Array.isArray(K))return K.some(function(Oe){return oe.$__isSelected(Oe)});var ce=Object.keys(this.$__.selected),he=null;if(ce.length===1&&ce[0]==="_id")return this.$__.selected._id===0;for(var pe=0,me=ce;pe<me.length;pe++){var Ee=me[pe];if(Ee!=="_id"&&$(this.$__.selected[Ee])){he=!!this.$__.selected[Ee];break}}if(he===null)return!0;if(K in this.$__.selected)return he;for(var be=K+".",Pe=0,De=ce;Pe<De.length;Pe++){var Ae=De[Pe];if(Ae!=="_id"){if(Ae.startsWith(be))return he||Ae!==be;if(be.startsWith(Ae+"."))return he}}return!he},xe.prototype.$__isSelected=xe.prototype.isSelected,xe.prototype.isDirectSelected=function(K){var oe=this;if(this.$__.selected==null)return!0;if(K==="_id")return this.$__.selected._id!==0;if(K.indexOf(" ")!==-1&&(K=K.split(" ")),Array.isArray(K))return K.some(function(be){return oe.isDirectSelected(be)});var ce=Object.keys(this.$__.selected),he=null;if(ce.length===1&&ce[0]==="_id")return this.$__.selected._id===0;for(var pe=0,me=ce;pe<me.length;pe++){var Ee=me[pe];if(Ee!=="_id"&&$(this.$__.selected[Ee])){he=!!this.$__.selected[Ee];break}}return he===null||(this.$__.selected.hasOwnProperty(K)?he:!he)},xe.prototype.validate=function(){var K=y(c().mark(function oe(ce,he){var pe,me,Ee,be=this,Pe=arguments;return c().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(typeof ce!="function"&&typeof he!="function"&&typeof Pe[2]!="function"){De.next=2;break}throw new M("Document.prototype.validate() no longer accepts a callback");case 2:if(this.$op="validate",Pe.length===1&&(g(Pe[0])!=="object"||Array.isArray(Pe[0])||(he=Pe[0],ce=null)),he&&typeof he.pathsToSkip=="string"&&(me=he.pathsToSkip.indexOf(" ")===-1,he.pathsToSkip=me?[he.pathsToSkip]:he.pathsToSkip.split(" ")),Ee=he&&he._skipParallelValidateCheck,this.$isSubdocument!=null||(this.$__.validating&&!Ee?pe=new V(this,{parentStack:he&&he.parentStack,conflictStack:this.$__.validating.stack}):Ee||(this.$__.validating=new V(this,{parentStack:he&&he.parentStack}))),pe==null){De.next=9;break}throw pe;case 9:return De.abrupt("return",new Promise(function(Ae,Oe){be.$__validate(ce,he,function(He){if(be.$op=null,be.$__.validating=null,He!=null)return Oe(He);Ae()})}));case 10:case"end":return De.stop()}},oe,this)}));return function(oe,ce){return K.apply(this,arguments)}}(),xe.prototype.$validate=xe.prototype.validate,xe.prototype.$__validate=function(K,oe,ce){var he,pe=this;this.$__.saveOptions&&this.$__.saveOptions.pathsToSave&&!K?K=a(this.$__.saveOptions.pathsToSave):typeof K=="function"?(ce=K,oe=null,K=null):typeof oe=="function"&&(ce=oe,oe=null);var me,Ee=oe&&g(oe)==="object"&&"validateModifiedOnly"in oe,be=oe&&oe.pathsToSkip||null;me=Ee?!!oe.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var Pe=oe&&oe.validateAllPaths;if(Pe){if(be)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(K)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");if(Ee&&me)throw new TypeError("Cannot set both `validateAllPaths` and `validateModifiedOnly`")}var De,Ae,Oe=this,He=function(){var qe=pe.$__.validationError;if(pe.$__.validationError=null,pe.$__.validating=null,me&&qe!=null){for(var xt=0,Sn=Object.keys(qe.errors);xt<Sn.length;xt++){var Fe=Sn[xt];pe.$isModified(Fe)||delete qe.errors[Fe]}Object.keys(qe.errors).length===0&&(qe=void 0)}if(pe.$__.cachedRequired={},pe.$emit("validate",Oe),pe.constructor.emit("validate",Oe),qe){for(var je in qe.errors)!pe[Ye]&&qe.errors[je]instanceof M.CastError&&pe.invalidate(je,qe.errors[je]);return qe}};if(Pe){var $e,ze=h(De=new Set(Object.keys(this.$__schema.paths)));try{for(ze.s();!($e=ze.n()).done;){var et=$e.value,st=this.$__schema.path(et);if(st&&st.$isMongooseArray){var gt=this.$__getValue(et);gt&&Qn(gt,De,et)}}}catch(qe){ze.e(qe)}finally{ze.f()}De=a(De),Ae={}}else{var _t=jt(this,K,be,oe&&oe._nestedValidate);De=me?_t[0].filter(function(qe){return pe.$isModified(qe)}):_t[0],Ae=_t[1]}if(typeof K=="string"&&(K=K.split(" ")),De.length===0)return ee(function(){var qe=He();if(qe)return Oe.$__schema.s.hooks.execPost("validate:error",Oe,[Oe],{error:qe},function(xt){ce(xt)});ce(null,Oe)});var dt={},Lt=0,qt=(he=this.$__.saveOptions)===null||he===void 0?void 0:he.pathsToSave;if(Array.isArray(qt)){qt=new Set(qt);var Nn,un=h(De);try{for(un.s();!(Nn=un.n()).done;){var Rn=Nn.value;qt.has(Rn)&&Ct(Rn)}}catch(qe){un.e(qe)}finally{un.f()}}else{var Dn,Wt=h(De);try{for(Wt.s();!(Dn=Wt.n()).done;)Ct(Dn.value)}catch(qe){Wt.e(qe)}finally{Wt.f()}}function Ct(qe){qe==null||dt[qe]||(dt[qe]=!0,Lt++,ee(function(){var xt=Oe.$__schema.path(qe);if(!xt)return--Lt||An();if(Oe.$isValid(qe)){if(xt[Tt]!=null&&qe!==xt.path)return--Lt||An();var Sn,Fe=Oe.$__getValue(qe);(Sn=Oe.$populated(qe))?Fe=Sn:Fe!=null&&Fe.$__!=null&&Fe.$__.wasPopulated&&(Fe=Fe._doc._id);var je=Oe.$__.pathsToScopes!=null&&qe in Oe.$__.pathsToScopes?Oe.$__.pathsToScopes[qe]:Oe,Ze=u(u({},Ae[qe]),{},{path:qe,validateAllPaths:Pe,_nestedValidate:!0});xt.doValidate(Fe,function(vt){if(vt){if((xt.$isSingleNested||xt.$isArraySubdocument||xt.$isMongooseDocumentArray)&&vt instanceof te)return--Lt||An();Oe.invalidate(qe,vt,void 0,!0)}--Lt||An()},je,Ze)}else--Lt||An()}))}function An(){var qe=He();if(qe)return Oe.$__schema.s.hooks.execPost("validate:error",Oe,[Oe],{error:qe},function(xt){ce(xt)});ce(null,Oe)}},xe.prototype.validateSync=function(K,oe){var ce,he=this,pe=this;arguments.length!==1||g(arguments[0])!=="object"||Array.isArray(arguments[0])||(oe=arguments[0],K=null),ce=oe&&g(oe)==="object"&&"validateModifiedOnly"in oe?!!oe.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var me,Ee,be=oe&&oe.pathsToSkip,Pe=oe&&oe.validateAllPaths;if(Pe){if(be)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(K)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`")}if(typeof K=="string"){var De=K.indexOf(" ")===-1;K=De?[K]:K.split(" ")}else typeof be=="string"&&be.indexOf(" ")!==-1&&(be=be.split(" "));if(Pe){var Ae,Oe=h(me=new Set(Object.keys(this.$__schema.paths)));try{for(Oe.s();!(Ae=Oe.n()).done;){var He=Ae.value,$e=this.$__schema.path(He);if($e&&$e.$isMongooseArray){var ze=this.$__getValue(He);ze&&Qn(ze,me,He)}}}catch(Dn){Oe.e(Dn)}finally{Oe.f()}me=a(me),Ee={}}else{var et=jt(this,K,be);me=ce?et[0].filter(function(Dn){return he.$isModified(Dn)}):et[0],Ee=et[1]}for(var st={},gt=0,_t=me.length;gt<_t;++gt){var dt=me[gt];if(!st[dt]){st[dt]=!0;var Lt=pe.$__schema.path(dt);if(Lt&&pe.$isValid(dt)){var qt=pe.$__getValue(dt),Nn=Lt.doValidateSync(qt,pe,{skipSchemaValidators:Ee[dt],path:dt,validateModifiedOnly:ce,validateAllPaths:Pe});if(Nn){if((Lt.$isSingleNested||Lt.$isArraySubdocument||Lt.$isMongooseDocumentArray)&&Nn instanceof te)continue;pe.invalidate(dt,Nn,void 0,!0)}}}}var un=pe.$__.validationError;if(pe.$__.validationError=void 0,pe.$emit("validate",pe),pe.constructor.emit("validate",pe),un)for(var Rn in un.errors)un.errors[Rn]instanceof M.CastError&&pe.invalidate(Rn,un.errors[Rn]);return un},xe.prototype.invalidate=function(K,oe,ce,he){if(this.$__.validationError||(this.$__.validationError=new te(this)),!this.$__.validationError.errors[K])return oe&&typeof oe!="string"||(oe=new E({path:K,message:oe,type:he||"user defined",value:ce})),this.$__.validationError===oe||this.$__.validationError.addError(K,oe),this.$__.validationError},xe.prototype.$markValid=function(K){this.$__.validationError&&this.$__.validationError.errors[K]&&(delete this.$__.validationError.errors[K],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))},xe.prototype.$isValid=function(K){var oe=this;return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0||K!=null&&(K.indexOf(" ")!==-1&&(K=K.split(" ")),Array.isArray(K)?K.some(function(ce){return oe.$__.validationError.errors[ce]==null}):this.$__.validationError.errors[K]==null)},xe.prototype.$__reset=function(){var K,oe=this.$isSubdocument?null:this.$getAllSubdocs({useCache:!0});if(oe&&oe.length>0){var ce,he=h(oe);try{for(he.s();!(ce=he.n()).done;)ce.value.$__reset()}catch(pe){he.e(pe)}finally{he.f()}}return this.$__dirty().forEach(function(pe){var me=pe.value;me&&me[Ne]&&(me[Te]=me[Ne],me[Ne]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,K=this,this.$__schema.requiredPaths().forEach(function(pe){K.$__.activePaths.require(pe)}),this},xe.prototype.$__undoReset=function(){if(this.$__.backup!=null&&this.$__.backup.activePaths!=null){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;var K,oe=h(this.$__dirty());try{for(oe.s();!(K=oe.n()).done;){var ce=K.value.value;ce&&ce[Ne]&&ce[Te]&&(ce[Ne]=ce[Te])}}catch(me){oe.e(me)}finally{oe.f()}var he,pe=h(this.$getAllSubdocs());try{for(pe.s();!(he=pe.n()).done;)he.value.$__undoReset()}catch(me){pe.e(me)}finally{pe.f()}}},xe.prototype.$__dirty=function(){var K=this,oe=this.$__.activePaths.map("modify",function(pe){return{path:pe,value:K.$__getValue(pe),schema:K.$__path(pe)}});oe=oe.concat(this.$__.activePaths.map("default",function(pe){if(pe!=="_id"&&K.$__getValue(pe)!=null)return{path:pe,value:K.$__getValue(pe),schema:K.$__path(pe)}}));var ce=new Map(oe.filter(function(pe){return pe!=null}).map(function(pe){return[pe.path,pe.value]})),he=[];return oe.forEach(function(pe){if(pe){for(var me=null,Ee=fe(pe.path),be=0;be<Ee.length-1;be++)if(ce.has(Ee[be])){me=ce.get(Ee[be]);break}me==null?he.push(pe):me!=null&&me[Ne]!=null&&me.hasAtomics()&&(me[Ne]={},me[Ne].$set=me)}}),he},xe.prototype.$__setSchema=function(K){N(K.tree,this,void 0,K.options);for(var oe=0,ce=Object.keys(K.virtuals);oe<ce.length;oe++){var he=ce[oe];K.virtuals[he]._applyDefaultGetters()}K.path("schema")==null&&(this.schema=K),this.$__schema=K,this[Et]=K},xe.prototype.$__getArrayPathsToValidate=function(){return b||(b=o(4941)),this.$__.activePaths.map("init","modify",function(K){return this.$__getValue(K)}.bind(this)).filter(function(K){return K&&Array.isArray(K)&&se.isMongooseDocumentArray(K)&&K.length}).reduce(function(K,oe){return K.concat(oe)},[]).filter(function(K){return K})},xe.prototype.$getAllSubdocs=function(K){var oe;if(K!=null&&K.useCache&&(oe=this.$__.saveOptions)!==null&&oe!==void 0&&oe.__subdocs)return this.$__.saveOptions.__subdocs;b||(b=o(4941)),_=_||o(8578);var ce=[];return function he(pe){var me,Ee=[],be=h(pe.$__schema.childSchemas);try{for(be.s();!(me=be.n()).done;){var Pe=me.value.model,De=pe.$__getValue(Pe.path);if(De!=null){if(De.$__&&Ee.push(De),Array.isArray(De)){var Ae,Oe=h(De);try{for(Oe.s();!(Ae=Oe.n()).done;){var He=Ae.value;He!=null&&He.$__&&Ee.push(He)}}catch(_t){Oe.e(_t)}finally{Oe.f()}}if(De instanceof Map){var $e,ze=h(De.values());try{for(ze.s();!($e=ze.n()).done;){var et=$e.value;et!=null&&et.$__&&Ee.push(et)}}catch(_t){ze.e(_t)}finally{ze.f()}}}}}catch(_t){be.e(_t)}finally{be.f()}for(var st=0,gt=Ee;st<gt.length;st++)he(gt[st]);ce.push.apply(ce,Ee)}(this),this.$__.saveOptions&&(this.$__.saveOptions.__subdocs=ce),ce},xe.prototype.$__handleReject=function(K){this.$listeners("error").length?this.$emit("error",K):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",K)},xe.prototype.$toObject=function(K,oe){var ce,he,pe,me,Ee,be,Pe,De,Ae,Oe,He,$e=this.$__schema._defaultToObjectOptions(oe),ze=this.$__hasOnlyPrimitiveValues();(K=se.isPOJO(K)?u({},K):{})._calledWithOptions=K._calledWithOptions||u({},K),He=K._calledWithOptions.minimize!=null?K.minimize:$e!=null&&$e.minimize!=null?$e.minimize:this.$__schema.options.minimize,K.minimize=He,ze||(K._seen=K._seen||new Map);var et=(ce=(he=(pe=K._calledWithOptions.depopulate)!==null&&pe!==void 0?pe:$e?.depopulate)!==null&&he!==void 0?he:K.depopulate)!==null&&ce!==void 0&&ce;if(et&&K._isNested&&this.$__.wasPopulated)return T(this.$__.wasPopulated.value||this._doc._id,K);if(et&&(K.depopulate=!0),$e!=null)for(var st=0,gt=Object.keys($e);st<gt.length;st++){var _t=gt[st];K[_t]==null&&(K[_t]=$e[_t])}K._isNested=!0,K.json=oe,K.minimize=He;var dt,Lt=K._parentOptions;K._parentOptions=this.$isSubdocument?K:null,dt=ze&&!K.flattenObjectIds?this.$__toObjectShallow():T(this._doc,K)||{};var qt=(me=(Ee=(be=K._calledWithOptions.getters)!==null&&be!==void 0?be:K.getters)!==null&&Ee!==void 0?Ee:$e.getters)!==null&&me!==void 0&&me;qt&&(function(Wt,Ct){var An,qe,xt=Wt.$__schema,Sn=Object.keys(xt.paths),Fe=Sn.length,je=Wt._doc;if(!je)return Ct;for(;Fe--;){var Ze=(An=Sn[Fe]).split("."),vt=Ze.length,ct=vt-1,Xe=Ct,Ot=void 0;if(je=Wt._doc,Wt.$__isSelected(An))for(var Vt=0;Vt<vt&&(qe=je[Ot=Ze[Vt]],Xe==null||g(Xe)==="object");++Vt){if(Vt===ct){if(Xe[Ot]=xt.paths[An].applyGetters(Xe[Ot],Wt),Array.isArray(Xe[Ot])&&xt.paths[An].$embeddedSchemaType)for(var ln=0;ln<Xe[Ot].length;++ln)Xe[Ot][ln]=xt.paths[An].$embeddedSchemaType.applyGetters(Xe[Ot][ln],Wt)}else{if(qe==null){Ot in je&&(Xe[Ot]=qe);break}Xe=Xe[Ot]||(Xe[Ot]={})}je=qe}}}(this,dt),K.minimize&&(dt=re(dt)||{}));var Nn=(Pe=(De=(Ae=K._calledWithOptions.virtuals)!==null&&Ae!==void 0?Ae:$e.virtuals)!==null&&De!==void 0?De:Lt?.virtuals)!==null&&Pe!==void 0?Pe:void 0;(Nn||qt&&Nn!==!1)&&zt(this,dt,K,K),K.versionKey===!1&&this.$__schema.options.versionKey&&delete dt[this.$__schema.options.versionKey];var un=(Oe=K._calledWithOptions.transform)===null||Oe===void 0||Oe,Rn=void 0;if(un===!0?Rn=$e.transform:typeof un=="function"&&(Rn=un),un&&function(Wt,Ct){var An=Wt.$__schema,qe=Object.keys(An.paths||{});if(!Wt._doc)return Ct;for(var xt=0,Sn=qe;xt<Sn.length;xt++){var Fe=Sn[xt],je=An.paths[Fe];if(typeof je.options.transform=="function"){var Ze=Wt.$get(Fe);if(Ze===void 0)continue;var vt=je.options.transform.call(Wt,Ze);Ut(Fe,vt),se.setValue(Fe,vt,Ct)}else if(je.$embeddedSchemaType!=null&&typeof je.$embeddedSchemaType.options.transform=="function"){var ct=Wt.$get(Fe);if(ct===void 0)continue;for(var Xe=[].concat(ct),Ot=je.$embeddedSchemaType.options.transform,Vt=0;Vt<Xe.length;++Vt){var ln=Ot.call(Wt,Xe[Vt]);Xe[Vt]=ln,Ut(Fe,ln)}Ct[Fe]=Xe}}}(this,dt),K.useProjection&&function(Wt,Ct){var An=Wt.$__schema,qe=Object.keys(An.paths||{});if(!Wt._doc)return Ct;var xt=Wt.$__.selected;if(xt===void 0&&(xt={},de.applyPaths(xt,An)),xt==null||Object.keys(xt).length===0)return Ct;for(var Sn=0,Fe=qe;Sn<Fe.length;Sn++){var je=Fe[Sn];xt[je]==null||xt[je]||delete Ct[je]}}(this,dt),typeof Rn=="function"){var Dn=Rn(this,dt,K);Dn!==void 0&&(dt=Dn)}return dt},xe.prototype.$__toObjectShallow=function(){var K={};if(this._doc!=null)for(var oe=0,ce=Object.keys(this._doc);oe<ce.length;oe++){var he=ce[oe],pe=this._doc[he];pe instanceof Date?K[he]=new Date(pe):pe!==void 0&&(K[he]=pe)}return K},xe.prototype.toObject=function(K){return this.$toObject(K)},xe.prototype.toJSON=function(K){return this.$toObject(K,!0)},xe.prototype.ownerDocument=function(){return this},xe.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this},xe.prototype.$parent=xe.prototype.parent,xe.prototype.inspect=function(K){var oe;se.isPOJO(K)&&((oe=K).minimize=!1);var ce=arguments.length>0?this.toObject(oe):this.toObject();return ce??"MongooseDocument { "+ce+" }"},ae.custom&&(xe.prototype[ae.custom]=xe.prototype.inspect),xe.prototype.toString=function(){var K=this.inspect();return typeof K=="string"?K:ae(K)},xe.prototype.equals=function(K){if(!K)return!1;var oe=this.$__getValue("_id"),ce=K.$__!=null?K.$__getValue("_id"):K;return oe||ce?oe&&oe.equals?oe.equals(ce):oe===ce:Ce(this,K)},xe.prototype.populate=function(){var K=y(c().mark(function oe(){var ce,he,pe,me,Ee,be,Pe,De,Ae,Oe,He=arguments;return c().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(ce={},typeof(he=Array.prototype.slice.call(He))[he.length-1]!="function"){$e.next=4;break}throw new M("Document.prototype.populate() no longer accepts a callback");case 4:if(he.length!==0){pe=se.populate.apply(null,he),me=h(pe);try{for(me.s();!(Ee=me.n()).done;)be=Ee.value,ce[be.path]=be}catch(ze){me.e(ze)}finally{me.f()}}return Pe=se.object.vals(ce),De=this.constructor,this.$__isNested&&(De=this.$__[pt].constructor,Ae=this.$__.nestedPath,Pe.forEach(function(ze){ze.path=Ae+"."+ze.path})),this.$session()!=null&&(Oe=this.$session(),Pe.forEach(function(ze){ze.options!=null?"session"in ze.options||(ze.options.session=Oe):ze.options={session:Oe}})),Pe.forEach(function(ze){ze._localModel=De}),$e.abrupt("return",De.populate(this,Pe));case 11:case"end":return $e.stop()}},oe,this)}));return function(){return K.apply(this,arguments)}}(),xe.prototype.$getPopulatedDocs=function(){var K=[];this.$__.populated!=null&&(K=K.concat(Object.keys(this.$__.populated)));var oe,ce=[],he=h(K);try{for(he.s();!(oe=he.n()).done;){var pe=oe.value,me=this.$get(pe);Array.isArray(me)?ce=ce.concat(me):me instanceof xe&&ce.push(me)}}catch(Ee){he.e(Ee)}finally{he.f()}return ce},xe.prototype.populated=function(K,oe,ce){if(oe==null||oe===!0){if(!this.$__.populated||typeof K!="string")return;var he=K.endsWith(".$*")?K.replace(/\.\$\*$/,""):K,pe=this.$__.populated[he];return pe?oe===!0?pe:pe.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[K]={value:oe,options:ce};for(var me=K.split("."),Ee=0;Ee<me.length-1;++Ee){var be=me.slice(0,Ee+1).join("."),Pe=this.$get(be);if(Pe!=null&&Pe.$__!=null&&this.$populated(be)){var De=me.slice(Ee+1).join(".");Pe.$populated(De,oe,ce);break}}return oe},xe.prototype.$populated=xe.prototype.populated,xe.prototype.$assertPopulated=function(K,oe){var ce=this;if(Array.isArray(K))return K.forEach(function(he){return ce.$assertPopulated(he,oe)}),this;if(arguments.length>1&&this.$set(oe),!this.$populated(K))throw new M('Expected path "'.concat(K,'" to be populated'));return this},xe.prototype.depopulate=function(K){var oe;typeof K=="string"&&(K=K.indexOf(" ")===-1?[K]:K.split(" "));var ce=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],he=this.$__&&this.$__.populated||{};if(arguments.length===0){var pe,me=h(ce);try{for(me.s();!(pe=me.n()).done;){var Ee=pe.value;delete this.$$populatedVirtuals[Ee],delete this._doc[Ee],delete he[Ee]}}catch(qt){me.e(qt)}finally{me.f()}for(var be=0,Pe=Object.keys(he);be<Pe.length;be++){var De=Pe[be];if(oe=this.$populated(De))if(delete he[De],Array.isArray(oe)){var Ae=se.getValue(De,this._doc);if(Ae.isMongooseArray)for(var Oe=Ae.__array,He=0;He<Oe.length;++He){var $e=Oe[He];$e!=null&&(Oe[He]=$e instanceof xe?$e._doc._id:$e._id)}else se.setValue(De,oe,this._doc)}else se.setValue(De,oe,this._doc)}return this}var ze,et=h(K);try{for(et.s();!(ze=et.n()).done;){var st=ze.value;if(oe=this.$populated(st),delete he[st],ce.indexOf(st)!==-1)delete this.$$populatedVirtuals[st],delete this._doc[st];else if(oe)if(Array.isArray(oe)){var gt=se.getValue(st,this._doc);if(gt.isMongooseArray)for(var _t=gt.__array,dt=0;dt<_t.length;++dt){var Lt=_t[dt];Lt!=null&&(_t[dt]=Lt instanceof xe?Lt._doc._id:Lt._id)}else se.setValue(st,oe,this._doc)}else se.setValue(st,oe,this._doc)}}catch(qt){et.e(qt)}finally{et.f()}return this},xe.prototype.$__fullPath=function(K){return K||""},xe.prototype.getChanges=function(){var K=this.$__delta();return K?K[1]:{}},xe.prototype.$__delta=function(){var K=this,oe=this.$__dirty(),ce=this.$__schema.options.optimisticConcurrency;if(ce)if(Array.isArray(ce)){var he=new Set(ce);this.modifiedPaths().find(function(st){return he.has(st)})&&(this.$__.version=oe.length?3:1)}else this.$__.version=oe.length?3:1;if(oe.length||this.$__.version===3){var pe={},me={},Ee=oe.length,be=[],Pe=0;for(pe._id=this._doc._id,(pe&&pe._id&&pe._id.$__||null)!=null&&(pe._id=pe._id.toObject({transform:!1,depopulate:!0}));Pe<Ee;++Pe){var De=oe[Pe],Ae=De.value,Oe=Jr(this,De.path,Ae);if(Oe)be.push(Oe);else{if(!this.$populated(De.path,!0)&&this.$__.selected){var He=De.path.split("."),$e=He[0];if(this.$__.selected[$e]&&this.$__.selected[$e].$elemMatch){if(!(He.length>1&&He[1]==0&&pe[$e]===void 0)){be.push(De.path);continue}pe[$e]=this.$__.selected[$e],He[1]="$",De.path=He.join(".")}}if(this.$isDefault(De.path)&&this.$__.selected&&(De.path.indexOf(".")===-1&&ie(this.$__.selected,De.path)||fe(De.path).find(function(st){return ie(K.$__.isSelected,st)})))continue;if(!be.length)if(Ae===void 0)pn(this,0,me,De,1,"$unset");else if(Ae===null)pn(this,0,me,De,null);else if(se.isMongooseArray(Ae)&&Ae.$path()&&Ae[Ne])Mn(this,0,me,De,Ae);else if(Ae[x.pathSymbol]&&s.isBuffer(Ae))pn(this,0,me,De,Ae=Ae.toObject());else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[De.path]!=null){var ze=this.$__.primitiveAtomics[De.path],et=H(ze);pn(this,0,me,De,ze[et],et)}else pn(this,0,me,De,Ae=T(Ae,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}))}}return be.length?new S(be):(this.$__.version&&this.$__version(pe,me),Object.keys(me).length===0?[pe,null]:[pe,me])}},xe.prototype.$clone=function(){var K=new this.constructor;if(K.$isNew=this.$isNew,this._doc&&(K._doc=T(this._doc,{retainDocuments:!0})),this.$__){var oe,ce=new this.$__.constructor,he=h(Object.getOwnPropertyNames(this.$__));try{for(he.s();!(oe=he.n()).done;){var pe=oe.value;pe!=="activePaths"&&(ce[pe]=T(this.$__[pe]))}}catch(me){he.e(me)}finally{he.f()}Object.assign(ce.activePaths,T(u({},this.$__.activePaths))),K.$__=ce}return K},xe.prototype.$createModifiedPathsSnapshot=function(){var K=new WeakMap;if(!this.$isSubdocument){var oe,ce=h(this.$getAllSubdocs());try{for(ce.s();!(oe=ce.n()).done;){var he=oe.value;K.set(he,he.$__.activePaths.clone())}}catch(pe){ce.e(pe)}finally{ce.f()}}return new k(K,this.$__.activePaths.clone(),this.$__.version)},xe.prototype.$restoreModifiedPathsSnapshot=function(K){if(this.$__.activePaths=K.activePaths.clone(),this.$__.version=K.version,!this.$isSubdocument){var oe,ce=h(this.$getAllSubdocs());try{for(ce.s();!(oe=ce.n()).done;){var he=oe.value;K.subdocSnapshot.has(he)&&(he.$__.activePaths=K.subdocSnapshot.get(he))}}catch(pe){ce.e(pe)}finally{ce.f()}}return this},xe.prototype.$clearModifiedPaths=function(){if(this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("init"),this.$__.version=0,!this.$isSubdocument){var K,oe=h(this.$getAllSubdocs());try{for(oe.s();!(K=oe.n()).done;)K.value.$clearModifiedPaths()}catch(ce){oe.e(ce)}finally{oe.f()}}return this},xe.prototype.$__hasOnlyPrimitiveValues=function(){return!this.$__.populated&&!this.$__.wasPopulated&&(this._doc==null||Object.values(this._doc).every(function(K){return K==null||g(K)!=="object"||se.isNativeObject(K)&&!Array.isArray(K)||R(K,"ObjectId")||R(K,"Decimal128")}))},xe.VERSION_WHERE=1,xe.VERSION_INC=2,xe.VERSION_ALL=3,xe.ValidationError=te,r.exports=xe},3300:(r,i,o)=>{"use strict";var s=o(3293),a=o(6024),c=!1;r.exports=function(){return c?a:s},r.exports.setBrowser=function(f){c=f}},8582:r=>{"use strict";var i=null;r.exports.get=function(){return i},r.exports.set=function(o){i=o}},5221:(r,i)=>{"use strict";i.Collection=function(){throw new Error("Cannot create a collection from browser library")},i.Connection=function(){throw new Error("Cannot create a connection from browser library")}},6148:(r,i,o)=>{"use strict";function s(S){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s(S)}function a(S,w){for(var D=0;D<w.length;D++){var x=w[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,c(x.key),x)}}function c(S){var w=function(D){if(s(D)!="object"||!D)return D;var x=D[Symbol.toPrimitive];if(x!==void 0){var M=x.call(D,"string");if(s(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(S);return s(w)=="symbol"?w:w+""}function f(S,w,D){return w=u(w),function(x,M){if(M&&(s(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(x)}(S,m()?Reflect.construct(w,D||[],u(S).constructor):w.apply(S,D))}function y(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function m(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m=function(){return!!S})()}function u(S){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},u(S)}function l(S,w){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,x){return D.__proto__=x,D},l(S,w)}var h=o(7026),d=o(7352),p=function(S){function w(M,P,k,B,L){var V;if(function(ne,te){if(!(ne instanceof te))throw new TypeError("Cannot call a class as a function")}(this,w),arguments.length>0){var Q=b(P);(V=f(this,w,[_(null,M,P,k,v(L),Q,B)])).init(M,P,k,B,L)}else V=f(this,w,[_()]);return y(V)}return function(M,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(P&&P.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),P&&l(M,P)}(w,S),D=w,(x=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(M,P,k,B,L){this.stringValue=g(P),this.messageFormat=v(L),this.kind=M,this.value=P,this.path=k,this.reason=B,this.valueType=b(P)}},{key:"copy",value:function(M){this.messageFormat=M.messageFormat,this.stringValue=M.stringValue,this.kind=M.kind,this.value=M.value,this.path=M.path,this.reason=M.reason,this.message=M.message,this.valueType=M.valueType}},{key:"setModel",value:function(M){this.message=_(M,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}])&&a(D.prototype,x),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,x}(h);function g(S){var w=d.inspect(S);return(w=w.replace(/^'|'$/g,'"')).startsWith('"')||(w='"'+w+'"'),w}function b(S){if(S==null)return""+S;var w=s(S);return w!=="object"||typeof S.constructor!="function"?w:S.constructor.name}function v(S){var w=S&&S._castErrorMessage||null;if(typeof w=="string"||typeof w=="function")return w}function _(S,w,D,x,M,P,k){if(typeof M=="string"){var B=g(D),L=M.replace("{KIND}",w).replace("{VALUE}",B).replace("{PATH}",x);return S!=null&&(L=L.replace("{MODEL}",S.modelName)),L}if(typeof M=="function")return M(D,x,S,w);var V="Cast to "+w+" failed for value "+g(D)+(P?" (type "+P+")":"")+' at path "'+x+'"';return S!=null&&(V+=' for model "'+S.modelName+'"'),k!=null&&typeof k.constructor=="function"&&k.constructor.name!=="AssertionError"&&k.constructor.name!=="Error"&&(V+=' because of "'+k.constructor.name+'"'),V}Object.defineProperty(p.prototype,"name",{value:"CastError"}),r.exports=p},6432:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,u),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,u,["For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+h.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"DivergentArrayError"}),r.exports=y},9507:(r,i,o)=>{"use strict";var s=o(7026);r.exports=s,s.messages=o(467),s.Messages=s.messages,s.DocumentNotFoundError=o(8128),s.CastError=o(6148),s.ValidationError=o(5368),s.ValidatorError=o(8393),s.VersionError=o(587),s.ParallelSaveError=o(5597),s.OverwriteModelError=o(2597),s.MissingSchemaError=o(8320),s.MongooseServerSelectionError=o(6156),s.DivergentArrayError=o(6432),s.StrictModeError=o(6166),s.StrictPopulateError=o(3232)},9662:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h,d){return function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}(this,u),function(p,g,b){return g=c(g),function(v,_){if(_&&(s(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(v)}(p,a()?Reflect.construct(g,b||[],c(p).constructor):g.apply(p,b))}(this,u,['Cannot create use schema for property "'.concat(h,'" because the schema has the ').concat(d," option enabled.")])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"InvalidSchemaOptionError"}),r.exports=y},467:(r,i)=>{"use strict";var o=r.exports={};o.DocumentNotFoundError=null,o.general={},o.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",o.general.required="Path `{PATH}` is required.",o.Number={},o.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",o.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",o.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",o.Date={},o.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",o.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",o.String={},o.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",o.String.match="Path `{PATH}` is invalid ({VALUE}).",o.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",o.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},8320:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,u),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,u,[`Schema hasn't been registered for model "`+h+`".
Use mongoose.model(name, schema)`])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"MissingSchemaError"}),r.exports=y},7026:r=>{"use strict";function i(y){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i(y)}function o(y){var m=typeof Map=="function"?new Map:void 0;return o=function(u){if(u===null||!function(h){try{return Function.toString.call(h).indexOf("[native code]")!==-1}catch{return typeof h=="function"}}(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(u))return m.get(u);m.set(u,l)}function l(){return function(h,d,p){if(s())return Reflect.construct.apply(null,arguments);var g=[null];g.push.apply(g,d);var b=new(h.bind.apply(h,g));return p&&a(b,p.prototype),b}(u,arguments,c(this).constructor)}return l.prototype=Object.create(u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a(l,u)},o(y)}function s(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s=function(){return!!y})()}function a(y,m){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,l){return u.__proto__=l,u},a(y,m)}function c(y){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},c(y)}var f=function(y){function m(){return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),function(l,h,d){return h=c(h),function(p,g){if(g&&(i(g)=="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(p)}(l,s()?Reflect.construct(h,d||[],c(l).constructor):h.apply(l,d))}(this,m,arguments)}return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),h&&a(l,h)}(m,y),u=m,Object.defineProperty(u,"prototype",{writable:!1}),u;var u}(o(Error));Object.defineProperty(f.prototype,"name",{value:"MongooseError"}),r.exports=f},8128:(r,i,o)=>{"use strict";function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(l)}function a(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!l})()}function c(l){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(l)}function f(l,h){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,p){return d.__proto__=p,d},f(l,h)}var y=o(7026),m=o(7352),u=function(l){function h(p,g,b,v){var _;(function(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")})(this,h);var S=y.messages;return(_=function(w,D,x){return D=c(D),function(M,P){if(P&&(s(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(M)}(w,a()?Reflect.construct(D,x||[],c(w).constructor):D.apply(w,x))}(this,h,[S.DocumentNotFoundError!=null?typeof S.DocumentNotFoundError=="function"?S.DocumentNotFoundError(p,g):S.DocumentNotFoundError:'No document found for query "'+m.inspect(p)+'" on model "'+g+'"'])).result=v,_.numAffected=b,_.filter=p,_.query=p,_}return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),g&&f(p,g)}(h,l),d=h,Object.defineProperty(d,"prototype",{writable:!1}),d;var d}(y);Object.defineProperty(u.prototype,"name",{value:"DocumentNotFoundError"}),r.exports=u},2260:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h,d){var p;(function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")})(this,u);var g=Array.isArray(d)?"array":"primitive value";return(p=function(b,v,_){return v=c(v),function(S,w){if(w&&(s(w)=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(S)}(b,a()?Reflect.construct(v,_||[],c(b).constructor):v.apply(b,_))}(this,u,["Tried to set nested object field `"+h+"` to ".concat(g," `")+d+"`"])).path=h,p}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"ObjectExpectedError"}),r.exports=y},1857:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h,d,p){return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,u),function(g,b,v){return b=c(b),function(_,S){if(S&&(s(S)=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(_)}(g,a()?Reflect.construct(b,v||[],c(g).constructor):b.apply(g,v))}(this,u,['Parameter "'+d+'" to '+p+'() must be an object, got "'+h.toString()+'" (type '+s(h)+")"])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"ObjectParameterError"}),r.exports=y},2597:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,u),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,u,["Cannot overwrite `"+h+"` model once compiled."])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"OverwriteModelError"}),r.exports=y},5597:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,u),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,u,["Can't save() the same doc multiple times in parallel. Document: "+h._doc._id])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"ParallelSaveError"}),r.exports=y},3810:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,u),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,u,["Can't validate() the same doc multiple times in parallel. Document: "+h._doc._id])}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"ParallelValidateError"}),r.exports=y},6156:(r,i,o)=>{"use strict";function s(g){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(g)}function a(g,b){for(var v=0;v<b.length;v++){var _=b[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,c(_.key),_)}}function c(g){var b=function(v){if(s(v)!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var S=_.call(v,"string");if(s(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(g);return s(b)=="symbol"?b:b+""}function f(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!g})()}function y(g){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},y(g)}function m(g,b){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,_){return v.__proto__=_,v},m(g,b)}var u=o(7026),l=o(8437),h=o(3343),d=o(2078),p=function(g){function b(){return function(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}(this,b),function(S,w,D){return w=y(w),function(x,M){if(M&&(s(M)=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(x)}(S,f()?Reflect.construct(w,D||[],y(S).constructor):w.apply(S,D))}(this,b,arguments)}return function(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),w&&m(S,w)}(b,g),v=b,(_=[{key:"assimilateError",value:function(S){var w=S.reason,D=h(w)&&l(w)&&S.message.indexOf("bad auth")===-1&&S.message.indexOf("Authentication failed")===-1;for(var x in D?this.message="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/":d(w)?this.message="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html":this.message=S.message,S)x!=="name"&&(this[x]=S[x]);return this}}])&&a(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,_}(u);Object.defineProperty(p.prototype,"name",{value:"MongooseServerSelectionError"}),r.exports=p},6166:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h,d,p){var g;return function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),(g=function(b,v,_){return v=c(v),function(S,w){if(w&&(s(w)=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(S)}(b,a()?Reflect.construct(v,_||[],c(b).constructor):v.apply(b,_))}(this,u,[d=d||"Field `"+h+"` is not in schema and strict mode is set to throw."])).isImmutableError=!!p,g.path=h,g}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"StrictModeError"}),r.exports=y},3232:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h,d){var p;return function(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}(this,u),(p=function(g,b,v){return b=c(b),function(_,S){if(S&&(s(S)=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(_)}(g,a()?Reflect.construct(b,v||[],c(g).constructor):b.apply(g,v))}(this,u,[d=d||"Cannot populate path `"+h+"` because it is not in your schema. Set the `strictPopulate` option to false to override."])).path=h,p}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"StrictPopulateError"}),r.exports=y},5368:(r,i,o)=>{"use strict";function s(g){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(g)}function a(g,b){for(var v=0;v<b.length;v++){var _=b[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,c(_.key),_)}}function c(g){var b=function(v){if(s(v)!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var S=_.call(v,"string");if(s(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(g);return s(b)=="symbol"?b:b+""}function f(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!g})()}function y(g){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},y(g)}function m(g,b){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,_){return v.__proto__=_,v},m(g,b)}var u=o(7026),l=o(5857),h=o(7352),d=o(1892),p=function(g){function b(S){var w,D;return function(x,M){if(!(x instanceof M))throw new TypeError("Cannot call a class as a function")}(this,b),(w=function(x,M,P){return M=y(M),function(k,B){if(B&&(s(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}(k)}(x,f()?Reflect.construct(M,P||[],y(x).constructor):M.apply(x,P))}(this,b,[D=l(S)==="model"?S.constructor.modelName+" validation failed":"Validation failed"])).errors={},w._message=D,S&&(S.$errors=w.errors),w}return function(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),w&&m(S,w)}(b,g),v=b,(_=[{key:"toString",value:function(){return this.name+": "+d(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(S,w){if(w instanceof b)for(var D=w.errors,x=0,M=Object.keys(D);x<M.length;x++){var P=M[x];this.addError("".concat(S,".").concat(P),D[P])}else this.errors[S]=w,this.message=this._message+": "+d(this)}}])&&a(v.prototype,_),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,_}(u);h.inspect.custom&&(p.prototype[h.inspect.custom]=p.prototype.inspect),Object.defineProperty(p.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(p.prototype,"name",{value:"ValidationError"}),r.exports=p},8393:(r,i,o)=>{"use strict";function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}function a(d,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,c(b.key),b)}}function c(d){var p=function(g){if(s(g)!="object"||!g)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var v=b.call(g,"string");if(s(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(d);return s(p)=="symbol"?p:p+""}function f(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!d})()}function y(d){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},y(d)}function m(d,p){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},m(d,p)}var u=o(7026),l=function(d){function p(v,_){var S;(function(x,M){if(!(x instanceof M))throw new TypeError("Cannot call a class as a function")})(this,p);var w=v.message;w||(w=u.messages.general.default);var D=h(w,v,_);return S=function(x,M,P){return M=y(M),function(k,B){if(B&&(s(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}(k)}(x,f()?Reflect.construct(M,P||[],y(x).constructor):M.apply(x,P))}(this,p,[D]),v=Object.assign({},v,{message:D}),S.properties=v,S.kind=v.type,S.path=v.path,S.value=v.value,S.reason=v.reason,S}return function(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),_&&m(v,_)}(p,d),g=p,(b=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&a(g.prototype,b),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,b}(u);function h(d,p,g){if(typeof d=="function")return d(p,g);for(var b=0,v=Object.keys(p);b<v.length;b++){var _=v[b];_!=="message"&&(d=d.replace("{"+_.toUpperCase()+"}",p[_]))}return d}Object.defineProperty(l.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(l.prototype,"properties",{enumerable:!1,writable:!0,value:null}),l.prototype.formatMessage=h,r.exports=l},587:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}function a(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},c(m)}function f(m,u){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},f(m,u)}var y=function(m){function u(h,d,p){var g;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,u);var b=p.join(", ");return(g=function(v,_,S){return _=c(_),function(w,D){if(D&&(s(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(w)}(v,a()?Reflect.construct(_,S||[],c(v).constructor):_.apply(v,S))}(this,u,['No matching document found for id "'+h._doc._id+'" version '+d+' modifiedPaths "'+b+'"'])).version=d,g.modifiedPaths=p,g}return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),d&&f(h,d)}(u,m),l=u,Object.defineProperty(l,"prototype",{writable:!1}),l;var l}(o(7026));Object.defineProperty(y.prototype,"name",{value:"VersionError"}),r.exports=y},3164:r=>{"use strict";r.exports=function i(o){if(!Array.isArray(o))return{min:0,max:0,containsNonArrayItem:!0};if(o.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(o.length===1&&!Array.isArray(o[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var s=i(o[0]),a=1;a<o.length;++a){var c=i(o[a]);c.min<s.min&&(s.min=c.min),c.max>s.max&&(s.max=c.max),s.containsNonArrayItem=s.containsNonArrayItem||c.containsNonArrayItem}return s.min=s.min+1,s.max=s.max+1,s}},1829:(r,i,o)=>{"use strict";function s(S){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s(S)}var a=o(9394),c=o(6704),f=o(8150),y=o(6504),m=o(5515),u=o(2128),l=o(9240).isMongooseArray,h=o(4797),d=o(6288),p=o(5625),g=o(3692).trustedSymbol,b=o(3633);function v(S,w,D){if(S==null)return S;if(u(S,"Double"))return new b.Double(S.value);if(typeof S=="number"||typeof S=="string"||typeof S=="boolean"||typeof S=="bigint")return S;if(Array.isArray(S))return function(B,L){var V=0,Q=B.length,ne=new Array(Q);for(V=0;V<Q;++V)ne[V]=v(B[V],L,!0);return ne}(l(S)?S.__array:S,w);if(y(S)){if(w&&w.retainDocuments&&S.$__!=null){var x=S.$clone();return S.__index!=null&&(x.__index=S.__index),S.__parentArray!=null&&(x.__parentArray=S.__parentArray),x.$__parent=S.$__parent,x}var M,P=S.$isSingleNested;return d(S)&&S.$__!=null&&S._doc!=null?S._doc:(M=w&&w.json&&typeof S.toJSON=="function"?S.toJSON(w):S.toObject(w),w&&w.minimize&&!S.constructor.$__required&&P&&Object.keys(M).length===0?void 0:M)}var k=S.constructor;if(k)switch(m(k)){case"Object":return _(S,w,D);case"Date":return new k(+S);case"RegExp":return function(B){var L=new RegExp(B.source,B.flags);return L.lastIndex!==B.lastIndex&&(L.lastIndex=B.lastIndex),L}(S)}return u(S,"ObjectId")?w&&w.flattenObjectIds?S.toJSON():new c(S.id):u(S,"Decimal128")?w&&w.flattenDecimals?S.toJSON():a.fromString(S.toString()):!k&&h(S)?_(S,w,D):s(S)==="object"&&S[p.schemaTypeSymbol]?S.clone():w&&w.bson&&typeof S.toBSON=="function"?S:typeof S.valueOf=="function"?S.valueOf():_(S,w,D)}function _(S,w,D){var x,M=w&&w.minimize,P=w&&w.omitUndefined,k=w&&w._seen,B={};if(k&&k.has(S))return k.get(S);k&&k.set(S,B),g in S&&(B[g]=S[g]);for(var L=Object.keys(S),V=L.length,Q=0;Q<V;++Q){var ne=L[Q];if(!f.has(ne)){var te=v(S[ne],w,!1);M!==!1&&!P||te!==void 0?M===!0&&te===void 0||(x||(x=!0),B[ne]=te):delete B[ne]}}return M&&!D?x&&B:B}r.exports=v},9563:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(u){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(u)}var c=o(3633).Binary,f=o(2128),y=o(6504);o(9507),o(7352);function m(u){return u&&a(u)==="object"&&!(u instanceof Date)&&!f(u,"ObjectId")&&(!Array.isArray(u)||u.length!==0)&&!(u instanceof s)&&!f(u,"Decimal128")&&!(u instanceof c)}i.B=function u(l,h,d,p){var g,b=(g=l&&y(l)&&!s.isBuffer(l)?Object.keys(l.toObject({transform:!1,virtuals:!1})||{}):Object.keys(l||{})).length,v={};h=h?h+".":"";for(var _=0;_<b;++_){var S=g[_],w=l[S];v[h+S]=w;var D=p&&p.path&&p.path(h+S),x=p&&p.nested&&p.nested[h+S];if(!D||D.instance!=="Mixed"){if(m(w)){if(d&&d.skipArrays&&Array.isArray(w))continue;var M=u(w,h+S,d,p);for(var P in M)v[P]=M[P];Array.isArray(w)&&(v[h+S]=w)}if(x)for(var k=0,B=Object.keys(p.paths);k<B.length;k++){var L=B[k];L.startsWith(h+S+".")&&!v.hasOwnProperty(L)&&(v[L]=void 0)}}}return v}},7603:(r,i,o)=>{"use strict";var s=o(2128);r.exports=function(a,c){return typeof a=="string"&&typeof c=="string"||typeof a=="number"&&typeof c=="number"?a===c:!(!s(a,"ObjectId")||!s(c,"ObjectId"))&&a.toString()===c.toString()}},967:r=>{"use strict";r.exports=function(i,o,s,a,c){var f=Object.keys(i).reduce(function(m,u){return m||u.startsWith(o+".")},!1),y=o+"."+s.options.discriminatorKey;f||c.length!==1||c[0]!==y||a.splice(a.indexOf(y),1)}},371:(r,i,o)=>{"use strict";var s=o(7785);r.exports=function(a,c,f){var y=a.schema.options.discriminatorKey,m=c!=null&&c[y];if(m==null&&(m=f),a.discriminators&&m!=null)if(a.discriminators[m])a=a.discriminators[m];else{var u=s(a.discriminators,m);u&&(a=u)}return a}},7785:(r,i,o)=>{"use strict";var s=o(7603);r.exports=function(a,c){if(a==null)return null;for(var f=0,y=Object.keys(a);f<y.length;f++){var m=a[y[f]];if(m.schema&&m.schema.discriminatorMapping&&s(m.schema.discriminatorMapping.value,c))return m}return null}},1654:(r,i,o)=>{"use strict";var s=o(7603);r.exports=function(a,c){if(a==null||a.discriminators==null)return null;for(var f=0,y=Object.keys(a.discriminators);f<y.length;f++){var m=y[f],u=a.discriminators[m];if(u.discriminatorMapping!=null&&s(u.discriminatorMapping.value,c))return u}return null}},8836:(r,i,o)=>{"use strict";var s=o(5682),a=o(8150),c=o(2128),f=o(6704),y=o(4797);r.exports=function m(u,l,h,d){var p,g=Object.keys(l),b=0,v=g.length;if(h=h||"",!(d=d||new WeakSet).has(l)){for(d.add(l);b<v;)if(p=g[b++],(h||p!=="discriminators"&&p!=="base"&&p!=="_applyDiscriminators"&&p!=="_userProvidedOptions"&&p!=="options"&&p!=="tree")&&!(h==="tree"&&l!=null&&l.instanceOfSchema||a.has(p))){if(u[p]==null)u[p]=l[p];else if(y(l[p])){if(y(u[p])||(u[p]={}),l[p]!=null){if(l[p].$isSingleNested&&u[p].$isMongooseDocumentArray||l[p].$isMongooseDocumentArray&&u[p].$isSingleNested||l[p].$isMongooseDocumentArrayElement&&u[p].$isMongooseDocumentArrayElement)continue;if(l[p].instanceOfSchema){u[p].instanceOfSchema?s(u[p],l[p].clone(),!0):u[p]=l[p].clone();continue}if(c(l[p],"ObjectId")){u[p]=new f(l[p]);continue}}m(u[p],l[p],h?h+"."+p:p,d)}}l!=null&&l.instanceOfSchema&&(u.tree=Object.assign({},l.tree,u.tree))}}},6690:(r,i,o)=>{"use strict";var s=o(180);function a(c,f,y){c.$__.activePaths.default(f),!y&&c.$isSubdocument&&c.$isSingleNested&&c.$parent()!=null&&c.$parent().$__.activePaths.default(c.$__pathRelativeToParent(f))}r.exports=function(c,f,y,m,u,l,h){for(var d=Object.keys(c.$__schema.paths),p=d.length,g=h&&h.skipParentChangeTracking,b=0;b<p;++b){var v=void 0,_="",S=d[b];if(S!=="_id"||!c.$__.skipId)for(var w=c.$__schema.paths[S],D=w.splitPath(),x=D.length,M=!1,P=c._doc,k=0;k<x&&P!=null;++k){var B=D[k];if(_+=(_.length?".":"")+B,y===!0){if(_ in f)break}else if(y===!1&&f&&!M){var L=w.$isSingleNested||w.$isMongooseDocumentArray;if(_ in f&&!s(f[_])||k===x-1&&L&&m!=null&&m[_])M=!0;else if(m!=null&&!m[_])break}if(k===x-1){if(P[B]!==void 0)break;if(u!=null){if(typeof w.defaultValue=="function"){if(!w.defaultValue.$runBeforeSetters&&u||w.defaultValue.$runBeforeSetters&&!u)break}else if(!u)continue}if(l&&l[_])break;if(f&&y!==null){if(y===!0){if(S in f)continue;try{v=w.getDefault(c,!1)}catch(V){c.invalidate(S,V);break}v!==void 0&&(P[B]=v,a(c,S,g))}else if(M){try{v=w.getDefault(c,!1)}catch(V){c.invalidate(S,V);break}v!==void 0&&(P[B]=v,a(c,S,g))}}else{try{v=w.getDefault(c,!1)}catch(V){c.invalidate(S,V);break}v!==void 0&&(P[B]=v,a(c,S,g))}}else P=P[B]}}}},8208:r=>{"use strict";function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(a.has(o))throw new Error("Infinite subdocument loop: subdoc with _id "+o._id+" is a parent of itself");var c=o.$parent(),f=o.$__pathRelativeToParent(void 0,!1)+"."+s;c.$__.activePaths.clearPath(f),c.$isSubdocument&&i(c,f,a)}r.exports=function(o,s,a){var c=(a=a||{}).skipDocArrays,f=0;if(!o)return f;for(var y=0,m=Object.keys(o.$__.activePaths.getStatePaths("modify"));y<m.length;y++){var u=m[y];if(c){var l=o.$__schema.path(u);if(l&&l.$isMongooseDocumentArray)continue}u.startsWith(s+".")&&(o.$__.activePaths.clearPath(u),++f,o.$isSubdocument&&i(o,u))}return f}},9725:(r,i,o)=>{"use strict";var s,a=o(1829),c=o(5625).documentSchemaSymbol,f=o(3920)._,y=o(335),m=o(5625).getSymbol,u=o(5625).scopeSymbol,l=y.isPOJO;i.w=p,i.X=g;var h=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),d=Object.freeze({noDottedPath:!0});function p(b,v,_,S){s=s||o(3293);for(var w=S.typeKey,D=0,x=Object.keys(b);D<x.length;D++){var M=x[D],P=b[M];g({prop:M,subprops:l(P)&&Object.keys(P).length>0&&(!P[w]||w==="type"&&l(P.type)&&P.type.type)?P:null,prototype:v,prefix:_,options:S})}}function g(b){var v=b.prop,_=b.subprops,S=b.prototype,w=b.prefix,D=b.options;s=s||o(3293);var x=(w?w+".":"")+v,M=(w=w||"")?Object.freeze({}):d;_?Object.defineProperty(S,v,{enumerable:!0,configurable:!0,get:function(){var P,k,B=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[x]){var L=Object.create(s.prototype,(P=this,k={},Object.getOwnPropertyNames(P).forEach(function(V){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(V)===-1||(k[V]=Object.getOwnPropertyDescriptor(P,V),k[V].enumerable=!1)}),k));w||(L.$__[u]=this),L.$__.nestedPath=x,Object.defineProperty(L,"schema",{enumerable:!1,configurable:!0,writable:!1,value:S.schema}),Object.defineProperty(L,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:S.schema}),Object.defineProperty(L,c,{enumerable:!1,configurable:!0,writable:!1,value:S.schema}),Object.defineProperty(L,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return a(B.get(x,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(L,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return B.get(x,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(L,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return B.get(x,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(L,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(L,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(x,null,h)||{}).length===0}}),Object.defineProperty(L,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),p(_,L,x,D),this.$__.getters[x]=L}return this.$__.getters[x]},set:function(P){P!=null&&P.$__isNested?P=P.$__get():P instanceof s&&!P.$__isNested&&(P=P.$toObject(f)),(this.$__[u]||this).$set(x,P)}}):Object.defineProperty(S,v,{enumerable:!0,configurable:!0,get:function(){return this[m].call(this.$__[u]||this,x,null,M)},set:function(P){this.$set.call(this.$__[u]||this,x,P)}})}},2609:r=>{"use strict";r.exports=function(i,o,s){for(var a=o[0],c=s,f=i,y=0;y<o.length-1;++y){var m=c.path(a);if(m&&m.schema){var u=f.get(a);if(c=m.schema,a=o[y+1],Array.isArray(u)&&!isNaN(a)&&(u=u[a],a=""),u==null)break;f=u}else a+=a.length?"."+o[y+1]:o[y+1]}return f}},8239:(r,i,o)=>{"use strict";var s=o(5132),a=o(1654);r.exports=function c(f,y,m){for(var u=(m=m||{}).typeOnly,l=Array.isArray(y)?y:y.indexOf(".")===-1?[y]:y.split("."),h=null,d="adhocOrUndefined",p=a(f.schema,f.get(f.schema.options.discriminatorKey))||f.schema,g=0;g<l.length;++g){var b=l.slice(0,g+1).join(".");if((h=p.path(b))!=null){if(h.instance==="Mixed")return u?"real":h;if(d=p.pathType(b),(h.$isSingleNested||h.$isMongooseDocumentArrayElement)&&h.schema.discriminators!=null){var v=h.schema.discriminators,_=f.get(b+"."+s(h,"schema.options.discriminatorKey"));if(_==null||v[_]==null)continue;var S=l.slice(g+1).join(".");return c(f.get(b),S,m)}}else d="adhocOrUndefined"}return u?d:h}},8145:(r,i,o)=>{"use strict";function s(u,l){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(u);l&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(u,p).enumerable})),h.push.apply(h,d)}return h}function a(u){for(var l=1;l<arguments.length;l++){var h=arguments[l]!=null?arguments[l]:{};l%2?s(Object(h),!0).forEach(function(d){c(u,d,h[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):s(Object(h)).forEach(function(d){Object.defineProperty(u,d,Object.getOwnPropertyDescriptor(h,d))})}return u}function c(u,l,h){return(l=function(d){var p=function(g){if(f(g)!="object"||!g)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var v=b.call(g,"string");if(f(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(d);return f(p)=="symbol"?p:p+""}(l))in u?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h,u}function f(u){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},f(u)}var y=o(335),m=new Set(["__index","__parentArray","_doc"]);r.exports=function(u,l){if(y.isPOJO(u)&&u.$__!=null&&u._doc!=null){if(l){for(var h={},d=0,p=Object.keys(u);d<p.length;d++){var g=p[d];f(g)!=="symbol"&&g[0]!=="$"&&(m.has(g)||(h[g]=u[g]))}return a(a({},u._doc),h)}return u._doc}return u}},6343:r=>{"use strict";function i(o,s){(s==null||s>o.length)&&(s=o.length);for(var a=0,c=Array(s);a<s;a++)c[a]=o[a];return c}r.exports=function(o,s,a){if(o.length===0)return a();var c,f=o.length,y=null,m=function(u,l){var h=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!h){if(Array.isArray(u)||(h=function(_,S){if(_){if(typeof _=="string")return i(_,S);var w={}.toString.call(_).slice(8,-1);return w==="Object"&&_.constructor&&(w=_.constructor.name),w==="Map"||w==="Set"?Array.from(_):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?i(_,S):void 0}}(u))||l&&u&&typeof u.length=="number"){h&&(u=h);var d=0,p=function(){};return{s:p,n:function(){return d>=u.length?{done:!0}:{done:!1,value:u[d++]}},e:function(_){throw _},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,b=!0,v=!1;return{s:function(){h=h.call(u)},n:function(){var _=h.next();return b=_.done,_},e:function(_){v=!0,g=_},f:function(){try{b||h.return==null||h.return()}finally{if(v)throw g}}}}(o);try{for(m.s();!(c=m.n()).done;)s(c.value,function(u){if(y==null)return u!=null?a(y=u):--f<=0?a():void 0})}catch(u){m.e(u)}finally{m.f()}}},1892:r=>{"use strict";r.exports=function(i){for(var o,s=Object.keys(i.errors||{}),a=s.length,c=[],f=0;f<a;++f)o=s[f],i!==i.errors[o]&&c.push(o+": "+i.errors[o].message);return c.join(", ")}},5575:r=>{"use strict";r.exports=function(i){return i==null?null:Object.keys(i)[0]}},5132:r=>{"use strict";function i(s,a){(a==null||a>s.length)&&(a=s.length);for(var c=0,f=Array(a);c<a;c++)f[c]=s[c];return f}function o(s,a){return s==null?s:s instanceof Map?s.get(a):s[a]}r.exports=function(s,a,c){var f,y=!1;if(typeof a=="string"){if(a.indexOf(".")===-1){var m=o(s,a);return m??c}f=a.split(".")}else if(y=!0,(f=a).length===1){var u=o(s,f[0]);return u??c}var l,h=a,d=s,p=function(b,v){var _=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!_){if(Array.isArray(b)||(_=function(P,k){if(P){if(typeof P=="string")return i(P,k);var B={}.toString.call(P).slice(8,-1);return B==="Object"&&P.constructor&&(B=P.constructor.name),B==="Map"||B==="Set"?Array.from(P):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?i(P,k):void 0}}(b))||v&&b&&typeof b.length=="number"){_&&(b=_);var S=0,w=function(){};return{s:w,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(P){throw P},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,x=!0,M=!1;return{s:function(){_=_.call(b)},n:function(){var P=_.next();return x=P.done,P},e:function(P){M=!0,D=P},f:function(){try{x||_.return==null||_.return()}finally{if(M)throw D}}}}(f);try{for(p.s();!(l=p.n()).done;){var g=l.value;if(d==null)return c;if(!y&&d[h]!=null)return d[h];d=o(d,g),y||(h=h.substr(g.length+1))}}catch(b){p.e(b)}finally{p.f()}return d??c}},5857:r=>{"use strict";r.exports=function(i){if(i!=null&&typeof i.constructor=="function")return i.constructor.name}},5515:r=>{"use strict";var i=/^function\s*([^\s(]+)/;r.exports=function(o){return o.name||(o.toString().trim().match(i)||[])[1]}},3933:r=>{"use strict";var i=typeof{env:{}}.nextTick=="function"?{env:{}}.nextTick.bind({env:{}}):function(o){return setTimeout(o,0)};r.exports=function(o){return i(o)}},9996:r=>{"use strict";r.exports=function(i,o){var s=i.discriminatorMapping&&i.discriminatorMapping.value;if(s&&!("sparse"in o)){var a=i.options.discriminatorKey;o.partialFilterExpression=o.partialFilterExpression||{},o.partialFilterExpression[a]=s}return o}},882:r=>{"use strict";r.exports=function(i,o){var s=Object.keys(i),a=Object.keys(o);if(s.length!==a.length)return!1;for(var c=0;c<s.length;c++){var f=s[c];if(f!==a[c]||i[f]!==o[f])return!1}return!0}},6564:r=>{"use strict";r.exports=function(i){return typeof i=="function"&&i.constructor&&i.constructor.name==="AsyncFunction"}},2128:r=>{"use strict";r.exports=function(i,o){return i!=null&&i._bsontype===o}},6504:(r,i,o)=>{"use strict";var s=o(9240).isMongooseArray;r.exports=function(a){return a!=null&&(s(a)||a.$__!=null||a.isMongooseBuffer||a.$isMongooseMap)}},4797:(r,i,o)=>{"use strict";var s=o(5832).Buffer;r.exports=function(a){return s.isBuffer(a)||Object.prototype.toString.call(a)==="[object Object]"}},6288:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){if(o==null||i(o)!=="object")return!1;var s=Object.getPrototypeOf(o);return!s||s.constructor.name==="Object"}},3165:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){return!!o&&(i(o)==="object"||typeof o=="function")&&typeof o.then=="function"}},4664:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){for(var s=Object.keys(o),a=!0,c=0,f=s.length;c<f;++c)if(i(o[s[c]])==="object"&&o[s[c]]!==null){a=!1;break}return a}},6470:(r,i,o)=>{"use strict";var s=o(335).isPOJO;r.exports=function a(c){for(var f,y,m,u=Object.keys(c),l=u.length;l--;)m=c[y=u[l]],s(m)&&(c[y]=a(m)),c[y]!==void 0?f=!0:delete c[y];return f?c:void 0}},8892:(r,i,o)=>{"use strict";function s(h){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(h)}function a(h,d){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);d&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(h,b).enumerable})),p.push.apply(p,g)}return p}function c(h){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?a(Object(p),!0).forEach(function(g){f(h,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):a(Object(p)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(p,g))})}return h}function f(h,d,p){return(d=function(g){var b=function(v){if(s(v)!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var S=_.call(v,"string");if(s(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(g);return s(b)=="symbol"?b:b+""}(d))in h?Object.defineProperty(h,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[d]=p,h}var y=o(3089),m=o(8183);r.exports=l,l.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var u=new Set(l.middlewareFunctions.flatMap(function(h){return[h,"$__".concat(h)]}));function l(h,d,p){var g={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},b=(p=p||{}).decorateDoc?h:h.prototype;h.$appliedHooks=!0;for(var v=0,_=Object.keys(d.paths);v<_.length;v++){var S=_[v],w=d.paths[S],D=null;if(w.$isSingleNested)D=w.caster;else{if(!w.$isMongooseDocumentArray)continue;D=w.Constructor}if(!D.$appliedHooks&&(l(D,w.schema,c(c({},p),{},{isChildSchema:!0})),D.discriminators!=null))for(var x=0,M=Object.keys(D.discriminators);x<M.length;x++){var P=M[x];l(D.discriminators[P],D.discriminators[P].schema,p)}}var k=d.s.hooks.filter(function(T){return T.name==="updateOne"||T.name==="deleteOne"?!!T.document:T.name==="remove"||T.name==="init"?T.document==null||!!T.document:T.query==null&&T.document==null||T.document!==!1}).filter(function(T){return!d.methods[T.name]||!T.fn[y.builtInMiddleware]});h._middleware=k,b.$__originalValidate=b.$__originalValidate||b.$__validate;for(var B=0,L=p&&p.isChildSchema?["save","validate","deleteOne"]:["save","validate"];B<L.length;B++){var V=L[B],Q=V==="validate"?"$__originalValidate":"$__".concat(V),ne=k.createWrapper(V,b[Q],null,g);b["$__".concat(V)]=ne}b.$__init=k.createWrapperSync("init",b.$__init,null,g);for(var te=Object.keys(d.methods),E=Object.assign({},g,{checkForPromise:!0}),O=function(){var T=I[C];if(u.has(T)||!k.hasHooks(T))return 0;var N=b[T];b[T]=function(){var j=this,H=Array.prototype.slice.call(arguments),q=H.slice(-1).pop(),X=typeof q=="function"?H.slice(0,H.length-1):H;return m(q,function(z){return j["$__".concat(T)].apply(j,X.concat([z]))},h.events)},b["$__".concat(T)]=k.createWrapper(T,N,null,E)},C=0,I=te;C<I.length;C++)O()}},8650:(r,i,o)=>{"use strict";function s(v){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s(v)}function a(v,_){var S=Object.keys(v);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(v);_&&(w=w.filter(function(D){return Object.getOwnPropertyDescriptor(v,D).enumerable})),S.push.apply(S,w)}return S}function c(v,_,S){return(_=function(w){var D=function(x){if(s(x)!="object"||!x)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var P=M.call(x,"string");if(s(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(w);return s(D)=="symbol"?D:D+""}(_))in v?Object.defineProperty(v,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[_]=S,v}function f(v,_){var S=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!S){if(Array.isArray(v)||(S=function(k,B){if(k){if(typeof k=="string")return y(k,B);var L={}.toString.call(k).slice(8,-1);return L==="Object"&&k.constructor&&(L=k.constructor.name),L==="Map"||L==="Set"?Array.from(k):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?y(k,B):void 0}}(v))||_&&v&&typeof v.length=="number"){S&&(v=S);var w=0,D=function(){};return{s:D,n:function(){return w>=v.length?{done:!0}:{done:!1,value:v[w++]}},e:function(k){throw k},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,M=!0,P=!1;return{s:function(){S=S.call(v)},n:function(){var k=S.next();return M=k.done,k},e:function(k){P=!0,x=k},f:function(){try{M||S.return==null||S.return()}finally{if(P)throw x}}}}function y(v,_){(_==null||_>v.length)&&(_=v.length);for(var S=0,w=Array(_);S<_;S++)w[S]=v[S];return w}var m=o(1895),u=o(7807),l=o(1829),h=o(9725).X,d=o(5132),p=o(335),g=o(8836),b={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};r.exports=function(v,_,S,w,D,x,M){if(!S||!S.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(x=x==null||x,v.schema.discriminatorMapping&&!v.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+_+'" can only be a discriminator of the root model');if(D){var P=d(v.base,"options.applyPluginsToDiscriminators",!1)||!x;v.base._applyPlugins(S,{skipTopLevel:!P})}else x||u(S);var k=v.schema.options.discriminatorKey,B=v.schema.path(k);if(B!=null)p.hasUserDefinedProperty(B.options,"select")||(B.options.select=!0),B.options.$skipDiscriminatorCheck=!0;else{var L={};L[k]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},L[k][v.schema.options.typeKey]=String,v.schema.add(L),h({prop:k,prototype:v.prototype,options:v.schema.options})}if(S.path(k)&&S.path(k).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+_+'" cannot have field with name "'+k+'"');var V=_;if((typeof w=="string"&&w.length||w!=null)&&(V=w),function(Q,ne){Q._baseSchema=ne,ne.paths._id&&ne.paths._id.options&&!ne.paths._id.options.auto&&Q.remove("_id");for(var te=[],E=0,O=Object.keys(ne.paths);E<O.length;E++){var C=O[E];if(Q.nested[C])te.push(C);else if(C.indexOf(".")!==-1){var I,T="",N=f(C.split(".").slice(0,-1));try{for(N.s();!(I=N.n()).done;){var j=I.value;T+=(T.length?".":"")+j,(Q.paths[T]instanceof m||Q.singleNestedPaths[T]instanceof m)&&te.push(C)}}catch(fe){N.e(fe)}finally{N.f()}}}Q.obj=function(fe){for(var de=1;de<arguments.length;de++){var se=arguments[de]!=null?arguments[de]:{};de%2?a(Object(se),!0).forEach(function(Ie){c(fe,Ie,se[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(se)):a(Object(se)).forEach(function(Ie){Object.defineProperty(fe,Ie,Object.getOwnPropertyDescriptor(se,Ie))})}return fe}({},Q.obj),g(Q,ne),Q._gatherChildSchemas();for(var H=0,q=te;H<q.length;H++){var X=q[H];delete Q.paths[X]}Q.childSchemas.forEach(function(fe){fe.model.prototype.$__setSchema(fe.schema)});var z={};z[k]={default:V,select:!0,set:function(fe){if(fe===V||Array.isArray(V)&&p.deepEqual(fe,V))return V;throw new Error(`Can't set discriminator key "`+k+'"')},$skipDiscriminatorCheck:!0},z[k][Q.options.typeKey]=B?B.options[Q.options.typeKey]:String,Q.add(z),Q.discriminatorMapping={key:k,value:V,isRoot:!1},ne.options.collection&&(Q.options.collection=ne.options.collection);var U=Q.options.toJSON,Z=Q.options.toObject,ee=Q.options._id,R=Q.options.id,$=Object.keys(Q.options);Q.options.discriminatorKey=ne.options.discriminatorKey;for(var G=Q._userProvidedOptions,ie=0,ae=$;ie<ae.length;ie++){var le=ae[ie];if(!b[le]&&le in G&&!p.deepEqual(Q.options[le],ne.options[le]))throw new Error("Can't customize discriminator option "+le+" (can only modify "+Object.keys(b).join(", ")+")")}Q.options=l(ne.options);for(var J=0,re=Object.keys(G);J<re.length;J++){var ue=re[J];Q.options[ue]=G[ue]}U&&(Q.options.toJSON=U),Z&&(Q.options.toObject=Z),ee!==void 0&&(Q.options._id=ee),Q.options.id=R,x&&(Q.s.hooks=v.schema.s.hooks.merge(Q.s.hooks)),D&&(Q.plugins=Array.prototype.slice.call(ne.plugins)),Q.callQueue=ne.callQueue.concat(Q.callQueue),delete Q._requiredpaths}(S,v.schema),v.discriminators||(v.discriminators={}),v.schema.discriminatorMapping||(v.schema.discriminatorMapping={key:k,value:null,isRoot:!0}),v.schema.discriminators||(v.schema.discriminators={}),v.schema.discriminators[_]=S,v.discriminators[_]&&!S.options.overwriteModels&&!M)throw new Error('Discriminator with name "'+_+'" already exists');return S}},5679:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){if(o==null||i(o)!=="object")return o;if(Array.isArray(o))for(var s=o.length-1;s>=0;--s)o[s]===void 0&&o.splice(s,1);for(var a=0,c=Object.keys(o);a<c.length;a++){var f=c[a];o[f]===void 0&&delete o[f]}return o}},4094:r=>{"use strict";var i=/\./g;r.exports=function(o){if(o.indexOf(".")===-1)return[o];for(var s=o.split(i),a=s.length,c=new Array(a),f="",y=0;y<a;++y)f+=f.length!==0?"."+s[y]:s[y],c[y]=f;return c}},5815:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o,s,a){return o==null?o:(o._doc!=null&&(o=o._doc),arguments.length>=3?i(o)!=="object"||a===void 0?void 0:(o instanceof Map?o.set(s,a):o[s]=a,a):s==="$*"?o instanceof Map?Array.from(o.values()):Object.keys(o).map(function(c){return o[c]}):o instanceof Map?o.get(s):o[s])}},1096:(r,i,o)=>{"use strict";function s(c,f){(f==null||f>c.length)&&(f=c.length);for(var y=0,m=Array(f);y<f;y++)m[y]=c[y];return m}var a=o(335);r.exports=function(c,f){if(c._doc._id!=null&&f!=null&&f.length!==0){var y,m=String(c._doc._id),u=function(_,S){var w=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!w){if(Array.isArray(_)||(w=function(B,L){if(B){if(typeof B=="string")return s(B,L);var V={}.toString.call(B).slice(8,-1);return V==="Object"&&B.constructor&&(V=B.constructor.name),V==="Map"||V==="Set"?Array.from(B):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?s(B,L):void 0}}(_))||S&&_&&typeof _.length=="number"){w&&(_=w);var D=0,x=function(){};return{s:x,n:function(){return D>=_.length?{done:!0}:{done:!1,value:_[D++]}},e:function(B){throw B},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,P=!0,k=!1;return{s:function(){w=w.call(_)},n:function(){var B=w.next();return P=B.done,B},e:function(B){k=!0,M=B},f:function(){try{P||w.return==null||w.return()}finally{if(k)throw M}}}}(f);try{for(u.s();!(y=u.n()).done;){var l=y.value;if(!l.isVirtual)for(var h=l.path.split("."),d=0;d<h.length-1;++d){var p=h.slice(0,d+1).join("."),g=h.slice(d+1).join("."),b=c.get(p);if(b!=null&&a.isMongooseDocumentArray(b)){for(var v=0;v<b.length;++v)b[v]&&b[v].populated(g,l._docs[m]==null?void 0:l._docs[m][v],l);break}}}}catch(_){u.e(_)}finally{u.f()}}}},8660:(r,i,o)=>{"use strict";var s=o(7026),a=o(2243),c=o(5815),f=o(5678),y=o(7352),m=o(335),u=/(\.\d+$|\.\d+\.)/g;r.exports=function(l,h,d,p,g){if(l==null)return[];if(typeof l=="string"&&g!=null&&a(g,l))throw new s("refPath `"+l+"` must not be excluded in projection, got "+y.inspect(g));if(u.test(d)){var b=d.split(u);if(b[b.length-1]==="")throw new Error("Can't populate individual element in an array");for(var v="",_=l,S=0;S<b.length;S+=2){var w=b[S];if(!_.startsWith(w+".")){if(S===b.length-1){v+=_,_="";break}throw new Error("Could not normalize ref path, chunk "+w+" not in populated path")}v+=_.substring(0,w.length)+b[S+1],_=_.substring(w.length+1)}var D=f.get(v,h,c),x=Array.isArray(D)?D:[D];return m.array.flatten(x)}var M=f.get(l,h,c);return p!=null&&p.virtuals.hasOwnProperty(l)?[p.virtuals[l].applyGetters(void 0,h)]:Array.isArray(M)?M:[M]}},5877:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o,s,a,c){return c.justOne||c.count?(o[s]=Array.isArray(a)?a[0]:a,i(o[s])!=="object"&&(o[s]=c.count?a:null)):(o[s]=Array.isArray(a)?a:a==null?[]:[a],o[s]=o[s].filter(function(f){return f&&i(f)==="object"})),o[s]}},6560:(r,i,o)=>{"use strict";var s=o(7026),a=o(7352);r.exports=function(c,f){if(typeof c!="string"&&typeof c!="function")throw new s('Invalid ref at path "'+f+'". Got '+a.inspect(c,{depth:0}))}},8279:r=>{"use strict";r.exports=function(i){for(var o={},s=0,a=Object.keys(i);s<a.length;s++){var c=a[s];if(c.indexOf(".")!==-1)for(var f=c.split("."),y=f[0],m=0;m<f.length;++m)o[y]=1,m+1<f.length&&(y=y+"."+f[m+1]);else o[c]=1}return o}},6239:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){return o==null||i(o)!=="object"||!("$meta"in o)&&!("$slice"in o)}},1384:(r,i,o)=>{"use strict";var s=o(6239),a=o(6288);r.exports=function c(f){if(f==null)return null;var y=Object.keys(f),m=null;if(y.length===1&&y[0]==="_id")m=!f._id;else for(var u=0;u<y.length;++u){var l,h=y[u];if(h!=="_id"&&s(f[h])&&(m=a(f[h])?(l=c(f[h]))!==null&&l!==void 0?l:m:!f[h])!=null)break}return m}},180:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){return o!=null&&i(o)==="object"&&o.$slice==null&&o.$elemMatch==null&&o.$meta==null&&o.$==null}},2243:(r,i,o)=>{"use strict";var s=o(6239);r.exports=function(a,c){if(a==null)return!1;if(c==="_id")return a._id===0;for(var f=null,y=0,m=Object.keys(a);y<m.length;y++){var u=m[y];if(s(a[u])){f=a[c]===1?"inclusive":"exclusive";break}}return f==="inclusive"?a[c]!==1:f==="exclusive"&&a[c]===0}},5772:r=>{"use strict";r.exports=function(i,o){for(var s,a,c,f=o.split("."),y="",m=0;m<f.length;++m)if(i[y+=y.length?".":""+f[m]]){for(c=(a=Object.keys(i)).length,s=0;s<c;++s)a[m].indexOf(y+".")!==0||a[m].indexOf(o);return!0}return!1}},8183:(r,i,o)=>{"use strict";var s=o(3933),a=Symbol("mongoose#emitted");r.exports=function(c,f,y,m){if(typeof c=="function")try{return f(function(u){if(u==null)c.apply(this,arguments);else{y!=null&&y.listeners!=null&&y.listeners("error").length>0&&!u[a]&&(u[a]=!0,y.emit("error",u));try{c(u)}catch(l){return s(function(){throw l})}}})}catch(u){return y!=null&&y.listeners!=null&&y.listeners("error").length>0&&!u[a]&&(u[a]=!0,y.emit("error",u)),c(u)}return new(m=m||o.g.Promise)(function(u,l){f(function(h,d){return h!=null?(y!=null&&y.listeners!=null&&y.listeners("error").length>0&&!h[a]&&(h[a]=!0,y.emit("error",h)),l(h)):arguments.length>2?u(Array.prototype.slice.call(arguments,1)):void u(d)})})}},8385:(r,i,o)=>{"use strict";function s(x){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s(x)}var a=o(6148),c=o(6166),f=o(247),y=o(5679),m=new Set(["$and","$or"]),u=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),l=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),h=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),d=new Set(["$arrayElemAt","$first","$last"]),p=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),g=new Set(["$not"]);function b(x,M,P){if(w(x)||x===null)return x;x.$cond!=null?Array.isArray(x.$cond)?x.$cond=x.$cond.map(function(Q){return b(Q,M,P)}):(x.$cond.if=b(x.$cond.if,M,P),x.$cond.then=b(x.$cond.then,M,P),x.$cond.else=b(x.$cond.else,M,P)):x.$ifNull!=null?x.$ifNull.map(function(Q){return b(Q,M,P)}):x.$switch!=null&&(Array.isArray(x.$switch.branches)&&(x.$switch.branches=x.$switch.branches.map(function(Q){return b(Q,M,P)})),"default"in x.$switch&&(x.$switch.default=b(x.$switch.default,M,P)));for(var k=0,B=Object.keys(x);k<B.length;k++){var L=B[k];m.has(L)?x[L]=x[L].map(function(Q){return b(Q,M,P)}):u.has(L)?x[L]=S(x[L],M,P):l.has(L)?x[L]=_(x[L]):h.has(L)?x[L]=v(x[L]):g.has(L)&&(x[L]=b(x[L],M,P))}if(x.$in&&(x.$in=function(Q,ne,te){var E=Q[1];if(!w(E))return Q;var O=Q[0],C=ne.path(E.slice(1));if(C!==null){if(!C.$isMongooseArray)throw new Error("Path must be an array for $in");return[C.$isMongooseDocumentArray?C.$embeddedSchemaType.cast(O):C.caster.cast(O),E]}if(te===!1)return Q;if(te==="throw")throw new c("$in")}(x.$in,M,P)),x.$size&&(x.$size=v(x.$size)),x.$round){var V=x.$round;if(!Array.isArray(V)||V.length<1||V.length>2)throw new a("Array",V,"$round");x.$round=V.map(function(Q){return v(Q)})}return y(x),x}function v(x){if(!D(x))return x;try{return f(x)}catch{throw new a("Number",x)}}function _(x){if(!Array.isArray(x)){if(!D(x))return x;try{return f(x)}catch{throw new a("Number",x)}}return x.map(function(M){if(!D(M))return M;try{return f(M)}catch{throw new a("Number",M)}})}function S(x,M,P){if(!Array.isArray(x)||x.length!==2)throw new Error("Comparison operator must be an array of length 2");x[0]=b(x[0],M,P);var k=x[0];if(D(x[1])){var B=null,L=null,V=null;if(w(k))B=k.slice(1),L=M.path(B);else if(s(k)==="object"&&k!=null)for(var Q=0,ne=Object.keys(k);Q<ne.length;Q++){var te=ne[Q];p.has(te)&&w(k[te])?(B=k[te].slice(1)+"."+te,V=f):d.has(te)&&w(k[te])&&(B=k[te].slice(1)+"."+te,(L=M.path(k[te].slice(1)))!=null&&(L.$isMongooseDocumentArray?L=L.$embeddedSchemaType:L.$isMongooseArray&&(L=L.caster)))}var E=s(x[1])==="object"&&x[1]!=null&&x[1].$literal!=null;if(L!=null)x[1]=E?{$literal:L.cast(x[1].$literal)}:L.cast(x[1]);else if(V!=null)if(E)try{x[1]={$literal:V(x[1].$literal)}}catch{throw new a(V.name.replace(/^cast/,""),x[1],B+".$literal")}else try{x[1]=V(x[1])}catch{throw new a(V.name.replace(/^cast/,""),x[1],B)}else{if(B!=null&&P===!0)return;if(B!=null&&P==="throw")throw new c(B)}}else x[1]=b(x[1]);return x}function w(x){return typeof x=="string"&&x[0]==="$"}function D(x){return!(typeof x=="string"&&x[0]==="$"||s(x)==="object"&&x!==null&&Object.keys(x).find(function(M){return M[0]==="$"})&&x.$literal==null)}r.exports=function(x,M,P){if(s(x)!=="object"||x===null)throw new Error("`$expr` must be an object");return b(x,M,P)}},6482:r=>{"use strict";r.exports=function(i){switch(i){case"p":i="primary";break;case"pp":i="primaryPreferred";break;case"s":i="secondary";break;case"sp":i="secondaryPreferred";break;case"n":i="nearest"}return i}},499:r=>{"use strict";var i=new Set(["$ref","$id","$db"]);r.exports=function(o){return o[0]==="$"&&!i.has(o)}},3692:(r,i)=>{"use strict";function o(a){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},o(a)}var s=Symbol("mongoose#trustedSymbol");i.trustedSymbol=s,i.trusted=function(a){return a==null||o(a)!=="object"||(a[s]=!0),a}},8331:r=>{"use strict";r.exports=function(i){var o={_id:{auto:!0}};o._id[i.options.typeKey]="ObjectId",i.add(o)}},7807:(r,i,o)=>{"use strict";var s=o(7509);r.exports=function(a){for(var c=0,f=Object.values(s);c<f.length;c++)(0,f[c])(a,{deduplicate:!0});a.plugins=Object.values(s).map(function(y){return{fn:y,opts:{deduplicate:!0}}}).concat(a.plugins)}},8796:r=>{"use strict";r.exports=function(i){return i.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},5792:(r,i,o)=>{"use strict";var s=o(5132),a=o(4797),c=o(9996);r.exports=function(f){var y=[],m=new WeakMap,u=f.constructor.indexTypes,l=new Map;return function h(d,p,g){if(!m.has(d)){m.set(d,!0),p=p||"";for(var b=0,v=Object.keys(d.paths);b<v.length;b++){var _=v[b],S=d.paths[_];if(g==null||!g.paths[_]){if(S._duplicateKeyErrorMessage!=null&&(d._duplicateKeyErrorMessagesByPath=d._duplicateKeyErrorMessagesByPath||{},d._duplicateKeyErrorMessagesByPath[_]=S._duplicateKeyErrorMessage),S.$isMongooseDocumentArray||S.$isSingleNested){if(s(S,"options.excludeIndexes")!==!0&&s(S,"schemaOptions.excludeIndexes")!==!0&&s(S,"schema.options.excludeIndexes")!==!0&&h(S.schema,p+_+"."),S.schema.discriminators!=null)for(var w=S.schema.discriminators,D=0,x=Object.keys(w);D<x.length;D++)h(w[x[D]],p+_+".",S.schema);if(S.$isMongooseDocumentArray)continue}var M=S._index||S.caster&&S.caster._index;if(M!==!1&&M!=null){var P={},k=a(M),B=k?M:{},L=typeof M=="string"?M:!!k&&M.type;if(L&&u.indexOf(L)!==-1)P[p+_]=L;else if(B.text)P[p+_]="text",delete B.text;else{var V;V=M==="descending"||M==="desc"||M!=="ascending"&&M!=="asc"&&Number(M)===-1,P[p+_]=V?-1:1}delete B.type,"background"in B||(B.background=!0),d.options.autoIndex!=null&&(B._autoIndex=d.options.autoIndex);var Q=B&&B.name;typeof Q=="string"&&l.has(Q)?Object.assign(l.get(Q),P):(y.push([P,B]),l.set(Q,P))}}}m.delete(d),p?function(ne,te){for(var E=ne._indexes,O=E.length,C=0;C<O;++C){for(var I=E[C][0],T=E[C][1],N=Object.keys(I),j=N.length,H={},q=0;q<j;++q){var X=N[q];H[te+X]=I[X]}var z=Object.assign({},T);if(T!=null&&T.partialFilterExpression!=null){z.partialFilterExpression={};for(var U=T.partialFilterExpression,Z=0,ee=Object.keys(U);Z<ee.length;Z++){var R=ee[Z];z.partialFilterExpression[te+R]=U[R]}}y.push([H,z])}}(d,p):(d._indexes.forEach(function(ne){var te=ne[1];"background"in te||(te.background=!0),c(d,te)}),y=y.concat(d._indexes))}}(f),y}},4051:(r,i,o)=>{"use strict";function s(f,y){var m=typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(!m){if(Array.isArray(f)||(m=function(g,b){if(g){if(typeof g=="string")return a(g,b);var v={}.toString.call(g).slice(8,-1);return v==="Object"&&g.constructor&&(v=g.constructor.name),v==="Map"||v==="Set"?Array.from(g):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?a(g,b):void 0}}(f))||y&&f&&typeof f.length=="number"){m&&(f=m);var u=0,l=function(){};return{s:l,n:function(){return u>=f.length?{done:!0}:{done:!1,value:f[u++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,d=!0,p=!1;return{s:function(){m=m.call(f)},n:function(){var g=m.next();return d=g.done,g},e:function(g){p=!0,h=g},f:function(){try{d||m.return==null||m.return()}finally{if(p)throw h}}}}function a(f,y){(y==null||y>f.length)&&(y=f.length);for(var m=0,u=Array(y);m<y;m++)u[m]=f[m];return u}var c=o(5132);r.exports=function(f,y,m){var u,l=m!=null?Object.keys(c(f.tree,m,{})):Object.keys(f.tree),h=new Set(Object.keys(y));if(h.size>1){u=new Set;var d,p=s(l);try{for(p.s();!(d=p.n()).done;){var g=d.value;h.has(g)&&u.add(g)}}catch(S){p.e(S)}finally{p.f()}var b,v=s(h);try{for(v.s();!(b=v.n()).done;){var _=b.value;u.has(_)||u.add(_)}}catch(S){v.e(S)}finally{v.f()}u=Array.from(u)}else u=Array.from(h);return u}},8825:r=>{"use strict";r.exports=function(i,o){if(o.length!==1){for(var s=o[0],a=void 0,c=0;c<o.length-1;++c){var f=i.path(s);f&&f.schema?(a=f.schema.options.strict,i=f.schema,s=f.$isMongooseDocumentArray&&!isNaN(o[c+1])?"":o[c+1]):s+=s.length?"."+o[c+1]:o[c+1]}return a}}},5962:(r,i,o)=>{"use strict";var s=o(8331);r.exports=function(a,c){return c==null||c._id==null||(a=a.clone(),c._id?a.paths._id||(s(a),a.options._id=!0):(a.remove("_id"),a.options._id=!1)),a}},2169:r=>{"use strict";r.exports=function(i,o){return i==null?null:typeof i=="boolean"?o:typeof i[o]=="boolean"?i[o]?o:null:o in i?i[o]:o}},8638:r=>{"use strict";function i(){return this._id!=null?this._id.toString():null}r.exports=function(o){return!o.paths.id&&o.paths._id&&o.options.id&&(o.aliases&&o.aliases.id||o.virtual("id").get(i)),o}},5682:r=>{"use strict";function i(o,s){(s==null||s>o.length)&&(s=o.length);for(var a=0,c=Array(s);a<s;a++)c[a]=o[a];return c}r.exports=function(o,s,a){for(var c={},f=0,y=Object.keys(s.tree);f<y.length;f++){var m=y[f];a&&(o.paths[m]||o.nested[m]||o.singleNestedPaths[m])||(c[m]=s.tree[m])}o.options._isMerging=!0,o.add(c,null),delete o.options._isMerging,o.callQueue=o.callQueue.concat(s.callQueue),o.method(s.methods),o.static(s.statics);for(var u=0,l=Object.entries(s._userProvidedOptions);u<l.length;u++){var h=(g=l[u],b=2,function(S){if(Array.isArray(S))return S}(g)||function(S,w){var D=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(D!=null){var x,M,P,k,B=[],L=!0,V=!1;try{if(P=(D=D.call(S)).next,w===0){if(Object(D)!==D)return;L=!1}else for(;!(L=(x=P.call(D)).done)&&(B.push(x.value),B.length!==w);L=!0);}catch(Q){V=!0,M=Q}finally{try{if(!L&&D.return!=null&&(k=D.return(),Object(k)!==k))return}finally{if(V)throw M}}return B}}(g,b)||function(S,w){if(S){if(typeof S=="string")return i(S,w);var D={}.toString.call(S).slice(8,-1);return D==="Object"&&S.constructor&&(D=S.constructor.name),D==="Map"||D==="Set"?Array.from(S):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?i(S,w):void 0}}(g,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),d=h[0],p=h[1];d in o._userProvidedOptions||o.set(d,p)}var g,b;for(var v in s.query)o.query[v]=s.query[v];for(var _ in s.virtuals)o.virtuals[_]=s.virtuals[_].clone();o._indexes=o._indexes.concat(s._indexes||[]),o.s.hooks.merge(s.s.hooks,!1)}},9012:(r,i,o)=>{"use strict";var s=o(6166);r.exports=function(a){var c,f;a.$immutable?(a.$immutableSetter=(c=a.path,f=a.options.immutable,function(y,m,u,l){if(this==null||this.$__==null||this.isNew||l&&l.overwriteImmutable||!(typeof f=="function"?f.call(this,this):f))return y;var h=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(c):this.$__getValue(c);if(this.$__.strictMode==="throw"&&y!==h)throw new s(c,"Path `"+c+"` is immutable and strict mode is set to throw.",!0);return h}),a.set(a.$immutableSetter)):a.$immutableSetter&&(a.setters=a.setters.filter(function(y){return y!==a.$immutableSetter}),delete a.$immutableSetter)}},8150:r=>{"use strict";r.exports=new Set(["__proto__","constructor","prototype"])},5625:(r,i)=>{"use strict";i.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup"),i.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),i.arrayParentSymbol=Symbol("mongoose#Array#_parent"),i.arrayPathSymbol=Symbol("mongoose#Array#_path"),i.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),i.documentArrayParent=Symbol("mongoose#documentArrayParent"),i.documentIsSelected=Symbol("mongoose#Document#isSelected"),i.documentIsModified=Symbol("mongoose#Document#isModified"),i.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),i.documentSchemaSymbol=Symbol("mongoose#Document#schema"),i.getSymbol=Symbol("mongoose#Document#get"),i.modelSymbol=Symbol("mongoose#Model"),i.objectIdSymbol=Symbol("mongoose#ObjectId"),i.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model"),i.schemaTypeSymbol=Symbol("mongoose#schemaType"),i.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments"),i.scopeSymbol=Symbol("mongoose#Document#scope"),i.validatorErrorSymbol=Symbol("mongoose#validatorError")},7796:r=>{"use strict";r.exports=function(i,o,s,a,c){var f=o!=null&&o.updatedAt===!1,y=o!=null&&o.createdAt===!1,m=s!=null?s():i.ownerDocument().constructor.base.now();if(!y&&(i.isNew||i.$isSubdocument)&&a&&!i.$__getValue(a)&&i.$__isSelected(a)&&i.$set(a,m,void 0,{overwriteImmutable:!0}),!f&&c&&(i.isNew||i.$isModified())){var u=m;i.isNew&&a!=null&&(u=i.$__getValue(a)),i.$set(c,u)}}},8644:(r,i,o)=>{"use strict";function s(p){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s(p)}function a(p,g){(g==null||g>p.length)&&(g=p.length);for(var b=0,v=Array(g);b<g;b++)v[b]=p[b];return v}function c(p,g,b){return(g=function(v){var _=function(S){if(s(S)!="object"||!S)return S;var w=S[Symbol.toPrimitive];if(w!==void 0){var D=w.call(S,"string");if(s(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return s(_)=="symbol"?_:_+""}(g))in p?Object.defineProperty(p,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[g]=b,p}var f=o(4287),y=o(7457),m=o(5132),u=o(2169),l=o(7796),h=o(3089),d=new Set(["replaceOne","findOneAndReplace"]);r.exports=function(p,g){var b=p.childSchemas.find(function(k){return!!k.schema.options.timestamps});if(g||b){var v=u(g,"createdAt"),_=u(g,"updatedAt"),S=g!=null&&g.hasOwnProperty("currentTime")?g.currentTime:null,w={};if(p.$timestamps={createdAt:v,updatedAt:_},v&&!p.paths[v]){var D=p.base!=null?p.base.get("timestamps.createdAt.immutable"):null,x=D==null||D;w[v]=c(c({},p.options.typeKey||"type",Date),"immutable",x)}_&&!p.paths[_]&&(w[_]=Date),p.add(w),p.pre("save",function(k){var B=m(this,"$__.saveOptions.timestamps");if(B===!1)return k();l(this,B,S,v,_),k()}),p.methods.initializeTimestamps=function(){var k=S!=null?S():this.constructor.base.now();if(v&&!this.get(v)&&this.$set(v,k),_&&!this.get(_)&&this.$set(_,k),this.$isSubdocument)return this;var B,L=function(Q,ne){var te=typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(!te){if(Array.isArray(Q)||(te=function(N,j){if(N){if(typeof N=="string")return a(N,j);var H={}.toString.call(N).slice(8,-1);return H==="Object"&&N.constructor&&(H=N.constructor.name),H==="Map"||H==="Set"?Array.from(N):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?a(N,j):void 0}}(Q))||ne&&Q&&typeof Q.length=="number"){te&&(Q=te);var E=0,O=function(){};return{s:O,n:function(){return E>=Q.length?{done:!0}:{done:!1,value:Q[E++]}},e:function(N){throw N},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,I=!0,T=!1;return{s:function(){te=te.call(Q)},n:function(){var N=te.next();return I=N.done,N},e:function(N){T=!0,C=N},f:function(){try{I||te.return==null||te.return()}finally{if(T)throw C}}}}(this.$getAllSubdocs());try{for(L.s();!(B=L.n()).done;){var V=B.value;V.initializeTimestamps&&V.initializeTimestamps()}}catch(Q){L.e(Q)}finally{L.f()}return this},P[h.builtInMiddleware]=!0;var M={query:!0,model:!1};p.pre("findOneAndReplace",M,P),p.pre("findOneAndUpdate",M,P),p.pre("replaceOne",M,P),p.pre("update",M,P),p.pre("updateOne",M,P),p.pre("updateMany",M,P)}function P(k){var B=S!=null?S():this.model.base.now();d.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),y(B,v,_,this.getUpdate(),this._mongooseOptions,d.has(this.op)),f(B,this.getUpdate(),this.model.schema),k()}}},8437:(r,i,o)=>{"use strict";var s=o(5857);r.exports=function(a){if(s(a)!=="TopologyDescription")return!1;var c=Array.from(a.servers.values());return c.length>0&&c.every(function(f){return f.type==="Unknown"})}},3343:(r,i,o)=>{"use strict";function s(c,f){(f==null||f>c.length)&&(f=c.length);for(var y=0,m=Array(f);y<f;y++)m[y]=c[y];return m}var a=o(5857);r.exports=function(c){if(a(c)!=="TopologyDescription"||c.servers.size===0)return!1;var f,y=function(u,l){var h=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!h){if(Array.isArray(u)||(h=function(_,S){if(_){if(typeof _=="string")return s(_,S);var w={}.toString.call(_).slice(8,-1);return w==="Object"&&_.constructor&&(w=_.constructor.name),w==="Map"||w==="Set"?Array.from(_):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?s(_,S):void 0}}(u))||l&&u&&typeof u.length=="number"){h&&(u=h);var d=0,p=function(){};return{s:p,n:function(){return d>=u.length?{done:!0}:{done:!1,value:u[d++]}},e:function(_){throw _},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,b=!0,v=!1;return{s:function(){h=h.call(u)},n:function(){var _=h.next();return b=_.done,_},e:function(_){v=!0,g=_},f:function(){try{b||h.return==null||h.return()}finally{if(v)throw g}}}}(c.servers.values());try{for(y.s();!(f=y.n()).done;){var m=f.value;if(m.host.endsWith(".mongodb.net")===!1||m.port!==27017)return!1}}catch(u){y.e(u)}finally{y.f()}return!0}},2078:(r,i,o)=>{"use strict";var s=o(5857);r.exports=function(a){if(s(a)!=="TopologyDescription")return!1;var c=Array.from(a.servers.values());return c.length>0&&c.every(function(f){return f.error&&f.error.message.indexOf("Client network socket disconnected before secure TLS connection was established")!==-1})}},4287:(r,i,o)=>{"use strict";function s(u,l){var h=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!h){if(Array.isArray(u)||(h=function(_,S){if(_){if(typeof _=="string")return a(_,S);var w={}.toString.call(_).slice(8,-1);return w==="Object"&&_.constructor&&(w=_.constructor.name),w==="Map"||w==="Set"?Array.from(_):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?a(_,S):void 0}}(u))||l&&u&&typeof u.length=="number"){h&&(u=h);var d=0,p=function(){};return{s:p,n:function(){return d>=u.length?{done:!0}:{done:!1,value:u[d++]}},e:function(_){throw _},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,b=!0,v=!1;return{s:function(){h=h.call(u)},n:function(){var _=h.next();return b=_.done,_},e:function(_){v=!0,g=_},f:function(){try{b||h.return==null||h.return()}finally{if(v)throw g}}}}function a(u,l){(l==null||l>u.length)&&(l=u.length);for(var h=0,d=Array(l);h<l;h++)d[h]=u[h];return d}var c=o(8796),f=o(2169);function y(u,l,h){if(l!=null){var d=Object.keys(l).some(function(k){return k[0]==="$"});if(d){if(l.$push&&P(l.$push),l.$addToSet&&P(l.$addToSet),l.$set!=null)for(var p=0,g=Object.keys(l.$set);p<g.length;p++){var b=g[p];m(h,b,l.$set,u)}if(l.$setOnInsert!=null)for(var v=0,_=Object.keys(l.$setOnInsert);v<_.length;v++){var S=_[v];m(h,S,l.$setOnInsert,u)}}var w,D=Object.keys(l).filter(function(k){return k[0]!=="$"}),x=s(D);try{for(x.s();!(w=x.n()).done;){var M=w.value;m(h,M,l,u)}}catch(k){x.e(k)}finally{x.f()}}function P(k){for(var B=function(){var Q=V[L],ne=h.path(Q.replace(/\.\$\./i,".").replace(/.\$$/,""));if(k[Q]&&ne&&ne.$isMongooseDocumentArray&&ne.schema.options.timestamps){var te=ne.schema.options.timestamps,E=f(te,"createdAt"),O=f(te,"updatedAt");k[Q].$each?k[Q].$each.forEach(function(C){O!=null&&(C[O]=u),E!=null&&(C[E]=u),y(u,C,ne.schema)}):(O!=null&&(k[Q][O]=u),E!=null&&(k[Q][E]=u),y(u,k[Q],ne.schema))}},L=0,V=Object.keys(k);L<V.length;L++)B()}}function m(u,l,h,d){var p=c(l),g=u.path(p);if(g){for(var b=[],v=p.split("."),_=v.length-1;_>0;--_){var S=u.path(v.slice(0,_).join("."));S!=null&&(S.$isMongooseDocumentArray||S.$isSingleNested)&&b.push({parentPath:l.split(".").slice(0,_).join("."),parentSchemaType:S})}if(Array.isArray(h[l])&&g.$isMongooseDocumentArray)(function(E,O,C){var I=O.schema.options.timestamps,T=E.length;if(I)for(var N=f(I,"createdAt"),j=f(I,"updatedAt"),H=0;H<T;++H)j!=null&&(E[H][j]=C),N!=null&&(E[H][N]=C),y(C,E[H],O.schema);else for(var q=0;q<T;++q)y(C,E[q],O.schema)})(h[l],g,d);else if(h[l]&&g.$isSingleNested)(function(E,O,C){var I=O.schema.options.timestamps;if(I){var T=f(I,"createdAt"),N=f(I,"updatedAt");N!=null&&(E[N]=C),T!=null&&(E[T]=C),y(C,E,O.schema)}else y(C,E,O.schema)})(h[l],g,d);else if(b.length>0){var w,D=s(b);try{for(D.s();!(w=D.n()).done;){var x=w.value,M=x.parentPath,P=x.parentSchemaType,k=P.schema.options.timestamps,B=f(k,"updatedAt");if(k&&B!=null){if(P.$isSingleNested)h[M+"."+B]=d;else if(P.$isMongooseDocumentArray){var L=l.substring(M.length+1);if(/^\d+$/.test(L)){h[M+"."+L][B]=d;continue}var V=L.indexOf(".");h[M+"."+(L=V!==-1?L.substring(0,V):L)+"."+B]=d}}}}catch(E){D.e(E)}finally{D.f()}}else if(g.schema!=null&&g.schema!=u&&h[l]){var Q=g.schema.options.timestamps,ne=f(Q,"createdAt"),te=f(Q,"updatedAt");if(!Q)return;te!=null&&(h[l][te]=d),ne!=null&&(h[l][ne]=d)}}}r.exports=y},7457:(r,i,o)=>{"use strict";function s(c){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(c)}var a=o(5132);r.exports=function(c,f,y,m,u,l){var h=m,d=h,p=a(u,"timestamps",!0);if(!p||h==null)return m;var g,b,v,_=p!=null&&p.createdAt===!1,S=p!=null&&p.updatedAt===!1;if(l)return m&&m.$set&&(m=m.$set,h.$set={},d=h.$set),S||!y||m[y]||(d[y]=c),_||!f||m[f]||(d[f]=c),h;if(m=m||{},Array.isArray(h))return y==null||h.push({$set:(g={},b=y,v=c,(b=function(ne){var te=function(E){if(s(E)!="object"||!E)return E;var O=E[Symbol.toPrimitive];if(O!==void 0){var C=O.call(E,"string");if(s(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(ne);return s(te)=="symbol"?te:te+""}(b))in g?Object.defineProperty(g,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[b]=v,g)}),h;if(h.$set=h.$set||{},!S&&y&&(!m.$currentDate||!m.$currentDate[y])){var w=!1;if(y.indexOf(".")!==-1)for(var D=y.split("."),x=1;x<D.length;++x){var M=D.slice(-x).join("."),P=D.slice(0,-x).join(".");if(m[P]!=null){m[P][M]=c,w=!0;break}if(m.$set&&m.$set[P]){m.$set[P][M]=c,w=!0;break}}w||(h.$set[y]=c),h.hasOwnProperty(y)&&delete h[y]}if(!_&&f){m[f]&&delete m[f],m.$set&&m.$set[f]&&delete m.$set[f];var k=!1;if(f.indexOf(".")!==-1)for(var B=f.split("."),L=1;L<B.length;++L){var V=B.slice(-L).join("."),Q=B.slice(0,-L).join(".");if(m[Q]!=null){m[Q][V]=c,k=!0;break}if(m.$set&&m.$set[Q]){m.$set[Q][V]=c,k=!0;break}}k||(h.$setOnInsert=h.$setOnInsert||{},h.$setOnInsert[f]=c)}return Object.keys(h.$set).length===0&&delete h.$set,h}},641:(r,i,o)=>{"use strict";var s=o(4494).ctor("require","modify","init","default","ignore");function a(){this.activePaths=new s}r.exports=a,a.prototype.strictMode=!0,a.prototype.fullPath=void 0,a.prototype.selected=void 0,a.prototype.shardval=void 0,a.prototype.saveError=void 0,a.prototype.validationError=void 0,a.prototype.adhocPaths=void 0,a.prototype.removing=void 0,a.prototype.inserting=void 0,a.prototype.saving=void 0,a.prototype.version=void 0,a.prototype._id=void 0,a.prototype.ownerDocument=void 0,a.prototype.populate=void 0,a.prototype.populated=void 0,a.prototype.primitiveAtomics=void 0,a.prototype.wasPopulated=!1,a.prototype.scope=void 0,a.prototype.session=null,a.prototype.pathsToScopes=null,a.prototype.cachedRequired=null},7283:r=>{"use strict";function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i(c)}function o(c,f){for(var y=0;y<f.length;y++){var m=f[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,a(m.key),m)}}function s(c,f,y){return f&&o(c.prototype,f),y&&o(c,y),Object.defineProperty(c,"prototype",{writable:!1}),c}function a(c){var f=function(y){if(i(y)!="object"||!y)return y;var m=y[Symbol.toPrimitive];if(m!==void 0){var u=m.call(y,"string");if(i(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(c);return i(f)=="symbol"?f:f+""}r.exports=s(function c(f,y,m){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.subdocSnapshot=f,this.activePaths=y,this.version=m})},3920:(r,i)=>{"use strict";i._={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1,versionKey:!0,flattenObjectIds:!1}},6591:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(u,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,f(d.key),d)}}function c(u,l,h){return l&&a(u.prototype,l),h&&a(u,h),Object.defineProperty(u,"prototype",{writable:!1}),u}function f(u){var l=function(h){if(s(h)!="object"||!h)return h;var d=h[Symbol.toPrimitive];if(d!==void 0){var p=d.call(h,"string");if(s(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(u);return s(l)=="symbol"?l:l+""}var y=o(1829),m=c(function u(l){if(function(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}(this,u),this._docs={},this._childDocs=[],l!=null&&(l=y(l),Object.assign(this,l),s(l.subPopulate)==="object"&&(this.populate=l.subPopulate),l.perDocumentLimit!=null&&l.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+l.path+"`.")});r.exports=m},1918:r=>{"use strict";r.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},2685:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"enum",m),Object.defineProperty(y.prototype,"of",m),Object.defineProperty(y.prototype,"castNonArrays",m),r.exports=y},3958:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"subtype",m),r.exports=y},7236:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"min",m),Object.defineProperty(y.prototype,"max",m),Object.defineProperty(y.prototype,"expires",m),r.exports=y},4172:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"excludeIndexes",m),Object.defineProperty(y.prototype,"_id",m),r.exports=y},7488:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"of",m),r.exports=y},3823:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"min",m),Object.defineProperty(y.prototype,"max",m),Object.defineProperty(y.prototype,"enum",m),Object.defineProperty(y.prototype,"populate",m),r.exports=y},210:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"auto",m),Object.defineProperty(y.prototype,"populate",m),r.exports=y},8035:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"enum",m),Object.defineProperty(y.prototype,"match",m),Object.defineProperty(y.prototype,"lowercase",m),Object.defineProperty(y.prototype,"trim",m),Object.defineProperty(y.prototype,"uppercase",m),Object.defineProperty(y.prototype,"minLength",m),Object.defineProperty(y.prototype,"minlength",m),Object.defineProperty(y.prototype,"maxLength",m),Object.defineProperty(y.prototype,"maxlength",m),Object.defineProperty(y.prototype,"populate",m),r.exports=y},6271:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(){try{var u=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!u})()}function c(u){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},c(u)}function f(u,l){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,d){return h.__proto__=d,h},f(u,l)}var y=function(u){function l(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),function(d,p,g){return p=c(p),function(b,v){if(v&&(s(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(b)}(d,a()?Reflect.construct(p,g||[],c(d).constructor):p.apply(d,g))}(this,l,arguments)}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),p&&f(d,p)}(l,u),h=l,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(o(1e3)),m=o(1918);Object.defineProperty(y.prototype,"_id",m),r.exports=y},1e3:(r,i,o)=>{"use strict";function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(l)}function a(l,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,f(p.key),p)}}function c(l,h,d){return h&&a(l.prototype,h),d&&a(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function f(l){var h=function(d){if(s(d)!="object"||!d)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var g=p.call(d,"string");if(s(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(l);return s(h)=="symbol"?h:h+""}var y=o(1829),m=c(function l(h){if(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,l),h==null)return this;Object.assign(this,y(h))}),u=o(1918);Object.defineProperty(m.prototype,"type",u),Object.defineProperty(m.prototype,"validate",u),Object.defineProperty(m.prototype,"cast",u),Object.defineProperty(m.prototype,"required",u),Object.defineProperty(m.prototype,"default",u),Object.defineProperty(m.prototype,"ref",u),Object.defineProperty(m.prototype,"refPath",u),Object.defineProperty(m.prototype,"select",u),Object.defineProperty(m.prototype,"index",u),Object.defineProperty(m.prototype,"unique",u),Object.defineProperty(m.prototype,"immutable",u),Object.defineProperty(m.prototype,"sparse",u),Object.defineProperty(m.prototype,"text",u),Object.defineProperty(m.prototype,"transform",u),r.exports=m},384:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(u,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,f(d.key),d)}}function c(u,l,h){return l&&a(u.prototype,l),h&&a(u,h),Object.defineProperty(u,"prototype",{writable:!1}),u}function f(u){var l=function(h){if(s(h)!="object"||!h)return h;var d=h[Symbol.toPrimitive];if(d!==void 0){var p=d.call(h,"string");if(s(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(u);return s(l)=="symbol"?l:l+""}var y=o(1918),m=c(function u(l){(function(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u),Object.assign(this,l),l!=null&&l.options!=null&&(this.options=Object.assign({},l.options))});Object.defineProperty(m.prototype,"ref",y),Object.defineProperty(m.prototype,"refPath",y),Object.defineProperty(m.prototype,"localField",y),Object.defineProperty(m.prototype,"foreignField",y),Object.defineProperty(m.prototype,"justOne",y),Object.defineProperty(m.prototype,"count",y),Object.defineProperty(m.prototype,"match",y),Object.defineProperty(m.prototype,"options",y),Object.defineProperty(m.prototype,"skip",y),Object.defineProperty(m.prototype,"limit",y),Object.defineProperty(m.prototype,"perDocumentLimit",y),r.exports=m},7509:(r,i,o)=>{"use strict";i.saveSubdocs=o(4679),i.sharding=o(7201),i.trackTransaction=o(2016),i.validateBeforeSave=o(377)},4679:(r,i,o)=>{"use strict";function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(l)}function a(){a=function(){return h};var l,h={},d=Object.prototype,p=d.hasOwnProperty,g=Object.defineProperty||function(U,Z,ee){U[Z]=ee.value},b=typeof Symbol=="function"?Symbol:{},v=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",S=b.toStringTag||"@@toStringTag";function w(U,Z,ee){return Object.defineProperty(U,Z,{value:ee,enumerable:!0,configurable:!0,writable:!0}),U[Z]}try{w({},"")}catch{w=function(Z,ee,R){return Z[ee]=R}}function D(U,Z,ee,R){var $=Z&&Z.prototype instanceof V?Z:V,G=Object.create($.prototype),ie=new X(R||[]);return g(G,"_invoke",{value:N(U,ee,ie)}),G}function x(U,Z,ee){try{return{type:"normal",arg:U.call(Z,ee)}}catch(R){return{type:"throw",arg:R}}}h.wrap=D;var M="suspendedStart",P="suspendedYield",k="executing",B="completed",L={};function V(){}function Q(){}function ne(){}var te={};w(te,v,function(){return this});var E=Object.getPrototypeOf,O=E&&E(E(z([])));O&&O!==d&&p.call(O,v)&&(te=O);var C=ne.prototype=V.prototype=Object.create(te);function I(U){["next","throw","return"].forEach(function(Z){w(U,Z,function(ee){return this._invoke(Z,ee)})})}function T(U,Z){function ee($,G,ie,ae){var le=x(U[$],U,G);if(le.type!=="throw"){var J=le.arg,re=J.value;return re&&s(re)=="object"&&p.call(re,"__await")?Z.resolve(re.__await).then(function(ue){ee("next",ue,ie,ae)},function(ue){ee("throw",ue,ie,ae)}):Z.resolve(re).then(function(ue){J.value=ue,ie(J)},function(ue){return ee("throw",ue,ie,ae)})}ae(le.arg)}var R;g(this,"_invoke",{value:function($,G){function ie(){return new Z(function(ae,le){ee($,G,ae,le)})}return R=R?R.then(ie,ie):ie()}})}function N(U,Z,ee){var R=M;return function($,G){if(R===k)throw Error("Generator is already running");if(R===B){if($==="throw")throw G;return{value:l,done:!0}}for(ee.method=$,ee.arg=G;;){var ie=ee.delegate;if(ie){var ae=j(ie,ee);if(ae){if(ae===L)continue;return ae}}if(ee.method==="next")ee.sent=ee._sent=ee.arg;else if(ee.method==="throw"){if(R===M)throw R=B,ee.arg;ee.dispatchException(ee.arg)}else ee.method==="return"&&ee.abrupt("return",ee.arg);R=k;var le=x(U,Z,ee);if(le.type==="normal"){if(R=ee.done?B:P,le.arg===L)continue;return{value:le.arg,done:ee.done}}le.type==="throw"&&(R=B,ee.method="throw",ee.arg=le.arg)}}}function j(U,Z){var ee=Z.method,R=U.iterator[ee];if(R===l)return Z.delegate=null,ee==="throw"&&U.iterator.return&&(Z.method="return",Z.arg=l,j(U,Z),Z.method==="throw")||ee!=="return"&&(Z.method="throw",Z.arg=new TypeError("The iterator does not provide a '"+ee+"' method")),L;var $=x(R,U.iterator,Z.arg);if($.type==="throw")return Z.method="throw",Z.arg=$.arg,Z.delegate=null,L;var G=$.arg;return G?G.done?(Z[U.resultName]=G.value,Z.next=U.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=l),Z.delegate=null,L):G:(Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,L)}function H(U){var Z={tryLoc:U[0]};1 in U&&(Z.catchLoc=U[1]),2 in U&&(Z.finallyLoc=U[2],Z.afterLoc=U[3]),this.tryEntries.push(Z)}function q(U){var Z=U.completion||{};Z.type="normal",delete Z.arg,U.completion=Z}function X(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(H,this),this.reset(!0)}function z(U){if(U||U===""){var Z=U[v];if(Z)return Z.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var ee=-1,R=function $(){for(;++ee<U.length;)if(p.call(U,ee))return $.value=U[ee],$.done=!1,$;return $.value=l,$.done=!0,$};return R.next=R}}throw new TypeError(s(U)+" is not iterable")}return Q.prototype=ne,g(C,"constructor",{value:ne,configurable:!0}),g(ne,"constructor",{value:Q,configurable:!0}),Q.displayName=w(ne,S,"GeneratorFunction"),h.isGeneratorFunction=function(U){var Z=typeof U=="function"&&U.constructor;return!!Z&&(Z===Q||(Z.displayName||Z.name)==="GeneratorFunction")},h.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,ne):(U.__proto__=ne,w(U,S,"GeneratorFunction")),U.prototype=Object.create(C),U},h.awrap=function(U){return{__await:U}},I(T.prototype),w(T.prototype,_,function(){return this}),h.AsyncIterator=T,h.async=function(U,Z,ee,R,$){$===void 0&&($=Promise);var G=new T(D(U,Z,ee,R),$);return h.isGeneratorFunction(Z)?G:G.next().then(function(ie){return ie.done?ie.value:G.next()})},I(C),w(C,S,"Generator"),w(C,v,function(){return this}),w(C,"toString",function(){return"[object Generator]"}),h.keys=function(U){var Z=Object(U),ee=[];for(var R in Z)ee.push(R);return ee.reverse(),function $(){for(;ee.length;){var G=ee.pop();if(G in Z)return $.value=G,$.done=!1,$}return $.done=!0,$}},h.values=z,X.prototype={constructor:X,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(q),!U)for(var Z in this)Z.charAt(0)==="t"&&p.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=l)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var Z=this;function ee(le,J){return G.type="throw",G.arg=U,Z.next=le,J&&(Z.method="next",Z.arg=l),!!J}for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R],G=$.completion;if($.tryLoc==="root")return ee("end");if($.tryLoc<=this.prev){var ie=p.call($,"catchLoc"),ae=p.call($,"finallyLoc");if(ie&&ae){if(this.prev<$.catchLoc)return ee($.catchLoc,!0);if(this.prev<$.finallyLoc)return ee($.finallyLoc)}else if(ie){if(this.prev<$.catchLoc)return ee($.catchLoc,!0)}else{if(!ae)throw Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return ee($.finallyLoc)}}}},abrupt:function(U,Z){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var R=this.tryEntries[ee];if(R.tryLoc<=this.prev&&p.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var $=R;break}}$&&(U==="break"||U==="continue")&&$.tryLoc<=Z&&Z<=$.finallyLoc&&($=null);var G=$?$.completion:{};return G.type=U,G.arg=Z,$?(this.method="next",this.next=$.finallyLoc,L):this.complete(G)},complete:function(U,Z){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&Z&&(this.next=Z),L},finish:function(U){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ee=this.tryEntries[Z];if(ee.finallyLoc===U)return this.complete(ee.completion,ee.afterLoc),q(ee),L}},catch:function(U){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ee=this.tryEntries[Z];if(ee.tryLoc===U){var R=ee.completion;if(R.type==="throw"){var $=R.arg;q(ee)}return $}}throw Error("illegal catch attempt")},delegateYield:function(U,Z,ee){return this.delegate={iterator:z(U),resultName:Z,nextLoc:ee},this.method==="next"&&(this.arg=l),L}},h}function c(l,h){var d=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!d){if(Array.isArray(l)||(d=function(S,w){if(S){if(typeof S=="string")return f(S,w);var D={}.toString.call(S).slice(8,-1);return D==="Object"&&S.constructor&&(D=S.constructor.name),D==="Map"||D==="Set"?Array.from(S):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?f(S,w):void 0}}(l))||h&&l&&typeof l.length=="number"){d&&(l=d);var p=0,g=function(){};return{s:g,n:function(){return p>=l.length?{done:!0}:{done:!1,value:l[p++]}},e:function(S){throw S},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,v=!0,_=!1;return{s:function(){d=d.call(l)},n:function(){var S=d.next();return v=S.done,S},e:function(S){_=!0,b=S},f:function(){try{v||d.return==null||d.return()}finally{if(_)throw b}}}}function f(l,h){(h==null||h>l.length)&&(h=l.length);for(var d=0,p=Array(h);d<h;d++)p[d]=l[d];return p}function y(l,h,d,p,g,b,v){try{var _=l[b](v),S=_.value}catch(w){return void d(w)}_.done?h(S):Promise.resolve(S).then(p,g)}function m(l){return function(){var h=this,d=arguments;return new Promise(function(p,g){var b=l.apply(h,d);function v(S){y(b,p,g,v,_,"next",S)}function _(S){y(b,p,g,v,_,"throw",S)}v(void 0)})}}var u=o(6343);r.exports=function(l){var h=!0;l.s.hooks.pre("save",!1,function(d){if(this.$isSubdocument)d();else{var p=this,g=this.$getAllSubdocs({useCache:!0});g.length?u(g,function(b,v){b.$__schema.s.hooks.execPre("save",b,function(_){v(_)})},function(b){if(p.$__.saveOptions&&(p.$__.saveOptions.__subdocs=null),b)return p.$__schema.s.hooks.execPost("save:error",p,[p],{error:b},function(v){d(v)});d()}):d()}},null,h),l.s.hooks.post("save",function(){var d=m(a().mark(function p(){var g,b,v,_,S;return a().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if((g=this.$__.removedSubdocs)&&g.length){w.next=3;break}return w.abrupt("return");case 3:b=[],v=c(g),w.prev=5,S=a().mark(function D(){var x;return a().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:x=_.value,b.push(new Promise(function(P,k){x.$__schema.s.hooks.execPost("deleteOne",x,[x],function(B){if(B)return k(B);P()})}));case 2:case"end":return M.stop()}},D)}),v.s();case 8:if((_=v.n()).done){w.next=12;break}return w.delegateYield(S(),"t0",10);case 10:w.next=8;break;case 12:w.next=17;break;case 14:w.prev=14,w.t1=w.catch(5),v.e(w.t1);case 17:return w.prev=17,v.f(),w.finish(17);case 20:return this.$__.removedSubdocs=null,w.next=23,Promise.all(b);case 23:case"end":return w.stop()}},p,this,[[5,14,17,20]])}));return function(){return d.apply(this,arguments)}}()),l.s.hooks.post("save",function(){var d=m(a().mark(function p(){var g,b,v,_,S,w,D=this;return a().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!this.$isSubdocument){x.next=2;break}return x.abrupt("return");case 2:if(g=this,(b=this.$getAllSubdocs({useCache:!0})).length){x.next=6;break}return x.abrupt("return");case 6:v=[],_=c(b),x.prev=8,w=a().mark(function M(){var P;return a().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:P=S.value,v.push(new Promise(function(B,L){P.$__schema.s.hooks.execPost("save",P,[P],function(V){if(V)return L(V);B()})}));case 2:case"end":return k.stop()}},M)}),_.s();case 11:if((S=_.n()).done){x.next=15;break}return x.delegateYield(w(),"t0",13);case 13:x.next=11;break;case 15:x.next=20;break;case 17:x.prev=17,x.t1=x.catch(8),_.e(x.t1);case 20:return x.prev=20,_.f(),x.finish(20);case 23:return x.prev=23,x.next=26,Promise.all(v);case 26:x.next=32;break;case 28:return x.prev=28,x.t2=x.catch(23),x.next=32,new Promise(function(M,P){D.$__schema.s.hooks.execPost("save:error",g,[g],{error:x.t2},function(k){if(k)return P(k);M()})});case 32:case"end":return x.stop()}},p,this,[[8,17,20,23],[23,28]])}));return function(){return d.apply(this,arguments)}}(),null,h)}},7201:(r,i,o)=>{"use strict";var s=o(5625).objectIdSymbol,a=o(335);function c(){var y,m;if(this.$__.shardval){m=(y=Object.keys(this.$__.shardval)).length,this.$where=this.$where||{};for(var u=0;u<m;++u)this.$where[y[u]]=this.$__.shardval[y[u]]}}function f(){var y=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(a.isPOJO(y))for(var m,u=this.$__.shardval={},l=Object.keys(y),h=l.length,d=0;d<h;++d)(m=this.$__getValue(l[d]))==null?u[l[d]]=m:a.isMongooseObject(m)?u[l[d]]=m.toObject({depopulate:!0,_isNested:!0}):m instanceof Date||m[s]?u[l[d]]=m:typeof m.valueOf=="function"?u[l[d]]=m.valueOf():u[l[d]]=m}r.exports=function(y){y.post("init",function(){return f.call(this),this}),y.pre("save",function(m){c.call(this),m()}),y.pre("remove",function(m){c.call(this),m()}),y.post("save",function(){f.call(this)})},r.exports.storeShard=f},2016:(r,i,o)=>{"use strict";function s(l,h){var d=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!d){if(Array.isArray(l)||(d=a(l))||h&&l&&typeof l.length=="number"){d&&(l=d);var p=0,g=function(){};return{s:g,n:function(){return p>=l.length?{done:!0}:{done:!1,value:l[p++]}},e:function(S){throw S},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,v=!0,_=!1;return{s:function(){d=d.call(l)},n:function(){var S=d.next();return v=S.done,S},e:function(S){_=!0,b=S},f:function(){try{v||d.return==null||d.return()}finally{if(_)throw b}}}}function a(l,h){if(l){if(typeof l=="string")return c(l,h);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?c(l,h):void 0}}function c(l,h){(h==null||h>l.length)&&(h=l.length);for(var d=0,p=Array(h);d<h;d++)p[d]=l[d];return p}var f=o(5625).arrayAtomicsSymbol,y=o(5625).sessionNewDocuments,m=o(335);function u(l,h){return l=l||{},h.$pullAll!=null&&(l.$pullAll=(l.$pullAll||[]).concat(h.$pullAll)),h.$push!=null&&(l.$push=l.$push||{},l.$push.$each=(l.$push.$each||[]).concat(h.$push.$each)),h.$addToSet!=null&&(l.$addToSet=(l.$addToSet||[]).concat(h.$addToSet)),h.$set!=null&&(l.$set=Array.isArray(h.$set)?function(p){if(Array.isArray(p))return c(p)}(d=h.$set)||function(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}(d)||a(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():Object.assign({},h.$set)),l;var d}r.exports=function(l){l.pre("save",function(){var h=this.$session();if(h!=null&&h.transaction!=null&&h[y]!=null&&!h[y].has(this)){var d={};this.isNew&&(d.isNew=!0),this.$__schema.options.versionKey&&(d.versionKey=this.get(this.$__schema.options.versionKey)),d.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),d.atomics=function(p,g){var b=new Map;g=g||new Map;var v,_=s(Object.keys(p.$__.activePaths.init).concat(Object.keys(p.$__.activePaths.modify)));try{for(_.s();!(v=_.n()).done;){var S=v.value,w=p.$__getValue(S);if(w!=null&&Array.isArray(w)&&m.isMongooseDocumentArray(w)&&w.length&&w[f]!=null&&Object.keys(w[f]).length!==0){var D=g.get(S)||{};b.set(S,u(D,w[f]))}}}catch(V){_.e(V)}finally{_.f()}var x,M=s(p.$__dirty());try{for(M.s();!(x=M.n()).done;){var P=x.value,k=P.path,B=P.value;if(B!=null&&B[f]!=null&&Object.keys(B[f]).length!==0){var L=g.get(k)||{};b.set(k,u(L,B[f]))}}}catch(V){M.e(V)}finally{M.f()}return b}(this),h[y].set(this,d)}})}},377:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){o.pre("save",!1,function(s,a){var c=this,f=this;if(this.$isSubdocument)return s();if(a&&i(a)==="object"&&"validateBeforeSave"in a?a.validateBeforeSave:this.$__schema.options.validateBeforeSave){var y=a&&i(a)==="object"&&"validateModifiedOnly"in a?{validateModifiedOnly:a.validateModifiedOnly}:null;this.$validate(y).then(function(){c.$op="save",s()},function(m){f.$__schema.s.hooks.execPost("save:error",f,[f],{error:m},function(u){f.$op="save",s(u)})})}else s()},null,!0)}},2205:(r,i,o)=>{"use strict";function s(v){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s(v)}function a(v,_){var S=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!S){if(Array.isArray(v)||(S=function(k,B){if(k){if(typeof k=="string")return c(k,B);var L={}.toString.call(k).slice(8,-1);return L==="Object"&&k.constructor&&(L=k.constructor.name),L==="Map"||L==="Set"?Array.from(k):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?c(k,B):void 0}}(v))||_&&v&&typeof v.length=="number"){S&&(v=S);var w=0,D=function(){};return{s:D,n:function(){return w>=v.length?{done:!0}:{done:!1,value:v[w++]}},e:function(k){throw k},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,M=!0,P=!1;return{s:function(){S=S.call(v)},n:function(){var k=S.next();return M=k.done,k},e:function(k){P=!0,x=k},f:function(){try{M||S.return==null||S.return()}finally{if(P)throw x}}}}function c(v,_){(_==null||_>v.length)&&(_=v.length);for(var S=0,w=Array(_);S<_;S++)w[S]=v[S];return w}function f(v,_){var S=Object.keys(v);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(v);_&&(w=w.filter(function(D){return Object.getOwnPropertyDescriptor(v,D).enumerable})),S.push.apply(S,w)}return S}function y(v){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?f(Object(S),!0).forEach(function(w){m(v,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(S)):f(Object(S)).forEach(function(w){Object.defineProperty(v,w,Object.getOwnPropertyDescriptor(S,w))})}return v}function m(v,_,S){return(_=function(w){var D=function(x){if(s(x)!="object"||!x)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var P=M.call(x,"string");if(s(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(w);return s(D)=="symbol"?D:D+""}(_))in v?Object.defineProperty(v,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[_]=S,v}var u=o(6591),l=o(967),h=o(5132),d=o(7785),p=o(6239),g=o(1829),b=o(5772);i.preparePopulationOptionsMQ=function(v,_){var S,w=v._mongooseOptions.populate,D=Object.keys(w).reduce(function(k,B){return k.concat([w[B]])},[]);_.lean!=null&&D.filter(function(k){return(k&&k.options&&k.options.lean)==null}).forEach((S=_.lean,function(k){k.options||(k.options={}),S!=null&&Array.isArray(S.virtuals)&&((S=Object.assign({},S)).virtuals=S.virtuals.filter(function(B){return typeof B=="string"&&B.startsWith(k.path+".")}).map(function(B){return B.slice(k.path.length+1)})),k.options.lean=S}));var x=v&&v.options&&v.options.session||null;x!=null&&D.forEach(function(k){k.options!=null?"session"in k.options||(k.options.session=x):k.options={session:x}});for(var M=v._fieldsForExec(),P=0;P<D.length;++P)D[P]instanceof u?D[P]=new u(y(y({},D[P]),{},{_queryProjection:M,_localModel:v.model})):(D[P]._queryProjection=M,D[P]._localModel=v.model);return D},i.createModel=function(v,_,S,w,D){v.hooks.execPreSync("createModel",_);var x=v.schema?v.schema.discriminatorMapping:null,M=x&&x.isRoot?x.key:null,P=_[M];if(M&&P&&v.discriminators){var k=v.discriminators[P]||d(v.discriminators,P);if(k){var B=g(w);return i.applyPaths(B,k.schema),new k(void 0,B,!0)}}var L={skipId:!0,isNew:!1,willInit:!0};return D!=null&&"defaults"in D&&(L.defaults=D.defaults),new v(void 0,S,L)},i.createModelAndInit=function(v,_,S,w,D,x,M){var P=x?{populated:x}:void 0,k=i.createModel(v,_,S,w,D);try{k.$init(_,P,M)}catch(B){M(B,k)}},i.applyPaths=function(v,_,S){var w,D,x=new Set;if(v){D=Object.keys(v);for(var M=[],P=0;P<D.length;++P){var k=D[P];D[P][0]==="-"&&(delete v[k],k==="-_id"?v._id=0:M.push(k.slice(1)))}D=Object.keys(v);for(var B=0;B<D.length;++B)if(D[B][0]!=="+"){var L=v[D[B]];if(p(L)&&!(D[B]==="_id"&&D.length>1)&&(!(D[B]===_.options.discriminatorKey&&D.length>1&&L!=null)||L)){w=!L;break}}for(var V=0,Q=M;V<Q.length;V++){var ne=Q[V],te=_.path(ne);te&&te.selected&&w===!1?te&&te.selected&&w===!1&&x.add(ne):(v[ne]=0,w=!0)}}var E=[],O=[],C=[];switch(function G(ie,ae){if(ae||(ae=""),C.indexOf(ie)!==-1)return[];C.push(ie);var le=[];return ie.eachPath(function(J,re){if(ae&&(J=ae+"."+J),re.$isSchemaMap||J.endsWith(".$*")){var ue=v&&"+"+J in v;re.options&&re.options.select===!1&&!ue&&O.push(J)}else{var fe=$(J,re);if(fe!=null||Array.isArray(re)||!re.$isMongooseArray||re.$isMongooseDocumentArray||(fe=$(J,re.caster)),fe!=null&&le.push(fe),re.schema){var de=G(re.schema,J);w===!1&&l(v,J,re.schema,E,de)}}}),C.pop(),le}(_),w){case!0:var I,T=a(O);try{for(T.s();!(I=T.n()).done;){var N=I.value;v[N]=0}}catch(G){T.e(G)}finally{T.f()}break;case!1:_&&_.paths._id&&_.paths._id.options&&_.paths._id.options.select===!1&&(v._id=0);var j,H=a(E);try{for(H.s();!(j=H.n()).done;){var q=j.value;x.has(q)||b(v,q)||(v[q]=v[q]||1)}}catch(G){H.e(G)}finally{H.f()}break;case void 0:if(v==null)break;for(var X=0,z=Object.keys(v||{});X<z.length;X++){var U=z[X];U.startsWith("+")&&delete v[U]}var Z,ee=a(O);try{for(ee.s();!(Z=ee.n()).done;){var R=Z.value;v[R]==null&&(v[R]=0)}}catch(G){ee.e(G)}finally{ee.f()}}function $(G,ie){if(v!=null&&typeof ie.selected=="boolean")if(ie.selected===!1&&v[G])S&&(v[G]=0);else if(w||!ie.selected||G!==_.options.discriminatorKey||v[G]==null||v[G]){if(w!==!1||!ie.selected||v[G]==null||v[G]){var ae="+"+G;if(v&&ae in v)return delete v[ae],void(w===!1&&D.length>1&&!~D.indexOf(G)&&!S?v[G]=1:w==null&&S&&ie.selected===!1&&(v[G]=0));for(var le=G.split("."),J="",re=0;re<le.length;++re)if(J+=J.length?"."+le[re]:le[re],O.indexOf(J)!==-1)return;if(!w&&ie&&ie.options&&ie.options.$skipDiscriminatorCheck)for(var ue="",fe=0;fe<le.length;++fe){ue+=(ue.length===0?"":".")+le[fe];var de=h(v,ue,!1)||h(v,ue+".$",!1);if(de&&s(de)!=="object")return}return(ie.selected?E:O).push(G),G}delete v[G]}else delete v[G]}}},9703:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(J,re){var ue=Object.keys(J);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(J);re&&(fe=fe.filter(function(de){return Object.getOwnPropertyDescriptor(J,de).enumerable})),ue.push.apply(ue,fe)}return ue}function c(J){for(var re=1;re<arguments.length;re++){var ue=arguments[re]!=null?arguments[re]:{};re%2?a(Object(ue),!0).forEach(function(fe){f(J,fe,ue[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(ue)):a(Object(ue)).forEach(function(fe){Object.defineProperty(J,fe,Object.getOwnPropertyDescriptor(ue,fe))})}return J}function f(J,re,ue){return(re=function(fe){var de=function(se){if(y(se)!="object"||!se)return se;var Ie=se[Symbol.toPrimitive];if(Ie!==void 0){var Ce=Ie.call(se,"string");if(y(Ce)!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(fe);return y(de)=="symbol"?de:de+""}(re))in J?Object.defineProperty(J,re,{value:ue,enumerable:!0,configurable:!0,writable:!0}):J[re]=ue,J}function y(J){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},y(J)}function m(J,re){return function(ue){if(Array.isArray(ue))return ue}(J)||function(ue,fe){var de=ue==null?null:typeof Symbol<"u"&&ue[Symbol.iterator]||ue["@@iterator"];if(de!=null){var se,Ie,Ce,we,Te=[],Ne=!0,Ye=!1;try{if(Ce=(de=de.call(ue)).next,fe===0){if(Object(de)!==de)return;Ne=!1}else for(;!(Ne=(se=Ce.call(de)).done)&&(Te.push(se.value),Te.length!==fe);Ne=!0);}catch(Le){Ye=!0,Ie=Le}finally{try{if(!Ne&&de.return!=null&&(we=de.return(),Object(we)!==we))return}finally{if(Ye)throw Ie}}return Te}}(J,re)||l(J,re)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(J,re){var ue=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!ue){if(Array.isArray(J)||(ue=l(J))||re&&J&&typeof J.length=="number"){ue&&(J=ue);var fe=0,de=function(){};return{s:de,n:function(){return fe>=J.length?{done:!0}:{done:!1,value:J[fe++]}},e:function(we){throw we},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,Ie=!0,Ce=!1;return{s:function(){ue=ue.call(J)},n:function(){var we=ue.next();return Ie=we.done,we},e:function(we){Ce=!0,se=we},f:function(){try{Ie||ue.return==null||ue.return()}finally{if(Ce)throw se}}}}function l(J,re){if(J){if(typeof J=="string")return h(J,re);var ue={}.toString.call(J).slice(8,-1);return ue==="Object"&&J.constructor&&(ue=J.constructor.name),ue==="Map"||ue==="Set"?Array.from(J):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?h(J,re):void 0}}function h(J,re){(re==null||re>J.length)&&(re=J.length);for(var ue=0,fe=Array(re);ue<re;ue++)fe[ue]=J[ue];return fe}var d,p=o(3550).EventEmitter,g=o(8297),b=o(7026),v=o(2319),_=o(1e3),S=o(384),w=o(5165),D=o(8331),x=o(1829),M=o(5132),P=o(5857),k=o(5792),B=o(6482),L=o(8638),V=o(882),Q=o(5682),ne=o(5678),te=o(5877),E=o(8644),O=o(335),C=o(6560),I=/\.\d+(\.|$)/,T=o(991).Ut,N=o(8892).middlewareFunctions,j=T.concat(N).reduce(function(J,re){return J.add(re)},new Set),H=O.isPOJO,q=0,X=/^\d+$/;function z(J,re){if(!(this instanceof z))return new z(J,re);if(this.obj=J,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this._searchIndexes=[],this.methods=re&&re.methods||{},this.methodOptions={},this.statics=re&&re.statics||{},this.tree={},this.query=re&&re.query||{},this.childSchemas=[],this.plugins=[],this.$id=++q,this.mapPaths=[],this.s={hooks:new g},this.options=this.defaultOptions(re),Array.isArray(J)){var ue,fe=u(J);try{for(fe.s();!(ue=fe.n()).done;){var de=ue.value;this.add(de)}}catch(Le){fe.e(Le)}finally{fe.f()}}else J&&this.add(J);if(re&&re.virtuals)for(var se=re.virtuals,Ie=0,Ce=Object.keys(se);Ie<Ce.length;Ie++){var we=Ce[Ie],Te=se[we].options?se[we].options:void 0,Ne=this.virtual(we,Te);se[we].get&&Ne.get(se[we].get),se[we].set&&Ne.set(se[we].set)}var Ye=J&&J._id&&O.isObject(J._id);!this.paths._id&&this.options._id&&!Ye&&D(this),this.setupTimestamp(this.options.timestamps)}function U(J,re){for(var ue=0,fe=Object.keys(re);ue<fe.length;ue++){var de=fe[ue],se=null;if(re[de]!=null)se=re[de];else{var Ie=M(J.paths[de],"options");if(Ie==null)continue;se=Ie.alias}if(se){var Ce=J.paths[de].path;if(Array.isArray(se)){var we,Te=u(se);try{for(Te.s();!(we=Te.n()).done;){var Ne=we.value;if(typeof Ne!="string")throw new Error("Invalid value for alias option on "+Ce+", got "+Ne);J.aliases[Ne]=Ce,J.virtual(Ne).get(function(Ye){return function(){return typeof this.get=="function"?this.get(Ye):this[Ye]}}(Ce)).set(function(Ye){return function(Le){return this.$set(Ye,Le)}}(Ce))}}catch(Ye){Te.e(Ye)}finally{Te.f()}}else{if(typeof se!="string")throw new Error("Invalid value for alias option on "+Ce+", got "+se);J.aliases[se]=Ce,J.virtual(se).get(function(Ye){return function(){return typeof this.get=="function"?this.get(Ye):this[Ye]}}(Ce)).set(function(Ye){return function(Le){return this.$set(Ye,Le)}}(Ce))}}}}z.prototype=Object.create(p.prototype),z.prototype.constructor=z,z.prototype.instanceOfSchema=!0,Object.defineProperty(z.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(z.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),Object.defineProperty(z.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0}),z.prototype.obj,z.prototype.paths,z.prototype.tree,z.prototype.clone=function(){var J=this,re=this._clone();return re.on("init",function(ue){return J.emit("init",ue)}),re},z.prototype._clone=function(J){var re=new(J=J||(this.base==null?z:this.base.Schema))({},this._userProvidedOptions);re.base=this.base,re.obj=this.obj,re.options=x(this.options),re.callQueue=this.callQueue.map(function(pt){return pt}),re.methods=x(this.methods),re.methodOptions=x(this.methodOptions),re.statics=x(this.statics),re.query=x(this.query),re.plugins=Array.prototype.slice.call(this.plugins),re._indexes=x(this._indexes),re._searchIndexes=x(this._searchIndexes),re.s.hooks=this.s.hooks.clone(),re.tree=x(this.tree),re.paths=Object.fromEntries(Object.entries(this.paths).map(function(pt){var Tt=m(pt,2);return[Tt[0],Tt[1].clone()]})),re.nested=x(this.nested),re.subpaths=x(this.subpaths);for(var ue=0,fe=Object.values(re.paths);ue<fe.length;ue++){var de=fe[ue];if(de.$isSingleNested){for(var se=de.path,Ie=0,Ce=Object.keys(de.schema.paths);Ie<Ce.length;Ie++){var we=Ce[Ie];re.singleNestedPaths[se+"."+we]=de.schema.paths[we]}for(var Te=0,Ne=Object.keys(de.schema.singleNestedPaths);Te<Ne.length;Te++){var Ye=Ne[Te];re.singleNestedPaths[se+"."+Ye]=de.schema.singleNestedPaths[Ye]}for(var Le=0,at=Object.keys(de.schema.subpaths);Le<at.length;Le++){var Et=at[Le];re.singleNestedPaths[se+"."+Et]=de.schema.subpaths[Et]}for(var Je=0,wt=Object.keys(de.schema.nested);Je<wt.length;Je++){var kt=wt[Je];re.singleNestedPaths[se+"."+kt]="nested"}}}return re._gatherChildSchemas(),re.virtuals=x(this.virtuals),re.$globalPluginsApplied=this.$globalPluginsApplied,re.$isRootDiscriminator=this.$isRootDiscriminator,re.$implicitlyCreated=this.$implicitlyCreated,re.$id=++q,re.$originalSchemaId=this.$id,re.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(re.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(re.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(re._applyDiscriminators=new Map(this._applyDiscriminators)),re.aliases=Object.assign({},this.aliases),re},z.prototype.pick=function(J,re){var ue=new z({},re||this.options);if(!Array.isArray(J))throw new b('Schema#pick() only accepts an array argument, got "'+y(J)+'"');var fe,de=u(J);try{for(de.s();!(fe=de.n()).done;){var se=fe.value;if(this.nested[se])ue.add(f({},se,M(this.tree,se)));else{var Ie=this.path(se);if(Ie==null)throw new b("Path `"+se+"` is not in the schema");ue.add(f({},se,Ie))}}}catch(Ce){de.e(Ce)}finally{de.f()}return ue},z.prototype.omit=function(J,re){var ue=new z(this,re||this.options);if(!Array.isArray(J))throw new b('Schema#omit() only accepts an array argument, got "'+y(J)+'"');for(var fe in ue.remove(J),ue.singleNestedPaths)J.includes(fe)&&delete ue.singleNestedPaths[fe];return ue},z.prototype.defaultOptions=function(J){this._userProvidedOptions=J==null?{}:x(J);var re=this.base&&this.base.options||{};if((J=c({strict:!("strict"in re)||re.strict,strictQuery:"strictQuery"in re&&re.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:!("id"in re)||re.id,typeKey:"type"},J)).versionKey&&typeof J.versionKey!="string")throw new b("`versionKey` must be falsy or string, got `"+y(J.versionKey)+"`");if(typeof J.read=="string"?J.read=B(J.read):Array.isArray(J.read)&&typeof J.read[0]=="string"&&(J.read={mode:B(J.read[0]),tags:J.read[1]}),J.optimisticConcurrency&&!J.versionKey)throw new b("Must set `versionKey` if using `optimisticConcurrency`");return J},z.prototype.discriminator=function(J,re,ue){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(J,{schema:re,options:ue}),this},z.prototype._defaultToObjectOptions=function(J){var re=J?"toJSON":"toObject";if(this._defaultToObjectOptionsMap&&this._defaultToObjectOptionsMap[re])return this._defaultToObjectOptionsMap[re];var ue=this.base&&this.base.options&&this.base.options[re]||{},fe=this.options[re]||{},de=Object.assign({},ue,fe);return this._defaultToObjectOptionsMap=this._defaultToObjectOptionsMap||{},this._defaultToObjectOptionsMap[re]=de,de},z.prototype.add=function(J,re){if(J instanceof z||J!=null&&J.instanceOfSchema)return Q(this,J),this;if(J._id===!1&&re==null&&(this.options._id=!1),(re=re||"")==="__proto__."||re==="constructor."||re==="prototype.")return this;for(var ue=Object.keys(J),fe=this.options.typeKey,de=0,se=ue;de<se.length;de++){var Ie=se[de];if(!O.specialProperties.has(Ie)){var Ce=re+Ie,we=J[Ie];if(we==null)throw new TypeError("Invalid value for schema path `"+Ce+'`, got value "'+we+'"');if(Ie!=="_id"||we!==!1){var Te=!1;if(typeof we=="string"&&(Te=(this.base!=null?this.base.Schema.Types:z.Types)[we.charAt(0).toUpperCase()+we.substring(1)]!=null),Ie!=="_id"&&(y(we)!=="object"&&typeof we!="function"&&!Te||we==null))throw new TypeError("Invalid schema configuration: `".concat(we,"` is not ")+"a valid type at path `".concat(Ie,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(we instanceof w||(we.constructor&&we.constructor.name||null)==="VirtualType")this.virtual(we);else{if(Array.isArray(we)&&we.length===1&&we[0]==null)throw new TypeError("Invalid value for schema Array path `"+Ce+'`, got value "'+we[0]+'"');if(H(we)||we instanceof _)if(Object.keys(we).length<1)re&&(this.nested[re.substring(0,re.length-1)]=!0),this.path(Ce,we);else if(!we[fe]||fe==="type"&&H(we.type)&&we.type.type)this.nested[Ce]=!0,this.add(we,Ce+".");else{var Ne=we[fe];if(H(Ne)&&Object.keys(Ne).length>0){re&&(this.nested[re.substring(0,re.length-1)]=!0);var Ye={};this._userProvidedOptions.typeKey&&(Ye.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(Ye.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(Ye.toObject=O.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(Ye.toJSON=O.omit(this._userProvidedOptions.toJSON,["transform"]));var Le=new z(Ne,Ye);Le.$implicitlyCreated=!0;var at=Object.assign({},we,f({},fe,Le));this.path(re+Ie,at)}else if(re&&(this.nested[re.substring(0,re.length-1)]=!0),this.path(re+Ie,we),we!=null&&!we.instanceOfSchema&&O.isPOJO(we.discriminators)){var Et=this.path(re+Ie);for(var Je in we.discriminators)Et.discriminator(Je,we.discriminators[Je])}}else if(re&&(this.nested[re.substring(0,re.length-1)]=!0),this.path(re+Ie,we),we[0]!=null&&!we[0].instanceOfSchema&&O.isPOJO(we[0].discriminators)){var wt=this.path(re+Ie);for(var kt in we[0].discriminators)wt.discriminator(kt,we[0].discriminators[kt])}}}}}var pt=Object.fromEntries(Object.entries(J).map(function(Tt){var an=m(Tt,1)[0];return[re+an,null]}));return U(this,pt),this},z.prototype.alias=function(J,re){return U(this,f({},J,re)),this},z.prototype.removeIndex=function(J){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(y(J)!=="object"&&typeof J!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(y(J)==="object")for(var re=this._indexes.length-1;re>=0;--re)V(this._indexes[re][0],J)&&this._indexes.splice(re,1);else for(var ue=this._indexes.length-1;ue>=0;--ue)this._indexes[ue][1]!=null&&this._indexes[ue][1].name===J&&this._indexes.splice(ue,1);return this},z.prototype.clearIndexes=function(){return this._indexes.length=0,this},z.prototype.searchIndex=function(J){return this._searchIndexes.push(J),this},z.reserved=Object.create(null),z.prototype.reserved=z.reserved;var Z=z.reserved;function ee(J){return/\.\d+/.test(J)?J.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):J}function R(J,re){if(J.mapPaths.length===0)return null;var ue,fe=u(J.mapPaths);try{for(fe.s();!(ue=fe.n()).done;){var de=ue.value.path;if(new RegExp("^"+de.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(re))return J.paths[de]}}catch(se){fe.e(se)}finally{fe.f()}return null}function $(J,re,ue){var fe=re.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(fe.length<2)return J.paths.hasOwnProperty(fe[0])?J.paths[fe[0]]:"adhocOrUndefined";var de=J.path(fe[0]),se=!1;if(!de)return"adhocOrUndefined";for(var Ie=fe.length-1,Ce=1;Ce<fe.length;++Ce){se=!1;var we=fe[Ce];if(Ce===Ie&&de&&!/\D/.test(we)){de=de.$isMongooseDocumentArray?de.$embeddedSchemaType:de instanceof d.Array?de.caster:void 0;break}if(/\D/.test(we)){if(!de||!de.schema){de=void 0;break}se=de.schema.pathType(we)==="nested",de=de.schema.path(we)}else de instanceof d.Array&&Ce!==Ie&&(de=de.caster)}return J.subpaths[ue]=de,de?"real":se?"nested":"adhocOrUndefined"}function G(J,re){var ue,fe=u(J.childSchemas);try{for(fe.s();!(ue=fe.n()).done;){var de=ue.value.schema;de.$implicitlyCreated&&(Object.assign(de.options,re),G(de,re))}}catch(se){fe.e(se)}finally{fe.f()}}Z.prototype=Z.emit=Z.listeners=Z.removeListener=Z.collection=Z.errors=Z.get=Z.init=Z.isModified=Z.isNew=Z.populated=Z.remove=Z.save=Z.toObject=Z.validate=1,Z.collection=1,z.prototype.path=function(J,re){if(re===void 0){if(this.paths[J]!=null)return this.paths[J];var ue=ee(J),fe=function(Oe,He,$e){if(Oe.paths.hasOwnProperty(He))return Oe.paths[He];if(Oe.subpaths.hasOwnProperty($e)){var ze=Oe.subpaths[$e];return ze==="nested"?void 0:ze}if(Oe.singleNestedPaths.hasOwnProperty($e)&&y(Oe.singleNestedPaths[$e])==="object"){var et=Oe.singleNestedPaths[$e];return et==="nested"?void 0:et}return null}(this,J,ue);if(fe!=null)return fe;var de=R(this,J);return de??((fe=this.hasMixedParent(ue))!=null?fe:I.test(J)?function(Oe,He,$e){return $(Oe,He,$e),Oe.subpaths[$e]}(this,J,ue):void 0)}var se=J.split(".")[0];if(Z[se]&&!this.options.suppressReservedKeysWarning){var Ie="`".concat(se,"` is a reserved schema pathname and may break some functionality. ")+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";O.warn(Ie)}y(re)==="object"&&O.hasUserDefinedProperty(re,"ref")&&C(re.ref,J);var Ce,we=J.split(/\./),Te=we.pop(),Ne=this.tree,Ye="",Le=u(we);try{for(Le.s();!(Ce=Le.n()).done;){var at=Ce.value;if(O.specialProperties.has(at))throw new Error("Cannot set special property `"+at+"` on a schema");if(Ye=Ye+=(Ye.length>0?".":"")+at,Ne[at]||(this.nested[Ye]=!0,Ne[at]={}),y(Ne[at])!=="object"){var Et="Cannot set nested path `"+J+"`. Parent path `"+Ye+"` already set to type "+Ne[at].name+".";throw new Error(Et)}Ne=Ne[at]}}catch(Oe){Le.e(Oe)}finally{Le.f()}Ne[Te]=x(re),this.paths[J]=this.interpretAsType(J,re,this.options);var Je=this.paths[J];if(Je.$isSchemaMap){var wt=J+".$*";this.paths[wt]=Je.$__schemaType,this.mapPaths.push(this.paths[wt]),Je.$__schemaType.$isSingleNested&&this.childSchemas.push({schema:Je.$__schemaType.schema,model:Je.$__schemaType.caster,path:J})}if(Je.$isSingleNested){for(var kt=0,pt=Object.keys(Je.schema.paths);kt<pt.length;kt++){var Tt=pt[kt];this.singleNestedPaths[J+"."+Tt]=Je.schema.paths[Tt]}for(var an=0,Rt=Object.keys(Je.schema.singleNestedPaths);an<Rt.length;an++){var It=Rt[an];this.singleNestedPaths[J+"."+It]=Je.schema.singleNestedPaths[It]}for(var xe=0,Kt=Object.keys(Je.schema.subpaths);xe<Kt.length;xe++){var yt=Kt[xe];this.singleNestedPaths[J+"."+yt]=Je.schema.subpaths[yt]}for(var wn=0,cn=Object.keys(Je.schema.nested);wn<cn.length;wn++){var jt=cn[wn];this.singleNestedPaths[J+"."+jt]="nested"}Object.defineProperty(Je.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Je.caster.base=this.base,this.childSchemas.push({schema:Je.schema,model:Je.caster,path:J})}else Je.$isMongooseDocumentArray&&(Object.defineProperty(Je.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Je.casterConstructor.base=this.base,this.childSchemas.push({schema:Je.schema,model:Je.casterConstructor,path:J}));if(Je.$isMongooseArray&&Je.caster instanceof v){for(var Qn=J,zt=Je;zt.$isMongooseArray;)Qn+=".$",zt.$isMongooseDocumentArray?(zt.$embeddedSchemaType._arrayPath=Qn,zt.$embeddedSchemaType._arrayParentPath=J,zt=zt.$embeddedSchemaType):(zt.caster._arrayPath=Qn,zt.caster._arrayParentPath=J,zt=zt.caster),this.subpaths[Qn]=zt;for(var Ut=0,Jr=[];Ut<Jr.length;Ut++){var pn=Jr[Ut];this.subpaths[pn.path]=pn}}if(Je.$isMongooseDocumentArray){for(var Mn=0,K=Object.keys(Je.schema.paths);Mn<K.length;Mn++){var oe=K[Mn],ce=Je.schema.paths[oe];this.subpaths[J+"."+oe]=ce,y(ce)==="object"&&ce!=null&&ce.$parentSchemaDocArray==null&&(ce.$parentSchemaDocArray=Je)}for(var he=0,pe=Object.keys(Je.schema.subpaths);he<pe.length;he++){var me=pe[he],Ee=Je.schema.subpaths[me];this.subpaths[J+"."+me]=Ee,y(Ee)==="object"&&Ee!=null&&Ee.$parentSchemaDocArray==null&&(Ee.$parentSchemaDocArray=Je)}for(var be=0,Pe=Object.keys(Je.schema.singleNestedPaths);be<Pe.length;be++){var De=Pe[be],Ae=Je.schema.singleNestedPaths[De];this.subpaths[J+"."+De]=Ae,y(Ae)==="object"&&Ae!=null&&Ae.$parentSchemaDocArray==null&&(Ae.$parentSchemaDocArray=Je)}}return this},z.prototype._gatherChildSchemas=function(){for(var J=[],re=0,ue=Object.keys(this.paths);re<ue.length;re++){var fe=ue[re];if(typeof fe=="string"){var de=this.paths[fe];de.$isMongooseDocumentArray||de.$isSingleNested?J.push({schema:de.schema,model:de.caster,path:fe}):de.$isSchemaMap&&de.$__schemaType.$isSingleNested&&J.push({schema:de.$__schemaType.schema,model:de.$__schemaType.caster,path:fe})}}return this.childSchemas=J,J},Object.defineProperty(z.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),z.prototype.interpretAsType=function(J,re,ue){if(re instanceof v){if(re.path===J)return re;var fe=re.clone();return fe.path=J,fe}var de=this.base!=null?this.base.Schema.Types:z.Types,se=this.base!=null?this.base.Types:o(1148);if(!(O.isPOJO(re)||re instanceof _)&&O.getFunctionName(re.constructor)!=="Object"){var Ie=re;(re={})[ue.typeKey]=Ie}var Ce,we=re[ue.typeKey]&&(re[ue.typeKey]instanceof Function||ue.typeKey!=="type"||!re.type.type)?re[ue.typeKey]:{};if(O.isPOJO(we)||we==="mixed")return new de.Mixed(J,re);if(Array.isArray(we)||we===Array||we==="array"||we===de.Array){var Te=we===Array||we==="array"?re.cast||re.of:we[0];if(Te&&Te.instanceOfSchema){if(!(Te instanceof z)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+J+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(J,": new Schema(...)"));Te=new z(Te)}return new de.DocumentArray(J,Te,re)}if(Te&&Te[ue.typeKey]&&Te[ue.typeKey].instanceOfSchema){if(!(Te[ue.typeKey]instanceof z)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+J+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(J,": new Schema(...)"));Te[ue.typeKey]=new z(Te[ue.typeKey])}return new de.DocumentArray(J,Te[ue.typeKey],re,Te)}if(Te!==void 0&&(Array.isArray(Te)||Te.type===Array||Te.type=="Array"))return Te&&Te.type=="Array"&&(Te.type=Array),new de.Array(J,this.interpretAsType(J,Te,ue),re);var Ne=Te==null||!Te[ue.typeKey]||ue.typeKey==="type"&&Te.type.type?Te:Te[ue.typeKey];if(typeof Te=="string")Te=de[Te.charAt(0).toUpperCase()+Te.substring(1)];else if(O.isPOJO(Ne)){if(Object.keys(Ne).length){var Ye={minimize:ue.minimize};ue.typeKey&&(Ye.typeKey=ue.typeKey),ue.hasOwnProperty("strict")&&(Ye.strict=ue.strict),ue.hasOwnProperty("strictQuery")&&(Ye.strictQuery=ue.strictQuery),ue.hasOwnProperty("toObject")&&(Ye.toObject=O.omit(ue.toObject,["transform"])),ue.hasOwnProperty("toJSON")&&(Ye.toJSON=O.omit(ue.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?Ye._id=this._userProvidedOptions._id:z.Types.DocumentArray.defaultOptions._id!=null&&(Ye._id=z.Types.DocumentArray.defaultOptions._id);var Le=new z(Ne,Ye);return Le.$implicitlyCreated=!0,new de.DocumentArray(J,Le,re)}return new de.Array(J,de.Mixed,re)}if(Te){if(we=!Te[ue.typeKey]||ue.typeKey==="type"&&Te.type.type?Te:Te[ue.typeKey],Array.isArray(we))return new de.Array(J,this.interpretAsType(J,we,ue),re);if((Ce=typeof we=="string"?we:we.schemaName||O.getFunctionName(we))==="ClockDate"&&(Ce="Date"),Ce===void 0)throw new TypeError("Invalid schema configuration: "+"Could not determine the embedded type for array `".concat(J,"`. ")+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!de.hasOwnProperty(Ce))throw new TypeError("Invalid schema configuration: "+"`".concat(Ce,"` is not a valid type within the array `").concat(J,"`.")+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new de.Array(J,Te||de.Mixed,re,ue)}if(we&&we.instanceOfSchema)return new de.Subdocument(we,J,re);if((Ce=s.isBuffer(we)?"Buffer":typeof we=="function"||y(we)==="object"?we.schemaName||O.getFunctionName(we):we===se.ObjectId?"ObjectId":we===se.Decimal128?"Decimal128":we==null?""+we:we.toString())&&(Ce=Ce.charAt(0).toUpperCase()+Ce.substring(1)),Ce==="ObjectID"&&(Ce="ObjectId"),Ce==="ClockDate"&&(Ce="Date"),Ce===void 0)throw new TypeError("Invalid schema configuration: `".concat(J,"` schematype definition is ")+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(de[Ce]==null)throw new TypeError("Invalid schema configuration: `".concat(Ce,"` is not ")+"a valid type at path `".concat(J,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");var at=new de[Ce](J,re);return at.$isSchemaMap&&function(Et,Je,wt,kt,pt){var Tt=wt+".$*",an={type:{}};O.hasUserDefinedProperty(kt,"of")&&((an=O.isPOJO(kt.of)&&Object.keys(kt.of).length>0&&!O.hasUserDefinedProperty(kt.of,Et.options.typeKey)?f({},Et.options.typeKey,new z(kt.of)):O.isPOJO(kt.of)?Object.assign({},kt.of):f({},Et.options.typeKey,kt.of))[Et.options.typeKey]&&an[Et.options.typeKey].instanceOfSchema&&an[Et.options.typeKey].eachPath(function(Rt,It){if(It.options.select===!0||It.options.select===!1)throw new b('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+wt+"."+Rt+'"')}),O.hasUserDefinedProperty(kt,"ref")&&(an.ref=kt.ref)),Je.$__schemaType=Et.interpretAsType(Tt,an,pt)}(this,at,J,re,ue),at},z.prototype.eachPath=function(J){for(var re=Object.keys(this.paths),ue=re.length,fe=0;fe<ue;++fe)J(re[fe],this.paths[re[fe]]);return this},z.prototype.requiredPaths=function(J){if(this._requiredpaths&&!J)return this._requiredpaths;for(var re=Object.keys(this.paths),ue=re.length,fe=[];ue--;){var de=re[ue];this.paths[de].isRequired&&fe.push(de)}return this._requiredpaths=fe,this._requiredpaths},z.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},z.prototype.pathType=function(J){if(this.paths.hasOwnProperty(J))return"real";if(this.virtuals.hasOwnProperty(J))return"virtual";if(this.nested.hasOwnProperty(J))return"nested";var re=ee(J);if(this.subpaths.hasOwnProperty(re)||this.subpaths.hasOwnProperty(J))return"real";var ue=this.singleNestedPaths.hasOwnProperty(re)||this.singleNestedPaths.hasOwnProperty(J);return ue?ue==="nested"?"nested":"real":R(this,J)!=null?"real":/\.\d+\.|\.\d+$/.test(J)?$(this,J,re):"adhocOrUndefined"},z.prototype.hasMixedParent=function(J){var re=J.split(/\./g);J="";for(var ue=0;ue<re.length;++ue)if(J=ue>0?J+"."+re[ue]:re[ue],this.paths.hasOwnProperty(J)&&this.paths[J]instanceof d.Mixed)return this.paths[J];return null},z.prototype.setupTimestamp=function(J){return E(this,J)},z.prototype.queue=function(J,re){return this.callQueue.push([J,re]),this},z.prototype.pre=function(J){if(J instanceof RegExp){var re,ue=Array.prototype.slice.call(arguments,1),fe=u(j);try{for(fe.s();!(re=fe.n()).done;){var de=re.value;J.test(de)&&this.pre.apply(this,[de].concat(ue))}}catch(Te){fe.e(Te)}finally{fe.f()}return this}if(Array.isArray(J)){var se,Ie=Array.prototype.slice.call(arguments,1),Ce=u(J);try{for(Ce.s();!(se=Ce.n()).done;){var we=se.value;this.pre.apply(this,[we].concat(Ie))}}catch(Te){Ce.e(Te)}finally{Ce.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},z.prototype.post=function(J){if(J instanceof RegExp){var re,ue=Array.prototype.slice.call(arguments,1),fe=u(j);try{for(fe.s();!(re=fe.n()).done;){var de=re.value;J.test(de)&&this.post.apply(this,[de].concat(ue))}}catch(Te){fe.e(Te)}finally{fe.f()}return this}if(Array.isArray(J)){var se,Ie=Array.prototype.slice.call(arguments,1),Ce=u(J);try{for(Ce.s();!(se=Ce.n()).done;){var we=se.value;this.post.apply(this,[we].concat(Ie))}}catch(Te){Ce.e(Te)}finally{Ce.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},z.prototype.plugin=function(J,re){if(typeof J!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+y(J)+'"');if(re&&re.deduplicate){var ue,fe=u(this.plugins);try{for(fe.s();!(ue=fe.n()).done;)if(ue.value.fn===J)return this}catch(de){fe.e(de)}finally{fe.f()}}return this.plugins.push({fn:J,opts:re}),J(this,re),this},z.prototype.method=function(J,re,ue){if(typeof J!="string")for(var fe in J)this.methods[fe]=J[fe],this.methodOptions[fe]=x(ue);else this.methods[J]=re,this.methodOptions[J]=x(ue);return this},z.prototype.static=function(J,re){if(typeof J!="string")for(var ue in J)this.statics[ue]=J[ue];else this.statics[J]=re;return this},z.prototype.index=function(J,re){for(var ue in J||(J={}),re||(re={}),re.expires&&O.expires(re),J)this.aliases[ue]&&(J=O.renameObjKey(J,ue,this.aliases[ue]));for(var fe=0,de=Object.keys(J);fe<de.length;fe++){var se=de[fe];J[se]==="ascending"||J[se]==="asc"?J[se]=1:J[se]!=="descending"&&J[se]!=="desc"||(J[se]=-1)}var Ie,Ce=u(this.indexes());try{for(Ce.s();!(Ie=Ce.n()).done;){var we=Ie.value;re.name==null&&we[1].name==null&&V(we[0],J)&&O.warn("Duplicate schema index on ".concat(JSON.stringify(J),' found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.'))}}catch(Te){Ce.e(Te)}finally{Ce.f()}return this._indexes.push([J,re]),this},z.prototype.set=function(J,re,ue){if(arguments.length===1)return this.options[J];switch(J){case"read":typeof re=="string"?this.options[J]={mode:B(re),tags:ue}:Array.isArray(re)&&typeof re[0]=="string"?this.options[J]={mode:B(re[0]),tags:re[1]}:this.options[J]=re,this._userProvidedOptions[J]=this.options[J];break;case"timestamps":this.setupTimestamp(re),this.options[J]=re,this._userProvidedOptions[J]=this.options[J];break;case"_id":this.options[J]=re,this._userProvidedOptions[J]=this.options[J],re&&!this.paths._id?D(this):!re&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[J]=re,this._userProvidedOptions[J]=this.options[J]}return J==="strict"&&G(this,{strict:re}),J==="strictQuery"&&G(this,{strictQuery:re}),J==="toObject"&&(delete(re=c({},re)).transform,G(this,{toObject:re})),J==="toJSON"&&(delete(re=c({},re)).transform,G(this,{toJSON:re})),this},z.prototype.get=function(J){return this.options[J]};var ie="2d 2dsphere hashed text".split(" ");function ae(J,re){var ue,fe=re.split("."),de=fe.pop(),se=J.tree,Ie=u(fe);try{for(Ie.s();!(ue=Ie.n()).done;)se=se[ue.value]}catch(Ce){Ie.e(Ce)}finally{Ie.f()}delete se[de]}function le(J){return J.startsWith("$[")&&J.endsWith("]")}Object.defineProperty(z,"indexTypes",{get:function(){return ie},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),z.prototype.indexes=function(){return k(this)},z.prototype.virtual=function(J,re){if(J instanceof w||P(J)==="VirtualType")return this.virtual(J.path,J.options);if(re=new S(re),O.hasUserDefinedProperty(re,["ref","refPath"])){if(re.localField==null)throw new Error("Reference virtuals require `localField` option");if(re.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");var ue=this.virtual(J);ue.options=re,this.pre("init",function(Ne,Ye){if(ne.has(J,Ne)){var Le=ne.get(J,Ne);if(this.$$populatedVirtuals||(this.$$populatedVirtuals={}),re.justOne||re.count?this.$$populatedVirtuals[J]=Array.isArray(Le)?Le[0]:Le:this.$$populatedVirtuals[J]=Array.isArray(Le)?Le:Le==null?[]:[Le],Ye!=null&&Ye.hydratedPopulatedDocs&&!re.count){var at=ue._getModelNamesForPopulate(this),Et=this.$$populatedVirtuals[J];if(Array.isArray(Et)||Et.$__||at?.length!==1){if(Array.isArray(Et)&&at?.length===1)for(var Je=this.db.model(at[0]),wt=0;wt<Et.length;++wt)Et[wt].$__||(Et[wt]=Je.hydrate(Et[wt]))}else{var kt=this.db.model(at[0]);this.$$populatedVirtuals[J]=kt.hydrate(Et)}}ne.unset(J,Ne)}}),ue.set(function(Ne){return this.$$populatedVirtuals||(this.$$populatedVirtuals={}),te(this.$$populatedVirtuals,J,Ne,re)}),typeof re.get=="function"&&ue.get(re.get);for(var fe=J.split("."),de=fe[0],se=0;se<fe.length-1;++se)if(this.paths[de]!=null){if(this.paths[de].$isMongooseDocumentArray||this.paths[de].$isSingleNested){var Ie=fe.slice(se+1).join(".");this.paths[de].schema.virtual(Ie,re);break}de+="."+fe[se+1]}return ue}var Ce=this.virtuals,we=J.split(".");if(this.pathType(J)==="real")throw new Error('Virtual path "'+J+'" conflicts with a real path in the schema');if(Ce[J]=we.reduce(function(Ne,Ye,Le){return Ne[Ye]||(Ne[Ye]=Le===we.length-1?new w(re,J):{}),Ne[Ye]},this.tree),re&&re.applyToArray&&we.length>1){var Te=this.path(we.slice(0,-1).join("."));if(Te&&Te.$isMongooseArray)return Te.virtual(we[we.length-1],re);throw new b('Path "'.concat(Te,'" is not an array'))}return Ce[J]},z.prototype.virtualpath=function(J){return this.virtuals.hasOwnProperty(J)?this.virtuals[J]:null},z.prototype.remove=function(J){return typeof J=="string"&&(J=[J]),Array.isArray(J)&&J.forEach(function(re){if(this.path(re)!=null||this.nested[re]){if(this.nested[re]){var ue,fe=u(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(fe.s();!(ue=fe.n()).done;){var de=ue.value;de.startsWith(re+".")&&(delete this.paths[de],delete this.nested[de],ae(this,de))}}catch(se){fe.e(se)}finally{fe.f()}return delete this.nested[re],void ae(this,re)}delete this.paths[re],ae(this,re)}},this),this},z.prototype.removeVirtual=function(J){if(typeof J=="string"&&(J=[J]),Array.isArray(J)){var re,ue=u(J);try{for(ue.s();!(re=ue.n()).done;){var fe=re.value;if(this.virtuals[fe]==null)throw new b('Attempting to remove virtual "'.concat(fe,'" that does not exist.'))}}catch(Ce){ue.e(Ce)}finally{ue.f()}var de,se=u(J);try{for(se.s();!(de=se.n()).done;){var Ie=de.value;delete this.paths[Ie],delete this.virtuals[Ie],Ie.indexOf(".")!==-1?ne.unset(Ie,this.tree):delete this.tree[Ie]}}catch(Ce){se.e(Ce)}finally{se.f()}}return this},z.prototype.loadClass=function(J,re){return J===Object.prototype||J===Function.prototype||J.prototype.hasOwnProperty("$isMongooseModelPrototype")||J.prototype.hasOwnProperty("$isMongooseDocumentPrototype")||(this.loadClass(Object.getPrototypeOf(J),re),re||Object.getOwnPropertyNames(J).forEach(function(ue){if(!ue.match(/^(length|name|prototype|constructor|__proto__)$/)){var fe=Object.getOwnPropertyDescriptor(J,ue);fe.hasOwnProperty("value")&&this.static(ue,fe.value)}},this),Object.getOwnPropertyNames(J.prototype).forEach(function(ue){if(!ue.match(/^(constructor)$/)){var fe=Object.getOwnPropertyDescriptor(J.prototype,ue);re||typeof fe.value=="function"&&this.method(ue,fe.value),typeof fe.get=="function"&&(this.virtuals[ue]&&(this.virtuals[ue].getters=[]),this.virtual(ue).get(fe.get)),typeof fe.set=="function"&&(this.virtuals[ue]&&(this.virtuals[ue].setters=[]),this.virtual(ue).set(fe.set))}},this)),this},z.prototype._getSchema=function(J){var re=this.path(J),ue=[];if(re)return re.$fullPath=J,re;for(var fe=J.split("."),de=0;de<fe.length;++de)(fe[de]==="$"||le(fe[de]))&&(fe[de]="0"),X.test(fe[de])&&(fe[de]="$");return function se(Ie,Ce){for(var we,Te,Ne=Ie.length+1;Ne--;)if(Te=Ie.slice(0,Ne).join("."),we=Ce.path(Te)){if(ue.push(Te),we.caster){if(we.caster instanceof d.Mixed)return we.caster.$fullPath=ue.join("."),we.caster;if(Ne!==Ie.length){if(Ne+1===Ie.length&&we.$embeddedSchemaType&&(Ie[Ne]==="$"||le(Ie[Ne])))return we.$embeddedSchemaType;if(we.schema){var Ye=void 0;return Ie[Ne]==="$"||le(Ie[Ne])?Ne+1===Ie.length?we.$embeddedSchemaType:((Ye=se(Ie.slice(Ne+1),we.schema))&&(Ye.$parentSchemaDocArray=Ye.$parentSchemaDocArray||(we.schema.$isSingleNested?null:we)),Ye):((Ye=se(Ie.slice(Ne),we.schema))&&(Ye.$parentSchemaDocArray=Ye.$parentSchemaDocArray||(we.schema.$isSingleNested?null:we)),Ye)}}}else if(we.$isSchemaMap){if(Ne>=Ie.length)return we;if(Ne+1>=Ie.length||we.$__schemaType instanceof d.Mixed)return we.$__schemaType;if(we.$__schemaType.schema!=null)return se(Ie.slice(Ne+1),we.$__schemaType.schema)}return we.$fullPath=ue.join("."),we}}(fe,this)},z.prototype._getPathType=function(J){return this.path(J)?"real":function re(ue,fe){for(var de,se,Ie=ue.length+1;Ie--;){if(se=ue.slice(0,Ie).join("."),de=fe.path(se))return de.caster?de.caster instanceof d.Mixed?{schema:de,pathType:"mixed"}:Ie!==ue.length&&de.schema?ue[Ie]==="$"||le(ue[Ie])?Ie===ue.length-1?{schema:de,pathType:"nested"}:re(ue.slice(Ie+1),de.schema):re(ue.slice(Ie),de.schema):{schema:de,pathType:de.$isSingleNested?"nested":"array"}:{schema:de,pathType:"real"};if(Ie===ue.length&&fe.nested[se])return{schema:fe,pathType:"nested"}}return{schema:de||fe,pathType:"undefined"}}(J.split("."),this)},z.prototype._transformDuplicateKeyError=function(J){if(!this._duplicateKeyErrorMessagesByPath||J.code!==11e3&&J.code!==11001)return J;if(J.keyPattern!=null){var re=J.keyPattern,ue=Object.keys(re);if(ue.length!==1)return J;var fe=ue[0];return this._duplicateKeyErrorMessagesByPath.hasOwnProperty(fe)?new b(this._duplicateKeyErrorMessagesByPath[fe],{cause:J}):J}return J},z.prototype._preCompile=function(){this.plugin(L,{deduplicate:!0})},r.exports=i=z,z.Types=d=o(2176),i.ObjectId=d.ObjectId},9225:(r,i,o)=>{"use strict";function s(E,O){(O==null||O>E.length)&&(O=E.length);for(var C=0,I=Array(O);C<O;C++)I[C]=E[C];return I}function a(E){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},a(E)}var c,f,y=o(1188),m=o(3180),u=o(7026),l=o(2685),h=o(2319),d=h.CastError,p=o(1895),g=o(384),b=o(5165),v=o(3164),_=o(8447),S=o(1829),w=o(5857),D=o(499),x=o(7352),M=o(335),P=o(4111).G,k=o(6951),B=o(7785),L=Symbol("mongoose#isNestedArray"),V=Object.freeze({});function Q(E,O,C,I){f||(f=o(1148).Embedded);var T,N,j="type";if(I&&I.typeKey&&(j=I.typeKey),this.schemaOptions=I,O){var H={};M.isPOJO(O)&&(O[j]?(delete(H=S(O))[j],O=O[j]):O=p),C!=null&&C.ref!=null&&H.ref==null&&(H.ref=C.ref),O===Object&&(O=p);var q=typeof O=="string"?O:M.getFunctionName(O),X=o(2176),z=X.hasOwnProperty(q)?X[q]:O;if(this.casterConstructor=z,this.casterConstructor instanceof Q&&(this.casterConstructor[L]=!0),typeof z!="function"||z.$isArraySubdocument||z.$isSchemaMap)this.caster=z,this.caster instanceof f||(this.caster.path=E);else{var U=this.caster instanceof f?null:E;this.caster=new z(U,H)}this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,h.call(this,E,C,"Array"),this.defaultValue!=null&&(T=this.defaultValue,N=typeof T=="function"),!("defaultValue"in this)||this.defaultValue!=null){var Z=function(){return N?T.call(this):T!=null?[].concat(T):[]};Z.$runBeforeSetters=!N,this.default(Z)}}Q.schemaName="Array",Q.options={castNonArrays:!0},Q.defaultOptions={},Q.set=h.set,Q.setters=[],Q.get=h.get,Q.prototype=Object.create(h.prototype),Q.prototype.constructor=Q,Q.prototype.OptionsConstructor=l,Q._checkRequired=h.prototype.checkRequired,Q.checkRequired=h.checkRequired,Q.prototype.virtuals=null,Q.prototype.checkRequired=function(E,O){return a(E)==="object"&&h._isRef(this,E,O,!0)?!!E:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():Q.checkRequired())(E)},Q.prototype.enum=function(){for(var E=this;;){var O=E&&E.caster&&E.caster.instance;if(O!=="Array"){if(O!=="String"&&O!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+O);break}E=E.caster}var C=arguments;return!Array.isArray(arguments)&&M.isObject(arguments)&&(C=M.object.vals(C)),E.caster.enum.apply(E.caster,C),this},Q.prototype.applyGetters=function(E,O){return O!=null&&O.$__!=null&&O.$populated(this.path)?E:h.prototype.applyGetters.call(this,E,O)},Q.prototype._applySetters=function(E,O,C,I){if(this.casterConstructor.$isMongooseArray&&Q.options.castNonArrays&&!this[L]){for(var T=0,N=this;N!=null&&N.$isMongooseArray&&!N.$isMongooseDocumentArray;)++T,N=N.casterConstructor;if(E!=null&&E.length!==0){var j=v(E);if(j.min===j.max&&j.max<T&&j.containsNonArrayItem)for(var H=j.max;H<T;++H)E=[E]}}return h.prototype._applySetters.call(this,E,O,C,I)},Q.prototype.cast=function(E,O,C,I,T){var N,j;if(c||(c=o(1148).Array),Array.isArray(E)){if(!E.length&&O){var H=O.schema.indexedPaths(),q=this.path;for(N=0,j=H.length;N<j;++N){var X=H[N][0][q];if(X==="2dsphere"||X==="2d")return}var z=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(z!=null){for(N=0,j=H.length;N<j;++N)if(H[N][0][z]==="2dsphere")return}}T=T||V;var U=M.isMongooseArray(E)?E.__array:E,Z=T.path||this.path;if(T.arrayPathIndex!=null&&(Z+="."+T.arrayPathIndex),U=(E=c(U,Z,O,this)).__array,C&&O!=null&&O.$__!=null&&O.$populated(this.path))return E;var ee=this.caster,R=ee.$isMongooseArray;if(ee&&this.casterConstructor!==p)try{var $=U.length;for(N=0;N<$;N++){var G={};R&&(T.arrayPath!=null||ee._arrayParentPath!=null)&&(G.arrayPathIndex=N),U[N]=ee.applySetters(U[N],O,C,void 0,G)}}catch(ae){throw new d("["+ae.kind+"]",x.inspect(E),this.path+"."+N,ae,this)}return E}var ie=this.options.castNonArrays!=null?this.options.castNonArrays:Q.options.castNonArrays;if(C||ie)return O&&C&&O.markModified(this.path),this.cast([E],O,C);throw new d("Array",x.inspect(E),this.path,null,this)},Q.prototype._castForPopulate=function(E,O){if(c||(c=o(1148).Array),Array.isArray(E)){var C,I=E.__array?E.__array:E,T=I.length,N=this.caster;if(N&&this.casterConstructor!==p)try{for(C=0;C<T;C++){var j={};N.$isMongooseArray&&N._arrayParentPath!=null&&(j.arrayPathIndex=C),I[C]=N.cast(I[C],O,!1,void 0,j)}}catch(H){throw new d("["+H.kind+"]",x.inspect(E),this.path+"."+C,H,this)}return E}throw new d("Array",x.inspect(E),this.path,null,this)},Q.prototype.$toObject=Q.prototype.toObject,Q.prototype.discriminator=function(){for(var E,O=this;O.$isMongooseArray&&!O.$isMongooseDocumentArray;)if((O=O.casterConstructor)==null||typeof O=="function")throw new u("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return(E=O).discriminator.apply(E,arguments)},Q.prototype.clone=function(){var E=Object.assign({},this.options),O=new this.constructor(this.path,this.caster,E,this.schemaOptions);return O.validators=this.validators.slice(),this.requiredValidator!==void 0&&(O.requiredValidator=this.requiredValidator),O},Q.prototype._castForQuery=function(E,O){var C=this,I=this.casterConstructor;if(E&&I.discriminators&&I.schema&&I.schema.options&&I.schema.options.discriminatorKey)if(typeof E[I.schema.options.discriminatorKey]=="string"&&I.discriminators[E[I.schema.options.discriminatorKey]])I=I.discriminators[E[I.schema.options.discriminatorKey]];else{var T=B(I.discriminators,E[I.schema.options.discriminatorKey]);T&&(I=T)}var N=this.casterConstructor.prototype,j=N&&N.castForQuery,H=N&&N.cast,q=I.castForQuery,X=this.caster;return Array.isArray(E)?(this.setters.reverse().forEach(function(z){E=z.call(C,E,C)}),E=E.map(function(z){return M.isObject(z)&&z.$elemMatch?z:j?z=j.call(X,null,z,O):H?z=H.call(X,z):q?z=q.call(X,null,z,O):z!=null?z=new I(z):z})):j?E=j.call(X,null,E,O):H?E=H.call(X,E):q?E=q.call(X,null,E,O):E!=null&&(E=new I(E)),E},Q.prototype.castForQuery=function(E,O,C){var I;if(E!=null){if(!(I=this.$conditionalHandlers[E]))throw new Error("Can't use "+E+" with Array.");return I.call(this,O,C)}return this._castForQuery(O,C)},Q.prototype.virtual=function(E,O){if(E instanceof b||w(E)==="VirtualType")return this.virtual(E.path,E.options);if(O=new g(O),M.hasUserDefinedProperty(O,["ref","refPath"]))throw new u("Cannot set populate virtual as a property of an array");var C=new b(O,E);return this.virtuals===null&&(this.virtuals={}),this.virtuals[E]=C,C};var ne=Q.prototype.$conditionalHandlers={};function te(E){return function(O,C){if(!Array.isArray(O))throw new TypeError("conditional "+E+" requires an array");var I,T=[],N=function(q,X){var z=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!z){if(Array.isArray(q)||(z=function(G,ie){if(G){if(typeof G=="string")return s(G,ie);var ae={}.toString.call(G).slice(8,-1);return ae==="Object"&&G.constructor&&(ae=G.constructor.name),ae==="Map"||ae==="Set"?Array.from(G):ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae)?s(G,ie):void 0}}(q))||X&&q&&typeof q.length=="number"){z&&(q=z);var U=0,Z=function(){};return{s:Z,n:function(){return U>=q.length?{done:!0}:{done:!1,value:q[U++]}},e:function(G){throw G},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,R=!0,$=!1;return{s:function(){z=z.call(q)},n:function(){var G=z.next();return R=G.done,G},e:function(G){$=!0,ee=G},f:function(){try{R||z.return==null||z.return()}finally{if($)throw ee}}}}(O);try{for(N.s();!(I=N.n()).done;){var j,H=I.value;T.push(_((j=this.casterConstructor.schema)!==null&&j!==void 0?j:C.schema,H,null,this&&this.$$context))}}catch(q){N.e(q)}finally{N.f()}return T}}ne.$all=function(E,O){var C=this;return Array.isArray(E)||(E=[E]),E=E.map(function(I){if(!M.isObject(I))return I;if(I.$elemMatch!=null)return{$elemMatch:_(C.casterConstructor.schema,I.$elemMatch,null,C&&C.$$context)};var T={};return T[C.path]=I,_(C.casterConstructor.schema,T,null,C&&C.$$context)[C.path]},this),this.castForQuery(null,E,O)},ne.$options=String,ne.$elemMatch=function(E,O){for(var C=Object.keys(E),I=C.length,T=0;T<I;++T){var N=C[T],j=E[N];D(N)&&j!=null&&(E[N]=this.castForQuery(N,j,O))}return E},ne.$geoIntersects=k.cast$geoIntersects,ne.$or=te("$or"),ne.$and=te("$and"),ne.$nor=te("$nor"),ne.$near=ne.$nearSphere=k.cast$near,ne.$within=ne.$geoWithin=k.cast$within,ne.$size=ne.$minDistance=ne.$maxDistance=P,ne.$exists=y,ne.$type=m,ne.$eq=ne.$gt=ne.$gte=ne.$lt=ne.$lte=ne.$not=ne.$regex=ne.$ne=Q.prototype._castForQuery,ne.$nin=h.prototype.$conditionalHandlers.$nin,ne.$in=h.prototype.$conditionalHandlers.$in,r.exports=Q},4725:(r,i,o)=>{"use strict";function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}function a(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);p&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,b)}return g}function c(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(b){f(d,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(g,b))})}return d}function f(d,p,g){return(p=function(b){var v=function(_){if(s(_)!="object"||!_)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var w=S.call(_,"string");if(s(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(b);return s(v)=="symbol"?v:v+""}(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}var y=o(6148),m=o(2319),u=o(6237);function l(d,p){m.call(this,d,p,"BigInt")}function h(d,p){return this.castForQuery(null,d,p)}l.schemaName="BigInt",l.defaultOptions={},l.prototype=Object.create(m.prototype),l.prototype.constructor=l,l._cast=u,l.set=m.set,l.setters=[],l.get=m.get,l.cast=function(d){return arguments.length===0||(d===!1&&(d=this._defaultCaster),this._cast=d),this._cast},l._checkRequired=function(d){return d!=null},l.checkRequired=m.checkRequired,l.prototype.checkRequired=function(d){return this.constructor._checkRequired(d)},l.prototype.cast=function(d){var p;p=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():l.cast();try{return p(d)}catch(g){throw new y("BigInt",d,this.path,g,this)}},l.$conditionalHandlers=c(c({},m.prototype.$conditionalHandlers),{},{$gt:h,$gte:h,$lt:h,$lte:h}),l.prototype.castForQuery=function(d,p,g){var b;if(d!=null)return(b=l.$conditionalHandlers[d])?b.call(this,p):this.applySetters(p,g);try{return this.applySetters(p,g)}catch(v){throw v instanceof y&&v.path===this.path&&this.$fullPath!=null&&(v.path=this.$fullPath),v}},l.prototype._castNullish=function(d){return d===void 0||(typeof this.constructor.cast=="function"?this.constructor.cast():l.cast()),d},r.exports=l},7116:(r,i,o)=>{"use strict";function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(l)}function a(l,h){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);h&&(p=p.filter(function(g){return Object.getOwnPropertyDescriptor(l,g).enumerable})),d.push.apply(d,p)}return d}function c(l,h,d){return(h=function(p){var g=function(b){if(s(b)!="object"||!b)return b;var v=b[Symbol.toPrimitive];if(v!==void 0){var _=v.call(b,"string");if(s(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(p);return s(g)=="symbol"?g:g+""}(h))in l?Object.defineProperty(l,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[h]=d,l}var f=o(6148),y=o(2319),m=o(7092);function u(l,h){y.call(this,l,h,"Boolean")}u.schemaName="Boolean",u.defaultOptions={},u.prototype=Object.create(y.prototype),u.prototype.constructor=u,u._cast=m,u.set=y.set,u.setters=[],u.get=y.get,u.cast=function(l){return arguments.length===0||(l===!1&&(l=this._defaultCaster),this._cast=l),this._cast},u._defaultCaster=function(l){if(l!=null&&typeof l!="boolean")throw new Error;return l},u._checkRequired=function(l){return l===!0||l===!1},u.checkRequired=y.checkRequired,u.prototype.checkRequired=function(l){return this.constructor._checkRequired(l)},Object.defineProperty(u,"convertToTrue",{get:function(){return m.convertToTrue},set:function(l){m.convertToTrue=l}}),Object.defineProperty(u,"convertToFalse",{get:function(){return m.convertToFalse},set:function(l){m.convertToFalse=l}}),u.prototype.cast=function(l){var h;h=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():u.cast();try{return h(l)}catch(d){throw new f("Boolean",l,this.path,d,this)}},u.$conditionalHandlers=function(l){for(var h=1;h<arguments.length;h++){var d=arguments[h]!=null?arguments[h]:{};h%2?a(Object(d),!0).forEach(function(p){c(l,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):a(Object(d)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(d,p))})}return l}({},y.prototype.$conditionalHandlers),u.prototype.castForQuery=function(l,h,d){var p;if(l!=null)return(p=u.$conditionalHandlers[l])?p.call(this,h):this.applySetters(h,d);try{return this.applySetters(h,d)}catch(g){throw g instanceof f&&g.path===this.path&&this.$fullPath!=null&&(g.path=this.$fullPath),g}},u.prototype._castNullish=function(l){if(l===void 0)return l;var h=typeof this.constructor.cast=="function"?this.constructor.cast():u.cast();return h==null?l:!(h.convertToFalse instanceof Set&&h.convertToFalse.has(l))&&(!!(h.convertToTrue instanceof Set&&h.convertToTrue.has(l))||l)},r.exports=u},1792:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(_,S){var w=Object.keys(_);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(_);S&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(_,x).enumerable})),w.push.apply(w,D)}return w}function c(_){for(var S=1;S<arguments.length;S++){var w=arguments[S]!=null?arguments[S]:{};S%2?a(Object(w),!0).forEach(function(D){f(_,D,w[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(w)):a(Object(w)).forEach(function(D){Object.defineProperty(_,D,Object.getOwnPropertyDescriptor(w,D))})}return _}function f(_,S,w){return(S=function(D){var x=function(M){if(y(M)!="object"||!M)return M;var P=M[Symbol.toPrimitive];if(P!==void 0){var k=P.call(M,"string");if(y(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(D);return y(x)=="symbol"?x:x+""}(S))in _?Object.defineProperty(_,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):_[S]=w,_}function y(_){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},y(_)}var m=o(9820),u=o(3958),l=o(2319),h=o(133),d=o(335),p=m.Binary,g=l.CastError;function b(_,S){l.call(this,_,S,"Buffer")}function v(_,S){return this.castForQuery(null,_,S)}b.schemaName="Buffer",b.defaultOptions={},b.prototype=Object.create(l.prototype),b.prototype.constructor=b,b.prototype.OptionsConstructor=u,b._checkRequired=function(_){return!(!_||!_.length)},b.set=l.set,b.setters=[],b.get=l.get,b.checkRequired=l.checkRequired,b.prototype.checkRequired=function(_,S){return l._isRef(this,_,S,!0)?!!_:this.constructor._checkRequired(_)},b.prototype.cast=function(_,S,w){var D;if(l._isRef(this,_,S,w)){if(_&&_.isMongooseBuffer)return _;if(s.isBuffer(_))return _&&_.isMongooseBuffer||(_=new m(_,[this.path,S]),this.options.subtype!=null&&(_._subtype=this.options.subtype)),_;if(_ instanceof p){if(D=new m(_.value(!0),[this.path,S]),typeof _.sub_type!="number")throw new g("Buffer",_,this.path,null,this);return D._subtype=_.sub_type,D}if(_==null||d.isNonBuiltinObject(_))return this._castRef(_,S,w)}if(_&&_._id&&(_=_._id),_&&_.isMongooseBuffer)return _;if(s.isBuffer(_))return _&&_.isMongooseBuffer||(_=new m(_,[this.path,S]),this.options.subtype!=null&&(_._subtype=this.options.subtype)),_;if(_ instanceof p){if(D=new m(_.value(!0),[this.path,S]),typeof _.sub_type!="number")throw new g("Buffer",_,this.path,null,this);return D._subtype=_.sub_type,D}if(_===null)return _;var x=y(_);if(x==="string"||x==="number"||Array.isArray(_)||x==="object"&&_.type==="Buffer"&&Array.isArray(_.data))return x==="number"&&(_=[_]),D=new m(_,[this.path,S]),this.options.subtype!=null&&(D._subtype=this.options.subtype),D;if(d.isPOJO(_)&&(_.$binary instanceof p||typeof _.$binary=="string")){var M=this.cast(s.from(_.$binary,"base64"));if(_.$type!=null)return M._subtype=_.$type,M}throw new g("Buffer",_,this.path,null,this)},b.prototype.subtype=function(_){return this.options.subtype=_,this},b.prototype.$conditionalHandlers=c(c({},l.prototype.$conditionalHandlers),{},{$bitsAllClear:h,$bitsAnyClear:h,$bitsAllSet:h,$bitsAnySet:h,$gt:v,$gte:v,$lt:v,$lte:v}),b.prototype.castForQuery=function(_,S,w){var D,x;if(_!=null){if(!(D=this.$conditionalHandlers[_]))throw new Error("Can't use "+_+" with Buffer.");return D.call(this,S)}try{x=this.applySetters(S,w)}catch(M){throw M instanceof g&&M.path===this.path&&this.$fullPath!=null&&(M.path=this.$fullPath),M}return x&&x.toObject({transform:!1,virtuals:!1})},r.exports=b},7386:(r,i,o)=>{"use strict";function s(v,_){var S=Object.keys(v);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(v);_&&(w=w.filter(function(D){return Object.getOwnPropertyDescriptor(v,D).enumerable})),S.push.apply(S,w)}return S}function a(v){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?s(Object(S),!0).forEach(function(w){c(v,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(S)):s(Object(S)).forEach(function(w){Object.defineProperty(v,w,Object.getOwnPropertyDescriptor(S,w))})}return v}function c(v,_,S){return(_=function(w){var D=function(x){if(f(x)!="object"||!x)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var P=M.call(x,"string");if(f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(w);return f(D)=="symbol"?D:D+""}(_))in v?Object.defineProperty(v,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[_]=S,v}function f(v){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(v)}var y=o(9507),m=o(7236),u=o(2319),l=o(9973),h=o(5857),d=o(335),p=u.CastError;function g(v,_){u.call(this,v,_,"Date")}function b(v){return this.cast(v)}g.schemaName="Date",g.defaultOptions={},g.prototype=Object.create(u.prototype),g.prototype.constructor=g,g.prototype.OptionsConstructor=m,g._cast=l,g.set=u.set,g.setters=[],g.get=u.get,g.cast=function(v){return arguments.length===0||(v===!1&&(v=this._defaultCaster),this._cast=v),this._cast},g._defaultCaster=function(v){if(v!=null&&!(v instanceof Date))throw new Error;return v},g.prototype.expires=function(v){return h(this._index)!=="Object"&&(this._index={}),this._index.expires=v,d.expires(this._index),this},g._checkRequired=function(v){return v instanceof Date},g.checkRequired=u.checkRequired,g.prototype.checkRequired=function(v,_){return f(v)==="object"&&u._isRef(this,v,_,!0)?v!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():g.checkRequired())(v)},g.prototype.min=function(v,_){if(this.minValidator&&(this.validators=this.validators.filter(function(D){return D.validator!==this.minValidator},this)),v){var S=_||y.messages.Date.min;typeof S=="string"&&(S=S.replace(/{MIN}/,v===Date.now?"Date.now()":v.toString()));var w=this;this.validators.push({validator:this.minValidator=function(D){var x=v;typeof v=="function"&&v!==Date.now&&(x=x.call(this));var M=x===Date.now?x():w.cast(x);return D===null||D.valueOf()>=M.valueOf()},message:S,type:"min",min:v})}return this},g.prototype.max=function(v,_){if(this.maxValidator&&(this.validators=this.validators.filter(function(D){return D.validator!==this.maxValidator},this)),v){var S=_||y.messages.Date.max;typeof S=="string"&&(S=S.replace(/{MAX}/,v===Date.now?"Date.now()":v.toString()));var w=this;this.validators.push({validator:this.maxValidator=function(D){var x=v;typeof x=="function"&&x!==Date.now&&(x=x.call(this));var M=x===Date.now?x():w.cast(x);return D===null||D.valueOf()<=M.valueOf()},message:S,type:"max",max:v})}return this},g.prototype.cast=function(v){var _;_=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();try{return _(v)}catch(S){throw new p("date",v,this.path,S,this)}},g.prototype.$conditionalHandlers=a(a({},u.prototype.$conditionalHandlers),{},{$gt:b,$gte:b,$lt:b,$lte:b}),g.prototype.castForQuery=function(v,_,S){if(v==null)try{return this.applySetters(_,S)}catch(D){throw D instanceof p&&D.path===this.path&&this.$fullPath!=null&&(D.path=this.$fullPath),D}var w=this.$conditionalHandlers[v];if(!w)throw new Error("Can't use "+v+" with Date.");return w.call(this,_)},r.exports=g},8598:(r,i,o)=>{"use strict";function s(p){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s(p)}function a(p,g){var b=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);g&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(p,_).enumerable})),b.push.apply(b,v)}return b}function c(p){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?a(Object(b),!0).forEach(function(v){f(p,v,b[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(b)):a(Object(b)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(b,v))})}return p}function f(p,g,b){return(g=function(v){var _=function(S){if(s(S)!="object"||!S)return S;var w=S[Symbol.toPrimitive];if(w!==void 0){var D=w.call(S,"string");if(s(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return s(_)=="symbol"?_:_+""}(g))in p?Object.defineProperty(p,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[g]=b,p}var y=o(2319),m=y.CastError,u=o(3854),l=o(2128);function h(p,g){y.call(this,p,g,"Decimal128")}function d(p){return this.cast(p)}h.schemaName="Decimal128",h.defaultOptions={},h.prototype=Object.create(y.prototype),h.prototype.constructor=h,h._cast=u,h.set=y.set,h.setters=[],h.get=y.get,h.cast=function(p){return arguments.length===0||(p===!1&&(p=this._defaultCaster),this._cast=p),this._cast},h._defaultCaster=function(p){if(p!=null&&!l(p,"Decimal128"))throw new Error;return p},h._checkRequired=function(p){return l(p,"Decimal128")},h.checkRequired=y.checkRequired,h.prototype.checkRequired=function(p,g){return y._isRef(this,p,g,!0)?!!p:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():h.checkRequired())(p)},h.prototype.cast=function(p,g,b){if(y._isRef(this,p,g,b))return l(p,"Decimal128")?p:this._castRef(p,g,b);var v;v=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():h.cast();try{return v(p)}catch(_){throw new m("Decimal128",p,this.path,_,this)}},h.prototype.$conditionalHandlers=c(c({},y.prototype.$conditionalHandlers),{},{$gt:d,$gte:d,$lt:d,$lte:d}),r.exports=h},9970:(r,i,o)=>{"use strict";function s(te){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s(te)}function a(te,E){var O=Object.keys(te);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(te);E&&(C=C.filter(function(I){return Object.getOwnPropertyDescriptor(te,I).enumerable})),O.push.apply(O,C)}return O}function c(te,E,O){return(E=function(C){var I=function(T){if(s(T)!="object"||!T)return T;var N=T[Symbol.toPrimitive];if(N!==void 0){var j=N.call(T,"string");if(s(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(C);return s(I)=="symbol"?I:I+""}(E))in te?Object.defineProperty(te,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):te[E]=O,te}var f,y,m=o(6148),u=o(2512),l=o(3550).EventEmitter,h=o(9225),d=o(4172),p=o(2319),g=o(8447),b=o(8650),v=o(5962),_=o(8145),S=o(499),w=o(335),D=o(371),x=o(9662),M=o(5625).arrayAtomicsSymbol,P=o(5625).arrayPathSymbol,k=o(5625).documentArrayParent;function B(te,E,O,C){if(E.options&&E.options.timeseries)throw new x(te,"timeseries");var I=B.defaultOptions&&B.defaultOptions._id;I!=null&&((C=C||{})._id=I),C!=null&&C._id!=null?E=v(E,C):O!=null&&O._id!=null&&(E=v(E,O));var T=L(E,O);T.prototype.$basePath=te,h.call(this,te,T,O),this.schema=E,this.schemaOptions=C||{},this.$isMongooseDocumentArray=!0,this.Constructor=T,T.base=E.base;var N=this.defaultValue;"defaultValue"in this&&N==null||this.default(function(){var j=N.call(this);return j==null||Array.isArray(j)||(j=[j]),j}),this.$embeddedSchemaType=new u(te+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1,$parentSchemaType:this}),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function L(te,E,O){function C(){y.apply(this,arguments),this.__parentArray!=null&&this.__parentArray.getArrayParent()!=null&&this.$session(this.__parentArray.getArrayParent().$session())}y||(y=o(8578)),te._preCompile();var I=O!=null?O.prototype:y.prototype;for(var T in C.prototype=Object.create(I),C.prototype.$__setSchema(te),C.schema=te,C.prototype.constructor=C,C.$isArraySubdocument=!0,C.events=new l,C.base=te.base,te.methods)C.prototype[T]=te.methods[T];for(var N in te.statics)C[N]=te.statics[N];for(var j in l.prototype)C[j]=l.prototype[j];return C.options=E,C}B.schemaName="DocumentArray",B.options={castNonArrays:!0},B.prototype=Object.create(h.prototype),B.prototype.constructor=B,B.prototype.OptionsConstructor=d,B.prototype.$conditionalHandlers=function(te){for(var E=1;E<arguments.length;E++){var O=arguments[E]!=null?arguments[E]:{};E%2?a(Object(O),!0).forEach(function(C){c(te,C,O[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(O)):a(Object(O)).forEach(function(C){Object.defineProperty(te,C,Object.getOwnPropertyDescriptor(O,C))})}return te}({},h.prototype.$conditionalHandlers),B.prototype.discriminator=function(te,E,O){var C;typeof te=="function"&&(te=w.getFunctionName(te)),O=O||{};var I=w.isPOJO(O)?O.value:O,T=typeof O.clone!="boolean"||O.clone;E.instanceOfSchema&&T&&(E=E.clone());var N=L(E=b(this.casterConstructor,te,E,I,null,null,(C=O)===null||C===void 0?void 0:C.overwriteExisting),null,this.casterConstructor);N.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(N,"name",{value:te})}catch{}return this.casterConstructor.discriminators[te]=N,this.casterConstructor.discriminators[te]},B.prototype.doValidate=function(te,E,O,C){f||(f=o(4941));var I=this;try{p.prototype.doValidate.call(this,te,function(T){if(T)return E(T);var N,j=te&&te.length;if(!j||C&&C.updateValidator)return E();function H(Z){Z!=null&&(N=Z),--j||E(N)}w.isMongooseDocumentArray(te)||(te=new f(te,I.path,O));for(var q=0,X=j;q<X;++q){var z=te[q];if(z!=null){if(!(z instanceof y)){var U=D(I.casterConstructor,te[q]);z=te[q]=new U(z,te,void 0,void 0,q)}C==null||!C.validateModifiedOnly||z.$isModified()?z.$__validate(null,C,H):--j||E(N)}else--j||E(N)}},O)}catch(T){return E(T)}},B.prototype.doValidateSync=function(te,E,O){var C=p.prototype.doValidateSync.call(this,te,E);if(C!=null)return C;var I=te&&te.length,T=null;if(I){for(var N=0,j=I;N<j;++N){var H=te[N];if(H){if(!(H instanceof y)){var q=D(this.casterConstructor,te[N]);H=te[N]=new q(H,te,void 0,void 0,N)}if(O==null||!O.validateModifiedOnly||H.$isModified()){var X=H.validateSync(O);X&&T==null&&(T=X)}}}return T}},B.prototype.getDefault=function(te,E,O){var C=typeof this.defaultValue=="function"?this.defaultValue.call(te):this.defaultValue;if(C==null||O&&O.skipCast)return C;f||(f=o(4941)),Array.isArray(C)||(C=[C]),C=new f(C,this.path,te);for(var I=0;I<C.length;++I){var T=new(D(this.casterConstructor,C[I]))({},C,void 0,void 0,I);T.$init(C[I]),T.isNew=!0,Object.assign(T.$__.activePaths.default,T.$__.activePaths.init),T.$__.activePaths.init={},C[I]=T}return C};var V=Object.freeze({transform:!1,virtuals:!1}),Q=Object.freeze({skipId:!1,willInit:!0});function ne(te,E,O){if(O&&E){for(var C,I,T,N=te.path+".",j=Object.keys(E),H=j.length,q={};H--;)if((I=j[H]).startsWith(N)){if((T=I.substring(N.length))==="$")continue;T.startsWith("$.")&&(T=T.substring(2)),C||(C=!0),q[T]=E[I]}return C&&q||void 0}}B.prototype.cast=function(te,E,O,C,I){if(f||(f=o(4941)),te!=null&&te[P]!=null&&te===C)return te;var T,N,j=(I=I||{}).path||this.path;if(!Array.isArray(te)){if(!O&&!B.options.castNonArrays)throw new m("DocumentArray",te,this.path,null,this);return E&&O&&E.markModified(j),this.cast([te],E,O,C,I)}I.skipDocumentArrayCast&&!w.isMongooseDocumentArray(te)||(te=new f(te,j,E,this)),C!=null&&(te[M]=C[M]||{}),I.arrayPathIndex!=null&&(te[P]=j+"."+I.arrayPathIndex);for(var H=w.isMongooseDocumentArray(te)?te.__array:te,q=H.length,X=0;X<q;++X)if(H[X]){var z=D(this.casterConstructor,H[X]),U=_(H[X],!0);if(H[X]!==U&&(H[X]=U),H[X]instanceof y){if(H[X][k]!==E)if(O){var Z=new z(null,te,Q,T,X);H[X]=Z.$init(H[X])}else{var ee=new z(H[X],te,void 0,void 0,X);H[X]=ee}H[X].__index==null&&H[X].$setIndex(X)}else if(H[X]!=null)if(O)E?T||(T=ne(this,E.$__.selected,O)):T=!0,N=new z(null,te,Q,T,X),H[X]=N.$init(H[X]);else if(C&&typeof C.id=="function"&&(N=C.id(H[X]._id)),C&&N&&w.deepEqual(N.toObject(V),H[X]))N.set(H[X]),H[X]=N;else try{N=new z(H[X],te,void 0,void 0,X),H[X]=N}catch(R){throw new m("embedded",H[X],te[P],R,this)}}return te},B.prototype.clone=function(){var te=Object.assign({},this.options),E=new this.constructor(this.path,this.schema,te,this.schemaOptions);return E.validators=this.validators.slice(),this.requiredValidator!==void 0&&(E.requiredValidator=this.requiredValidator),E.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),E._appliedDiscriminators=this._appliedDiscriminators,E},B.prototype.applyGetters=function(te,E){return p.prototype.applyGetters.call(this,te,E)},B.defaultOptions={},B.set=p.set,B.setters=[],B.get=p.get,B.prototype.$conditionalHandlers.$elemMatch=function(te,E){for(var O,C=Object.keys(te),I=C.length,T=0;T<I;++T){var N=C[T],j=te[N];S(N)&&j!=null&&(te[N]=this.castForQuery(N,j,E))}var H=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,q=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(H!=null&&te[H]!=null&&q[te[H]]!=null)return g(q[te[H]],te,null,this&&this.$$context);var X=(O=this.casterConstructor.schema)!==null&&O!==void 0?O:E.schema;return g(X,te,null,this&&this.$$context)},r.exports=B},2512:(r,i,o)=>{"use strict";var s=o(7026),a=o(2319),c=o(963),f=o(371);function y(m,u){if(this.$parentSchemaType=u&&u.$parentSchemaType,!this.$parentSchemaType)throw new s("Cannot create DocumentArrayElement schematype without a parent");delete u.$parentSchemaType,a.call(this,m,u,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}y.schemaName="DocumentArrayElement",y.defaultOptions={},y.prototype=Object.create(a.prototype),y.prototype.constructor=y,y.prototype.cast=function(){var m;return(m=this.$parentSchemaType).cast.apply(m,arguments)[0]},y.prototype.doValidate=function(m,u,l,h){var d=f(this.caster,m);return!m||m instanceof d||(m=new d(m,l,null,null,h&&h.index!=null?h.index:null)),c.prototype.doValidate.call(this,m,u,l,h)},y.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;var m=a.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,m.caster=this.caster,m.schema=this.schema,m},r.exports=y},9567:(r,i,o)=>{"use strict";function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}function a(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);p&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,b)}return g}function c(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(b){f(d,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(g,b))})}return d}function f(d,p,g){return(p=function(b){var v=function(_){if(s(_)!="object"||!_)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var w=S.call(_,"string");if(s(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(b);return s(v)=="symbol"?v:v+""}(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}var y=o(6148),m=o(2319),u=o(4631);function l(d,p){m.call(this,d,p,"Double")}function h(d){return this.cast(d)}l.schemaName="Double",l.defaultOptions={},l.prototype=Object.create(m.prototype),l.prototype.constructor=l,l._cast=u,l.set=m.set,l.setters=[],l.get=m.get,l._defaultCaster=function(d){if(d!=null&&d._bsontype!=="Double")throw new Error;return d},l.cast=function(d){return arguments.length===0||(d===!1&&(d=this._defaultCaster),this._cast=d),this._cast},l._checkRequired=function(d){return d!=null},l.checkRequired=m.checkRequired,l.prototype.checkRequired=function(d){return this.constructor._checkRequired(d)},l.prototype.cast=function(d){var p;p=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():l.cast();try{return p(d)}catch(g){throw new y("Double",d,this.path,g,this)}},l.prototype.$conditionalHandlers=c(c({},m.prototype.$conditionalHandlers),{},{$gt:h,$gte:h,$lt:h,$lte:h}),r.exports=l},2176:(r,i,o)=>{"use strict";i.Array=o(9225),i.BigInt=o(4725),i.Boolean=o(7116),i.Buffer=o(1792),i.Date=o(7386),i.Decimal128=i.Decimal=o(8598),i.DocumentArray=o(9970),i.Map=o(5690),i.Mixed=o(1895),i.Number=o(8191),i.ObjectId=o(9476),i.String=o(9391),i.Subdocument=o(963),i.UUID=o(7245),i.Double=o(9567),i.Int32=o(356),i.Oid=i.ObjectId,i.Object=i.Mixed,i.Bool=i.Boolean,i.ObjectID=i.ObjectId},356:(r,i,o)=>{"use strict";function s(p){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s(p)}function a(p,g){var b=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);g&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(p,_).enumerable})),b.push.apply(b,v)}return b}function c(p){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?a(Object(b),!0).forEach(function(v){f(p,v,b[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(b)):a(Object(b)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(b,v))})}return p}function f(p,g,b){return(g=function(v){var _=function(S){if(s(S)!="object"||!S)return S;var w=S[Symbol.toPrimitive];if(w!==void 0){var D=w.call(S,"string");if(s(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(v);return s(_)=="symbol"?_:_+""}(g))in p?Object.defineProperty(p,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[g]=b,p}var y=o(6148),m=o(2319),u=o(3724),l=o(133);function h(p,g){m.call(this,p,g,"Int32")}function d(p,g){return this.castForQuery(null,p,g)}h.schemaName="Int32",h.defaultOptions={},h.prototype=Object.create(m.prototype),h.prototype.constructor=h,h._cast=u,h.set=m.set,h.setters=[],h.get=m.get,h._defaultCaster=function(p){if(p!=null&&(typeof p!="number"||p!==(0|p)||p<-2147483648||p>2147483647))throw new Error;return p},h.cast=function(p){return arguments.length===0||(p===!1&&(p=this._defaultCaster),this._cast=p),this._cast},h._checkRequired=function(p){return p!=null},h.checkRequired=m.checkRequired,h.prototype.checkRequired=function(p){return this.constructor._checkRequired(p)},h.prototype.cast=function(p){var g;g=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():h.cast();try{return g(p)}catch(b){throw new y("Int32",p,this.path,b,this)}},h.$conditionalHandlers=c(c({},m.prototype.$conditionalHandlers),{},{$gt:d,$gte:d,$lt:d,$lte:d,$bitsAllClear:l,$bitsAnyClear:l,$bitsAllSet:l,$bitsAnySet:l}),h.prototype.castForQuery=function(p,g,b){var v;if(p!=null)return(v=h.$conditionalHandlers[p])?v.call(this,g):this.applySetters(g,b);try{return this.applySetters(g,b)}catch(_){throw _ instanceof y&&_.path===this.path&&this.$fullPath!=null&&(_.path=this.$fullPath),_}},r.exports=h},5690:(r,i,o)=>{"use strict";function s(b){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s(b)}function a(b,v){(v==null||v>b.length)&&(v=b.length);for(var _=0,S=Array(v);_<v;_++)S[_]=b[_];return S}function c(b,v){for(var _=0;_<v.length;_++){var S=v[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,f(S.key),S)}}function f(b){var v=function(_){if(s(_)!="object"||!_)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var w=S.call(_,"string");if(s(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(b);return s(v)=="symbol"?v:v+""}function y(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!b})()}function m(){return m=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(b,v,_){var S=function(D,x){for(;!{}.hasOwnProperty.call(D,x)&&(D=u(D))!==null;);return D}(b,v);if(S){var w=Object.getOwnPropertyDescriptor(S,v);return w.get?w.get.call(arguments.length<3?b:_):w.value}},m.apply(null,arguments)}function u(b){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},u(b)}function l(b,v){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,S){return _.__proto__=S,_},l(b,v)}var h=o(4902),d=o(7488),p=o(2319),g=function(b){function v(w,D){var x;return function(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}(this,v),(x=function(M,P,k){return P=u(P),function(B,L){if(L&&(s(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}(B)}(M,y()?Reflect.construct(P,k||[],u(M).constructor):P.apply(M,k))}(this,v,[w,D,"Map"])).$isSchemaMap=!0,x}return function(w,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(D&&D.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),D&&l(w,D)}(v,b),_=v,S=[{key:"set",value:function(w,D){return p.set(w,D)}},{key:"cast",value:function(w,D,x){if(w instanceof h)return w;var M=this.path;if(x){var P=new h({},M,D,this.$__schemaType);if(w instanceof o.g.Map){var k,B=function(O,C){var I=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!I){if(Array.isArray(O)||(I=function(X,z){if(X){if(typeof X=="string")return a(X,z);var U={}.toString.call(X).slice(8,-1);return U==="Object"&&X.constructor&&(U=X.constructor.name),U==="Map"||U==="Set"?Array.from(X):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?a(X,z):void 0}}(O))||C&&O&&typeof O.length=="number"){I&&(O=I);var T=0,N=function(){};return{s:N,n:function(){return T>=O.length?{done:!0}:{done:!1,value:O[T++]}},e:function(X){throw X},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,H=!0,q=!1;return{s:function(){I=I.call(O)},n:function(){var X=I.next();return H=X.done,X},e:function(X){q=!0,j=X},f:function(){try{H||I.return==null||I.return()}finally{if(q)throw j}}}}(w.keys());try{for(B.s();!(k=B.n()).done;){var L=k.value,V=w.get(L);V=V==null?P.$__schemaType._castNullish(V):P.$__schemaType.cast(V,D,!0,null,{path:M+"."+L}),P.$init(L,V)}}catch(O){B.e(O)}finally{B.f()}}else for(var Q=0,ne=Object.keys(w);Q<ne.length;Q++){var te=ne[Q],E=w[te];E=E==null?P.$__schemaType._castNullish(E):P.$__schemaType.cast(E,D,!0,null,{path:M+"."+te}),P.$init(te,E)}return P}return new h(w,M,D,this.$__schemaType)}},{key:"clone",value:function(){var w,D,x,M=(w=v,D=this,typeof(x=m(u(w.prototype),"clone",D))=="function"?function(P){return x.apply(D,P)}:x)([]);return this.$__schemaType!=null&&(M.$__schemaType=this.$__schemaType.clone()),M}}],S&&c(_.prototype,S),Object.defineProperty(_,"prototype",{writable:!1}),_;var _,S}(p);g.schemaName="Map",g.prototype.OptionsConstructor=d,g.defaultOptions={},r.exports=g},1895:(r,i,o)=>{"use strict";var s=o(2319),a=o(3089),c=o(4797),f=o(335);function y(m,u){if(u&&u.default){var l=u.default;Array.isArray(l)&&l.length===0?u.default=Array:!u.shared&&c(l)&&Object.keys(l).length===0&&(u.default=function(){return{}})}s.call(this,m,u,"Mixed"),this[a.schemaMixedSymbol]=!0}y.schemaName="Mixed",y.defaultOptions={},y.prototype=Object.create(s.prototype),y.prototype.constructor=y,y.get=s.get,y.set=s.set,y.setters=[],y.prototype.cast=function(m){return m instanceof Error?f.errorToPOJO(m):m},y.prototype.castForQuery=function(m,u){return u},r.exports=y},8191:(r,i,o)=>{"use strict";function s(v,_){var S=Object.keys(v);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(v);_&&(w=w.filter(function(D){return Object.getOwnPropertyDescriptor(v,D).enumerable})),S.push.apply(S,w)}return S}function a(v){for(var _=1;_<arguments.length;_++){var S=arguments[_]!=null?arguments[_]:{};_%2?s(Object(S),!0).forEach(function(w){c(v,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(S)):s(Object(S)).forEach(function(w){Object.defineProperty(v,w,Object.getOwnPropertyDescriptor(S,w))})}return v}function c(v,_,S){return(_=function(w){var D=function(x){if(f(x)!="object"||!x)return x;var M=x[Symbol.toPrimitive];if(M!==void 0){var P=M.call(x,"string");if(f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(w);return f(D)=="symbol"?D:D+""}(_))in v?Object.defineProperty(v,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[_]=S,v}function f(v){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(v)}var y=o(9507),m=o(3823),u=o(2319),l=o(247),h=o(133),d=o(335),p=u.CastError;function g(v,_){u.call(this,v,_,"Number")}function b(v){return this.cast(v)}g.get=u.get,g.set=u.set,g.setters=[],g._cast=l,g.cast=function(v){return arguments.length===0||(v===!1&&(v=this._defaultCaster),this._cast=v),this._cast},g._defaultCaster=function(v){if(typeof v!="number")throw new Error;return v},g.schemaName="Number",g.defaultOptions={},g.prototype=Object.create(u.prototype),g.prototype.constructor=g,g.prototype.OptionsConstructor=m,g._checkRequired=function(v){return typeof v=="number"||v instanceof Number},g.checkRequired=u.checkRequired,g.prototype.checkRequired=function(v,_){return f(v)==="object"&&u._isRef(this,v,_,!0)?v!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():g.checkRequired())(v)},g.prototype.min=function(v,_){if(this.minValidator&&(this.validators=this.validators.filter(function(w){return w.validator!==this.minValidator},this)),v!=null){var S=_||y.messages.Number.min;S=S.replace(/{MIN}/,v),this.validators.push({validator:this.minValidator=function(w){return w==null||w>=v},message:S,type:"min",min:v})}return this},g.prototype.max=function(v,_){if(this.maxValidator&&(this.validators=this.validators.filter(function(w){return w.validator!==this.maxValidator},this)),v!=null){var S=_||y.messages.Number.max;S=S.replace(/{MAX}/,v),this.validators.push({validator:this.maxValidator=function(w){return w==null||w<=v},message:S,type:"max",max:v})}return this},g.prototype.enum=function(v,_){return this.enumValidator&&(this.validators=this.validators.filter(function(S){return S.validator!==this.enumValidator},this)),Array.isArray(v)||(d.isPOJO(v)&&v.values!=null?(_=v.message,v=v.values):typeof v=="number"&&(v=Array.prototype.slice.call(arguments),_=null),d.isPOJO(v)&&(v=Object.values(v)),_=_||y.messages.Number.enum),_=_??y.messages.Number.enum,this.enumValidator=function(S){return S==null||v.indexOf(S)!==-1},this.validators.push({validator:this.enumValidator,message:_,type:"enum",enumValues:v}),this},g.prototype.cast=function(v,_,S){if(typeof v!="number"&&u._isRef(this,v,_,S)&&(v==null||d.isNonBuiltinObject(v)))return this._castRef(v,_,S);var w,D=v&&v._id!==void 0?v._id:v;w=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();try{return w(D)}catch(x){throw new p("Number",D,this.path,x,this)}},g.prototype.$conditionalHandlers=a(a({},u.prototype.$conditionalHandlers),{},{$bitsAllClear:h,$bitsAnyClear:h,$bitsAllSet:h,$bitsAnySet:h,$gt:b,$gte:b,$lt:b,$lte:b,$mod:function(v){var _=this;return Array.isArray(v)?v.map(function(S){return _.cast(S)}):[this.cast(v)]}}),g.prototype.castForQuery=function(v,_,S){var w;if(v!=null){if(!(w=this.$conditionalHandlers[v]))throw new p("number",_,this.path,null,this);return w.call(this,_,S)}try{_=this.applySetters(_,S)}catch(D){throw D instanceof p&&D.path===this.path&&this.$fullPath!=null&&(D.path=this.$fullPath),D}return _},r.exports=g},9476:(r,i,o)=>{"use strict";function s(D){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s(D)}function a(D,x){var M=Object.keys(D);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(D);x&&(P=P.filter(function(k){return Object.getOwnPropertyDescriptor(D,k).enumerable})),M.push.apply(M,P)}return M}function c(D){for(var x=1;x<arguments.length;x++){var M=arguments[x]!=null?arguments[x]:{};x%2?a(Object(M),!0).forEach(function(P){f(D,P,M[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(M)):a(Object(M)).forEach(function(P){Object.defineProperty(D,P,Object.getOwnPropertyDescriptor(M,P))})}return D}function f(D,x,M){return(x=function(P){var k=function(B){if(s(B)!="object"||!B)return B;var L=B[Symbol.toPrimitive];if(L!==void 0){var V=L.call(B,"string");if(s(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(P);return s(k)=="symbol"?k:k+""}(x))in D?Object.defineProperty(D,x,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[x]=M,D}var y,m=o(210),u=o(2319),l=o(8092),h=o(5857),d=o(6704),p=o(2128),g=o(335),b=u.CastError;function v(D,x){var M=typeof D=="string"&&D.length===24&&/^[a-f0-9]+$/i.test(D),P=x&&x.suppressWarning;!M&&D!==void 0||P||g.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),u.call(this,D,x,"ObjectId")}function _(D){return this.cast(D)}function S(){return new d}function w(D){return y||(y=o(3293)),this instanceof y&&D===void 0?new d:D}v.schemaName="ObjectId",v.defaultOptions={},v.prototype=Object.create(u.prototype),v.prototype.constructor=v,v.prototype.OptionsConstructor=m,v.get=u.get,v.set=u.set,v.setters=[],v.prototype.auto=function(D){return D&&(this.default(S),this.set(w)),this},v._checkRequired=function(D){return p(D,"ObjectId")},v._cast=l,v.cast=function(D){return arguments.length===0||(D===!1&&(D=this._defaultCaster),this._cast=D),this._cast},v._defaultCaster=function(D){if(!p(D,"ObjectId"))throw new Error(D+" is not an instance of ObjectId");return D},v.checkRequired=u.checkRequired,v.prototype.checkRequired=function(D,x){return u._isRef(this,D,x,!0)?!!D:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():v.checkRequired())(D)},v.prototype.cast=function(D,x,M){if(!p(D,"ObjectId")&&u._isRef(this,D,x,M)){if((h(D)||"").toLowerCase()==="objectid")return new d(D.toHexString());if(D==null||g.isNonBuiltinObject(D))return this._castRef(D,x,M)}var P;P=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():v.cast();try{return P(D)}catch(k){throw new b("ObjectId",D,this.path,k,this)}},v.prototype.$conditionalHandlers=c(c({},u.prototype.$conditionalHandlers),{},{$gt:_,$gte:_,$lt:_,$lte:_}),S.$runBeforeSetters=!0,r.exports=v},133:(r,i,o)=>{"use strict";var s=o(5832).Buffer,a=o(6148);function c(f,y){var m=Number(y);if(isNaN(m))throw new a("number",y,f);return m}r.exports=function(f){var y=this;return Array.isArray(f)?f.map(function(m){return c(y.path,m)}):s.isBuffer(f)?f:c(y.path,f)}},1188:(r,i,o)=>{"use strict";var s=o(7092);r.exports=function(a){var c=this!=null?this.path:null;return s(a,c)}},6951:(r,i,o)=>{"use strict";var s=o(4111).p,a=o(4111).G;function c(y,m){switch(y.$geometry.type){case"Polygon":case"LineString":case"Point":s(y.$geometry.coordinates,m)}return f(m,y),y}function f(y,m){m.$maxDistance&&(m.$maxDistance=a.call(y,m.$maxDistance)),m.$minDistance&&(m.$minDistance=a.call(y,m.$minDistance))}i.cast$geoIntersects=function(y){if(y.$geometry)return c(y,this),y},i.cast$near=function(y){var m=o(9225);if(Array.isArray(y))return s(y,this),y;if(f(this,y),y&&y.$geometry)return c(y,this);if(!Array.isArray(y))throw new TypeError("$near must be either an array or an object with a $geometry property");return m.prototype.castForQuery.call(this,null,y)},i.cast$within=function(y){var m=this;if(f(this,y),y.$box||y.$polygon){var u=y.$box?"$box":"$polygon";y[u].forEach(function(h){if(!Array.isArray(h))throw new TypeError("Invalid $within $box argument. Expected an array, received "+h);h.forEach(function(d,p){h[p]=a.call(m,d)})})}else if(y.$center||y.$centerSphere){var l=y.$center?"$center":"$centerSphere";y[l].forEach(function(h,d){Array.isArray(h)?h.forEach(function(p,g){h[g]=a.call(m,p)}):y[l][d]=a.call(m,h)})}else y.$geometry&&c(y,this);return y}},4111:(r,i,o)=>{"use strict";var s=o(8191);function a(c){return s.cast()(c)}i.G=a,i.p=function c(f,y){f.forEach(function(m,u){Array.isArray(m)?c(m,y):f[u]=a.call(y,m)})}},2503:(r,i,o)=>{"use strict";function s(y){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(y)}var a=o(6148),c=o(7092),f=o(8471);r.exports=function(y,m){if(y==null||s(y)!=="object")throw new a("$text",y,m);return y.$search!=null&&(y.$search=f(y.$search,m+".$search")),y.$language!=null&&(y.$language=f(y.$language,m+".$language")),y.$caseSensitive!=null&&(y.$caseSensitive=c(y.$caseSensitive,m+".$castSensitive")),y.$diacriticSensitive!=null&&(y.$diacriticSensitive=c(y.$diacriticSensitive,m+".$diacriticSensitive")),y}},3180:r=>{"use strict";r.exports=function(i){if(Array.isArray(i)){if(!i.every(function(o){return typeof o=="number"||typeof o=="string"}))throw new Error("$type array values must be strings or numbers");return i}if(typeof i!="number"&&typeof i!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return i}},9391:(r,i,o)=>{"use strict";function s(w,D){var x=Object.keys(w);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(w);D&&(M=M.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),x.push.apply(x,M)}return x}function a(w){for(var D=1;D<arguments.length;D++){var x=arguments[D]!=null?arguments[D]:{};D%2?s(Object(x),!0).forEach(function(M){c(w,M,x[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(x)):s(Object(x)).forEach(function(M){Object.defineProperty(w,M,Object.getOwnPropertyDescriptor(x,M))})}return w}function c(w,D,x){return(D=function(M){var P=function(k){if(f(k)!="object"||!k)return k;var B=k[Symbol.toPrimitive];if(B!==void 0){var L=B.call(k,"string");if(f(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(M);return f(P)=="symbol"?P:P+""}(D))in w?Object.defineProperty(w,D,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[D]=x,w}function f(w){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},f(w)}function y(w,D){(D==null||D>w.length)&&(D=w.length);for(var x=0,M=Array(D);x<D;x++)M[x]=w[x];return M}var m=o(2319),u=o(9507),l=o(8035),h=o(8471),d=o(335),p=o(2128),g=m.CastError;function b(w,D){this.enumValues=[],this.regExp=null,m.call(this,w,D,"String")}function v(w,D){return this.castForQuery(null,w,D)}function _(w){return w==null?this._castNullish(w):this.cast(w,this)}b.schemaName="String",b.defaultOptions={},b.prototype=Object.create(m.prototype),b.prototype.constructor=b,Object.defineProperty(b.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:l}),b._cast=h,b.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},b._defaultCaster=function(w){if(w!=null&&typeof w!="string")throw new Error;return w},b.get=m.get,b.set=m.set,b.setters=[],b._checkRequired=function(w){return(w instanceof String||typeof w=="string")&&w.length},b.checkRequired=m.checkRequired,b.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(B){return B.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;var w,D;d.isObject(arguments[0])?Array.isArray(arguments[0].values)?(w=arguments[0].values,D=arguments[0].message):(w=d.object.vals(arguments[0]),D=u.messages.String.enum):(w=arguments,D=u.messages.String.enum);var x,M=function(B,L){var V=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!V){if(Array.isArray(B)||(V=function(C,I){if(C){if(typeof C=="string")return y(C,I);var T={}.toString.call(C).slice(8,-1);return T==="Object"&&C.constructor&&(T=C.constructor.name),T==="Map"||T==="Set"?Array.from(C):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?y(C,I):void 0}}(B))||L&&B&&typeof B.length=="number"){V&&(B=V);var Q=0,ne=function(){};return{s:ne,n:function(){return Q>=B.length?{done:!0}:{done:!1,value:B[Q++]}},e:function(C){throw C},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,E=!0,O=!1;return{s:function(){V=V.call(B)},n:function(){var C=V.next();return E=C.done,C},e:function(C){O=!0,te=C},f:function(){try{E||V.return==null||V.return()}finally{if(O)throw te}}}}(w);try{for(M.s();!(x=M.n()).done;){var P=x.value;P!==void 0&&this.enumValues.push(this.cast(P))}}catch(B){M.e(B)}finally{M.f()}var k=this.enumValues;return this.enumValidator=function(B){return B==null||~k.indexOf(B)},this.validators.push({validator:this.enumValidator,message:D,type:"enum",enumValues:k}),this},b.prototype.lowercase=function(w){var D=this;return arguments.length>0&&!w?this:this.set(function(x){return typeof x!="string"&&(x=D.cast(x)),x&&x.toLowerCase()})},b.prototype.uppercase=function(w){var D=this;return arguments.length>0&&!w?this:this.set(function(x){return typeof x!="string"&&(x=D.cast(x)),x&&x.toUpperCase()})},b.prototype.trim=function(w){var D=this;return arguments.length>0&&!w?this:this.set(function(x){return typeof x!="string"&&(x=D.cast(x)),x&&x.trim()})},b.prototype.minlength=function(w,D){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(M){return M.validator!==this.minlengthValidator},this)),w!=null){var x=D||u.messages.String.minlength;x=x.replace(/{MINLENGTH}/,w),this.validators.push({validator:this.minlengthValidator=function(M){return M===null||M.length>=w},message:x,type:"minlength",minlength:w})}return this},b.prototype.minLength=b.prototype.minlength,b.prototype.maxlength=function(w,D){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(M){return M.validator!==this.maxlengthValidator},this)),w!=null){var x=D||u.messages.String.maxlength;x=x.replace(/{MAXLENGTH}/,w),this.validators.push({validator:this.maxlengthValidator=function(M){return M===null||M.length<=w},message:x,type:"maxlength",maxlength:w})}return this},b.prototype.maxLength=b.prototype.maxlength,b.prototype.match=function(w,D){var x=D||u.messages.String.match;return this.validators.push({validator:function(M){return!!w&&(w.lastIndex=0,M==null||M===""||w.test(M))},message:x,type:"regexp",regexp:w}),this},b.prototype.checkRequired=function(w,D){return f(w)==="object"&&m._isRef(this,w,D,!0)?w!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():b.checkRequired())(w)},b.prototype.cast=function(w,D,x){if(typeof w!="string"&&m._isRef(this,w,D,x))return this._castRef(w,D,x);var M;M=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():b.cast();try{return M(w)}catch{throw new g("string",w,this.path,null,this)}};var S=a(a({},m.prototype.$conditionalHandlers),{},{$all:function(w,D){var x=this;return Array.isArray(w)?w.map(function(M){return x.castForQuery(null,M,D)}):[this.castForQuery(null,w,D)]},$gt:v,$gte:v,$lt:v,$lte:v,$options:_,$regex:function(w){return Object.prototype.toString.call(w)==="[object RegExp]"?w:_.call(this,w)},$not:v});Object.defineProperty(b.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(S)}),b.prototype.castForQuery=function(w,D,x){var M;if(w!=null){if(!(M=this.$conditionalHandlers[w]))throw new Error("Can't use "+w+" with String.");return M.call(this,D,x)}if(Object.prototype.toString.call(D)==="[object RegExp]"||p(D,"BSONRegExp"))return D;try{return this.applySetters(D,x)}catch(P){throw P instanceof g&&P.path===this.path&&this.$fullPath!=null&&(P.path=this.$fullPath),P}},r.exports=b},963:(r,i,o)=>{"use strict";function s(L,V){var Q=Object.keys(L);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(L);V&&(ne=ne.filter(function(te){return Object.getOwnPropertyDescriptor(L,te).enumerable})),Q.push.apply(Q,ne)}return Q}function a(L){for(var V=1;V<arguments.length;V++){var Q=arguments[V]!=null?arguments[V]:{};V%2?s(Object(Q),!0).forEach(function(ne){c(L,ne,Q[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(Q)):s(Object(Q)).forEach(function(ne){Object.defineProperty(L,ne,Object.getOwnPropertyDescriptor(Q,ne))})}return L}function c(L,V,Q){return(V=function(ne){var te=function(E){if(f(E)!="object"||!E)return E;var O=E[Symbol.toPrimitive];if(O!==void 0){var C=O.call(E,"string");if(f(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(ne);return f(te)=="symbol"?te:te+""}(V))in L?Object.defineProperty(L,V,{value:Q,enumerable:!0,configurable:!0,writable:!0}):L[V]=Q,L}function f(L){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},f(L)}var y,m=o(6148),u=o(3550).EventEmitter,l=o(2260),h=o(6271),d=o(2319),p=o(6690),g=o(1188),b=o(4111).G,v=o(8650),_=o(6951),S=o(371),w=o(5962),D=o(3920)._,x=o(1384),M=o(335),P=o(9662);function k(L,V,Q){if(L.options.timeseries)throw new P(V,"timeseries");var ne=k.defaultOptions&&k.defaultOptions._id;ne!=null&&((Q=Q||{})._id=ne),L=w(L,Q),this.caster=B(L,null,Q),this.caster.path=V,this.caster.prototype.$basePath=V,this.schema=L,this.$isSingleNested=!0,this.base=L.base,d.call(this,V,Q,"Embedded")}function B(L,V,Q){y||(y=o(292));var ne=function(I,T,N){this.$__parent=N,y.apply(this,arguments),N!=null&&this.$session(N.$session())};L._preCompile();var te=V!=null?V.prototype:y.prototype;for(var E in(ne.prototype=Object.create(te)).$__setSchema(L),ne.prototype.constructor=ne,ne.$__required=Q?.required,ne.base=L.base,ne.schema=L,ne.$isSingleNested=!0,ne.events=new u,ne.prototype.toBSON=function(){return this.toObject(D)},L.methods)ne.prototype[E]=L.methods[E];for(var O in L.statics)ne[O]=L.statics[O];for(var C in u.prototype)ne[C]=u.prototype[C];return ne}r.exports=k,k.prototype=Object.create(d.prototype),k.prototype.constructor=k,k.prototype.OptionsConstructor=h,k.prototype.$conditionalHandlers.$geoWithin=function(L,V){return{$geometry:this.castForQuery(null,L.$geometry,V)}},k.prototype.$conditionalHandlers.$near=k.prototype.$conditionalHandlers.$nearSphere=_.cast$near,k.prototype.$conditionalHandlers.$within=k.prototype.$conditionalHandlers.$geoWithin=_.cast$within,k.prototype.$conditionalHandlers.$geoIntersects=_.cast$geoIntersects,k.prototype.$conditionalHandlers.$minDistance=b,k.prototype.$conditionalHandlers.$maxDistance=b,k.prototype.$conditionalHandlers.$exists=g,k.prototype.cast=function(L,V,Q,ne,te){if(L&&L.$isSingleNested&&L.parent===V)return L;if(L!=null&&(f(L)!=="object"||Array.isArray(L)))throw new l(this.path,L);var E,O=this.schema.path(this.schema.options.discriminatorKey),C=O==null?null:O.getDefault(V),I=S(this.caster,L,C),T=V&&V.$__&&V.$__.selected,N=this.path,j=T==null?null:Object.keys(T).reduce(function(q,X){return X.startsWith(N+".")&&((q=q||{})[X.substring(N.length+1)]=T[X]),q},null);if(!Q)return te=Object.assign({},te,{priorDoc:ne}),Object.keys(L).length===0?new I({},j,V,void 0,te):new I(L,j,V,void 0,te);delete(E=new I(void 0,j,V,!1,{defaults:!1})).$__.defaults,E.$init(L);var H=x(j);return p(E,j,H),E},k.prototype.castForQuery=function(L,V,Q,ne){var te;if(L!=null){if(!(te=this.$conditionalHandlers[L]))throw new Error("Can't use "+L);return te.call(this,V)}if(V==null)return V;var E=S(this.caster,V);if(V instanceof E)return V;this.options.runSetters&&(V=this._applySetters(V,Q));var O=ne!=null&&ne.strict!=null?ne.strict:void 0;try{V=new E(V,O)}catch(C){throw C instanceof m?C:new m("Embedded",V,this.path,C,this)}return V},k.prototype.doValidate=function(L,V,Q,ne){var te=S(this.caster,L);if(!L||L instanceof te||(L=new te(L,null,Q!=null&&Q.$__!=null?Q:null)),ne&&ne.skipSchemaValidators)return L?L.validate().then(function(){return V(null)},function(E){return V(E)}):V(null);d.prototype.doValidate.call(this,L,function(E){return E?V(E):L?void L.validate().then(function(){return V(null)},function(O){return V(O)}):V(null)},Q,ne)},k.prototype.doValidateSync=function(L,V,Q){if(!Q||!Q.skipSchemaValidators){var ne=d.prototype.doValidateSync.call(this,L,V);if(ne)return ne}if(L)return L.validateSync()},k.prototype.discriminator=function(L,V,Q){Q=Q||{};var ne=M.isPOJO(Q)?Q.value:Q,te=typeof Q.clone!="boolean"||Q.clone;return V.instanceOfSchema&&te&&(V=V.clone()),V=v(this.caster,L,V,ne,null,null,Q.overwriteExisting),this.caster.discriminators[L]=B(V,this.caster),this.caster.discriminators[L]},k.defaultOptions={},k.set=d.set,k.setters=[],k.get=d.get,k.prototype.toJSON=function(){return{path:this.path,options:this.options}},k.prototype.clone=function(){var L=new this.constructor(this.schema,this.path,a(a({},this.options),{},{_skipApplyDiscriminators:!0}));return L.validators=this.validators.slice(),this.requiredValidator!==void 0&&(L.requiredValidator=this.requiredValidator),L.caster.discriminators=Object.assign({},this.caster.discriminators),L._appliedDiscriminators=this._appliedDiscriminators,L}},3089:(r,i)=>{"use strict";i.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),i.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},7245:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(D){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},a(D)}function c(D,x){var M=Object.keys(D);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(D);x&&(P=P.filter(function(k){return Object.getOwnPropertyDescriptor(D,k).enumerable})),M.push.apply(M,P)}return M}function f(D){for(var x=1;x<arguments.length;x++){var M=arguments[x]!=null?arguments[x]:{};x%2?c(Object(M),!0).forEach(function(P){y(D,P,M[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(M)):c(Object(M)).forEach(function(P){Object.defineProperty(D,P,Object.getOwnPropertyDescriptor(M,P))})}return D}function y(D,x,M){return(x=function(P){var k=function(B){if(a(B)!="object"||!B)return B;var L=B[Symbol.toPrimitive];if(L!==void 0){var V=L.call(B,"string");if(a(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(P);return a(k)=="symbol"?k:k+""}(x))in D?Object.defineProperty(D,x,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[x]=M,D}var m=o(9820),u=o(2319),l=u.CastError,h=o(335),d=o(133),p=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,g=m.Binary;function b(D){typeof D!="string"&&(D="");var x,M=(x=D.replace(/[{}-]/g,""))!=null&&s.from(x,"hex"),P=new m(M);return P._subtype=4,P}function v(D){var x;return typeof D!="string"&&D!=null?(x=D.toString("hex")).substring(0,8)+"-"+x.substring(8,12)+"-"+x.substring(12,16)+"-"+x.substring(16,20)+"-"+x.substring(20,32):D}function _(D,x){u.call(this,D,x,"UUID"),this.getters.push(function(M){return M!=null&&M.$__!=null?M:s.isBuffer(M)?v(M):M instanceof g?v(M.buffer):h.isPOJO(M)&&M.type==="Buffer"&&Array.isArray(M.data)?v(s.from(M.data)):M})}function S(D){return this.cast(D)}function w(D){var x=this;return D.map(function(M){return x.cast(M)})}_.schemaName="UUID",_.defaultOptions={},_.prototype=Object.create(u.prototype),_.prototype.constructor=_,_._cast=function(D){if(D==null)return D;function x(M){var P=new m(M);return P._subtype=4,P}if(typeof D=="string"){if(p.test(D))return b(D);throw new l(_.schemaName,D,this.path)}if(s.isBuffer(D))return x(D);if(D instanceof g)return x(D.value(!0));if(D.toString&&D.toString!==Object.prototype.toString&&p.test(D.toString()))return b(D.toString());throw new l(_.schemaName,D,this.path)},_.get=u.get,_.set=u.set,_.setters=[],_.cast=function(D){return arguments.length===0||(D===!1&&(D=this._defaultCaster),this._cast=D),this._cast},_._checkRequired=function(D){return D!=null},_.checkRequired=u.checkRequired,_.prototype.checkRequired=function(D){return s.isBuffer(D)&&(D=v(D)),D!=null&&p.test(D)},_.prototype.cast=function(D,x,M){if(h.isNonBuiltinObject(D)&&u._isRef(this,D,x,M))return this._castRef(D,x,M);var P;P=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();try{return P(D)}catch(k){throw new l(_.schemaName,D,this.path,k,this)}},_.prototype.$conditionalHandlers=f(f({},u.prototype.$conditionalHandlers),{},{$bitsAllClear:d,$bitsAnyClear:d,$bitsAllSet:d,$bitsAnySet:d,$all:w,$gt:S,$gte:S,$in:w,$lt:S,$lte:S,$ne:S,$nin:w}),_.prototype.castForQuery=function(D,x,M){var P;if(D!=null){if(!(P=this.$conditionalHandlers[D]))throw new Error("Can't use "+D+" with UUID.");return P.call(this,x,M)}try{return this.applySetters(x,M)}catch(k){throw k instanceof l&&k.path===this.path&&this.$fullPath!=null&&(k.path=this.$fullPath),k}},r.exports=_},2319:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(L){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},a(L)}var c=o(9507),f=o(1e3),y=o(1188),m=o(3180),u=o(1829),l=o(9012),h=o(6564),d=o(4664),p=o(3933),g=o(5625).schemaTypeSymbol,b=o(335),v=o(5625).validatorErrorSymbol,_=o(5625).documentIsModified,S=o(5625).populateModelSymbol,w=c.CastError,D=c.ValidatorError,x={_skipMarkModified:!0};function M(L,V,Q){this[g]=!0,this.path=L,this.instance=Q,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),V=V||{};for(var ne=this.constructor.defaultOptions||{},te=0,E=Object.keys(ne);te<E.length;te++){var O=E[te];O==="validate"?this.validate(ne.validate):ne.hasOwnProperty(O)&&!Object.prototype.hasOwnProperty.call(V,O)&&(V[O]=ne[O])}V.select==null&&delete V.select;var C=this.OptionsConstructor||f;this.options=new C(V),this._index=null,b.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,l(this));for(var I=0,T=Object.keys(this.options);I<T.length;I++){var N=T[I];if(N!=="cast"){if(b.hasUserDefinedProperty(this.options,N)&&typeof this[N]=="function"){if(N==="index"&&this._index){if(V.index===!1){var j=this._index;if(a(j)==="object"&&j!=null){if(j.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(j.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var H=V[N];if(N==="default"){this.default(H);continue}var q=Array.isArray(H)?H:[H];this[N].apply(this,q)}}else Array.isArray(this.options[N])?this.castFunction.apply(this,this.options[N]):this.castFunction(this.options[N])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}function P(L,V){if(L!==void 0&&!L){var Q=new(V.ErrorConstructor||D)(V);return Q[v]=!0,Q}}function k(L,V){return this.castForQuery(null,L,V)}function B(L,V){var Q=this;return Array.isArray(L)?L.map(function(ne){return Array.isArray(ne)&&ne.length===0?ne:Q.castForQuery(null,ne,V)}):[this.castForQuery(null,L,V)]}M.prototype.OptionsConstructor=f,M.prototype.path,M.prototype.validators,M.prototype.isRequired,M.prototype.splitPath=function(){return this._presplitPath!=null?this._presplitPath:this.path!=null?(this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath):void 0},M.cast=function(L){return arguments.length===0||(L===!1&&(L=function(V){return V}),this._cast=L),this._cast},M.prototype.castFunction=function(L,V){return arguments.length===0?this._castFunction:(L===!1&&(L=this.constructor._defaultCaster||function(Q){return Q}),typeof L=="string"?(this._castErrorMessage=L,this._castFunction):(L!=null&&(this._castFunction=L),V!=null&&(this._castErrorMessage=V),this._castFunction))},M.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},M.set=function(L,V){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[L]=V},M.get=function(L){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(L)},M.prototype.default=function(L){if(arguments.length===1){if(L===void 0)return void(this.defaultValue=void 0);if(L!=null&&L.instanceOfSchema)throw new c("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=L,this.defaultValue}return arguments.length>1&&(this.defaultValue=Array.prototype.slice.call(arguments)),this.defaultValue},M.prototype.index=function(L){return this._index=L,b.expires(this._index),this},M.prototype.unique=function(L,V){if(this._index===!1){if(!L)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return this.options.hasOwnProperty("index")||L!==!1?(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=!!L,typeof V=="string"&&(this._duplicateKeyErrorMessage=V),this):this},M.prototype.text=function(L){if(this._index===!1){if(!L)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return this.options.hasOwnProperty("index")||L!==!1?(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=L,this):this},M.prototype.sparse=function(L){if(this._index===!1){if(!L)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return this.options.hasOwnProperty("index")||L!==!1?(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=L,this):this},M.prototype.immutable=function(L){return this.$immutable=L,l(this),this},M.prototype.transform=function(L){return this.options.transform=L,this},M.prototype.set=function(L){if(typeof L!="function")throw new TypeError("A setter must be a function.");return this.setters.push(L),this},M.prototype.get=function(L){if(typeof L!="function")throw new TypeError("A getter must be a function.");return this.getters.push(L),this},M.prototype.validateAll=function(L){for(var V=0;V<L.length;V++)this.validate(L[V]);return this},M.prototype.validate=function(L,V,Q){var ne,te,E,O;if(typeof L=="function"||L&&b.getFunctionName(L.constructor)==="RegExp")return typeof V=="function"?(ne={validator:L,message:V}).type=Q||"user defined":V instanceof Object&&!Q?((ne=d(V)?Object.assign({},V):u(V)).message||(ne.message=ne.msg),ne.validator=L,ne.type=ne.type||"user defined"):(V==null&&(V=c.messages.general.default),Q||(Q="user defined"),ne={message:V,type:Q,validator:L}),this.validators.push(ne),this;for(te=0,E=arguments.length;te<E;te++){if(O=arguments[te],!b.isPOJO(O)){var C="Invalid validator. Received ("+a(O)+") "+O+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(C)}this.validate(O.validator,O)}return this},M.prototype.required=function(L,V){var Q={};if(arguments.length>0&&L==null)return this.validators=this.validators.filter(function(E){return E.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(a(L)==="object"&&(V=(Q=L).message||V,L=L.isRequired),L===!1)return this.validators=this.validators.filter(function(E){return E.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var ne=this;this.isRequired=!0,this.requiredValidator=function(E){var O=this&&this.$__&&this.$__.cachedRequired;if(O!=null&&!this.$__isSelected(ne.path)&&!this[_](ne.path))return!0;if(O!=null&&ne.path in O){var C=!O[ne.path]||ne.checkRequired(E,this);return delete O[ne.path],C}return typeof L=="function"&&!L.apply(this)||ne.checkRequired(E,this)},this.originalRequiredValue=L,typeof L=="string"&&(V=L,L=void 0);var te=V||c.messages.general.required;return this.validators.unshift(Object.assign({},Q,{validator:this.requiredValidator,message:te,type:"required"})),this},M.prototype.ref=function(L){return this.options.ref=L,this},M.prototype.getDefault=function(L,V,Q){var ne;if((ne=typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?this.defaultValue.call(L):this.defaultValue.call(L,L):this.defaultValue)!=null){if(a(ne)!=="object"||this.options&&this.options.shared||(ne=u(ne)),Q&&Q.skipCast)return this._applySetters(ne,L);var te=this.applySetters(ne,L,V,void 0,x);return te&&!Array.isArray(te)&&te.$isSingleNested&&(te.$__parent=L),te}return ne},M.prototype._applySetters=function(L,V,Q,ne,te){var E=L;if(Q)return E;for(var O=this.setters,C=O.length-1;C>=0;C--)E=O[C].call(V,E,ne,this,te);return E},M.prototype._castNullish=function(L){return L},M.prototype.applySetters=function(L,V,Q,ne,te){var E=this._applySetters(L,V,Q,ne,te);return E==null?this._castNullish(E):E=this.cast(E,V,Q,ne,te)},M.prototype.applyGetters=function(L,V){var Q=L,ne=this.getters,te=ne.length;if(te===0)return Q;for(var E=0;E<te;++E)Q=ne[E].call(V,Q,this);return Q},M.prototype.select=function(L){return this.selected=!!L,this},M.prototype.doValidate=function(L,V,Q,ne){var te=this,E=!1,O=this.path;if(typeof V!="function")throw new TypeError("Must pass callback function to doValidate(), got ".concat(a(V)));var C=this.validators.filter(function(q){return a(q)==="object"&&q!==null}),I=C.length;if(!I)return V(null);for(var T=function(){if(E)return 0;var q,X=C[N],z=X.validator,U=d(X)?Object.assign({},X):u(X);if(U.path=ne&&ne.path?ne.path:O,U.fullPath=te.$fullPath,U.value=L,z instanceof RegExp)return H(z.test(L),U,Q),1;if(typeof z!="function")return 1;if(L===void 0&&z!==te.requiredValidator)return H(!0,U,Q),1;try{q=U.propsParameter?z.call(Q,L,U):z.call(Q,L)}catch(Z){q=!1,U.reason=Z,Z.message&&(U.message=Z.message)}q!=null&&typeof q.then=="function"?q.then(function(Z){H(Z,U,Q)},function(Z){U.reason=Z,U.message=Z.message,H(q=!1,U,Q)}):H(q,U,Q)},N=0,j=C.length;N<j&&T()!==0;++N);function H(q,X,z){if(!E)if(q===void 0||q)--I<=0&&p(function(){V(null)});else{var U=X.ErrorConstructor||D;(E=new U(X,z))[v]=!0,p(function(){V(E)})}}},M.prototype.doValidateSync=function(L,V,Q){var ne=this.path;if(!this.validators.length)return null;var te=this.validators;if(L===void 0){if(this.validators.length===0||this.validators[0].type!=="required")return null;te=[this.validators[0]]}var E=null,O=0,C=te.length;for(O=0;O<C;++O){var I=te[O];if(I!==null&&a(I)==="object"){var T=I.validator,N=d(I)?Object.assign({},I):u(I);N.path=Q&&Q.path?Q.path:ne,N.fullPath=this.$fullPath,N.value=L;var j=!1;if(!h(T)){if(T instanceof RegExp)E=P(T.test(L),N);else if(typeof T=="function"){try{j=N.propsParameter?T.call(V,L,N):T.call(V,L)}catch(H){j=!1,N.reason=H}if((j==null||typeof j.then!="function")&&(E=P(j,N)))break}}}}return E},M._isRef=function(L,V,Q,ne){var te=ne&&L.options&&(L.options.ref||L.options.refPath);if(!te&&Q&&Q.$__!=null){var E=Q.$__fullPath(L.path,!0),O=Q.ownerDocument();te=E!=null&&O.$populated(E)||Q.$populated(L.path)}return!!te&&(V==null||!(s.isBuffer(V)||V._bsontype==="Binary"||!b.isObject(V))||ne)},M.prototype._castRef=function(L,V,Q){if(L==null)return L;if(L.$__!=null)return L.$__.wasPopulated=L.$__.wasPopulated||{value:L._doc._id},L;if(s.isBuffer(L)||!b.isObject(L)){if(Q)return L;throw new w(this.instance,L,this.path,null,this)}var ne,te,E,O=V.$__fullPath(this.path,!0),C=V.ownerDocument().$populated(O,!0),I=L;if(!(V.$__.populated&&V.$__.populated[O]&&V.$__.populated[O].options&&V.$__.populated[O].options.options&&V.$__.populated[O].options.options.lean)){var T=C?C.options[S]:V.constructor.db.model(this.options.ref);(I=new T(L)).$__.wasPopulated={value:I._doc._id,options:(ne={},te=S,E=T,(te=function(N){var j=function(H){if(a(H)!="object"||!H)return H;var q=H[Symbol.toPrimitive];if(q!==void 0){var X=q.call(H,"string");if(a(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(N);return a(j)=="symbol"?j:j+""}(te))in ne?Object.defineProperty(ne,te,{value:E,enumerable:!0,configurable:!0,writable:!0}):ne[te]=E,ne)}}return I},M.prototype.$conditionalHandlers={$all:function(L,V){var Q=this;return Array.isArray(L)?L.map(function(ne){return Q.castForQuery(null,ne,V)}):[this.castForQuery(null,L,V)]},$eq:k,$in:B,$ne:k,$nin:B,$exists:y,$type:m},M.prototype.castForQuery=function(L,V,Q){var ne;if(L!=null){if(!(ne=this.$conditionalHandlers[L]))throw new Error("Can't use "+L);return ne.call(this,V,Q)}try{return this.applySetters(V,Q)}catch(te){throw te instanceof w&&te.path===this.path&&this.$fullPath!=null&&(te.path=this.$fullPath),te}},M.checkRequired=function(L){return arguments.length!==0&&(this._checkRequired=L),this._checkRequired},M.prototype.checkRequired=function(L){return L!=null},M.prototype.clone=function(){var L=Object.assign({},this.options),V=new this.constructor(this.path,L,this.instance);return V.validators=this.validators.slice(),this.requiredValidator!==void 0&&(V.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(V.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(V.$immutable=this.$immutable,l(V)),this._index!==void 0&&(V._index=this._index),this.selected!==void 0&&(V.selected=this.selected),this.isRequired!==void 0&&(V.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(V.originalRequiredValue=this.originalRequiredValue),V.getters=this.getters.slice(),V.setters=this.setters.slice(),V},M.prototype.getEmbeddedSchemaType=function(){return this.$embeddedSchemaType},M.prototype._duplicateKeyErrorMessage=null,r.exports=i=M,i.CastError=w,i.ValidatorError=D},4494:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function a(u,l){(l==null||l>u.length)&&(l=u.length);for(var h=0,d=Array(l);h<l;h++)d[h]=u[h];return d}function c(u,l){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(u);l&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(u,p).enumerable})),h.push.apply(h,d)}return h}function f(u){for(var l=1;l<arguments.length;l++){var h=arguments[l]!=null?arguments[l]:{};l%2?c(Object(h),!0).forEach(function(d){y(u,d,h[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):c(Object(h)).forEach(function(d){Object.defineProperty(u,d,Object.getOwnPropertyDescriptor(h,d))})}return u}function y(u,l,h){return(l=function(d){var p=function(g){if(s(g)!="object"||!g)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var v=b.call(g,"string");if(s(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(d);return s(p)=="symbol"?p:p+""}(l))in u?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h,u}o(335);var m=r.exports=function(){};m.ctor=function(){var u=Array.prototype.slice.call(arguments),l=function(){m.apply(this,arguments),this.paths={},this.states={}};return(l.prototype=new m).constructor=l,l.prototype.stateNames=u,u.forEach(function(h){l.prototype[h]=function(d){this._changeState(d,h)}}),l},m.prototype._changeState=function(u,l){var h=this.paths[u];if(h!==l){var d=this.states[h];d&&delete d[u],this.paths[u]=l,this.states[l]=this.states[l]||{},this.states[l][u]=!0}},m.prototype.clear=function(u){if(this.states[u]!=null)for(var l,h=Object.keys(this.states[u]),d=h.length;d--;)l=h[d],delete this.states[u][l],delete this.paths[l]},m.prototype.clearPath=function(u){var l=this.paths[u];l&&(delete this.paths[u],delete this.states[l][u])},m.prototype.getStatePaths=function(u){return this.states[u]!=null?this.states[u]:{}},m.prototype.some=function(){var u=this,l=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(l,function(h){return u.states[h]!=null&&Object.keys(u.states[h]).length})},m.prototype._iter=function(u){return function(){var l=Array.prototype.slice.call(arguments),h=l.pop();l.length||(l=this.stateNames);var d=this;return l.reduce(function(p,g){return d.states[g]==null?p:p.concat(Object.keys(d.states[g]))},[])[u](function(p,g,b){return h(p,g,b)})}},m.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},m.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)},m.prototype.clone=function(){var u=new this.constructor;u.paths=f({},this.paths);var l,h=function(p,g){var b=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!b){if(Array.isArray(p)||(b=function(x,M){if(x){if(typeof x=="string")return a(x,M);var P={}.toString.call(x).slice(8,-1);return P==="Object"&&x.constructor&&(P=x.constructor.name),P==="Map"||P==="Set"?Array.from(x):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?a(x,M):void 0}}(p))||g&&p&&typeof p.length=="number"){b&&(p=b);var v=0,_=function(){};return{s:_,n:function(){return v>=p.length?{done:!0}:{done:!1,value:p[v++]}},e:function(x){throw x},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,w=!0,D=!1;return{s:function(){b=b.call(p)},n:function(){var x=b.next();return w=x.done,x},e:function(x){D=!0,S=x},f:function(){try{w||b.return==null||b.return()}finally{if(D)throw S}}}}(this.stateNames);try{for(h.s();!(l=h.n()).done;){var d=l.value;d in this.states&&(u.states[d]=this.states[d]==null?this.states[d]:f({},this.states[d]))}}catch(p){h.e(p)}finally{h.f()}return u}},2918:(r,i,o)=>{"use strict";function s(g){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(g)}function a(g,b,v){return(b=function(_){var S=function(w){if(s(w)!="object"||!w)return w;var D=w[Symbol.toPrimitive];if(D!==void 0){var x=D.call(w,"string");if(s(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(_);return s(S)=="symbol"?S:S+""}(b))in g?Object.defineProperty(g,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[b]=v,g}var c=o(3293),f=o(9987),y=o(5625).arrayAtomicsSymbol,m=o(5625).arrayAtomicsBackupSymbol,u=o(5625).arrayParentSymbol,l=o(5625).arrayPathSymbol,h=o(5625).arraySchemaSymbol,d=Array.prototype.push,p=/^\d+$/;r.exports=function(g,b,v,_){var S;if(Array.isArray(g)){var w=g.length;if(w===0)S=new Array;else if(w===1)(S=new Array(1))[0]=g[0];else if(w<1e4)S=new Array,d.apply(S,g);else{S=new Array;for(var D=0;D<w;++D)d.call(S,g[D])}}else S=[];var x=a(a(a(a(a(a(a(a({},y,{}),m,void 0),l,b),h,_),u,void 0),"isMongooseArray",!0),"isMongooseArrayProxy",!0),"__array",S);g&&g[y]!=null&&(x[y]=g[y]),v!=null&&v instanceof c&&(x[u]=v,x[h]=_||v.schema.path(b));var M=new Proxy(S,{get:function(P,k){return x.hasOwnProperty(k)?x[k]:f.hasOwnProperty(k)?f[k]:_&&_.virtuals&&_.virtuals.hasOwnProperty(k)?_.virtuals[k].applyGetters(void 0,P):typeof k=="string"&&p.test(k)&&_?.$embeddedSchemaType!=null?_.$embeddedSchemaType.applyGetters(S[k],v):S[k]},set:function(P,k,B){return typeof k=="string"&&p.test(k)?f.set.call(M,k,B,!1):x.hasOwnProperty(k)?x[k]=B:_&&_.virtuals&&_.virtuals.hasOwnProperty(k)?_.virtuals[k].applySetters(B,P):S[k]=B,!0}});return M}},9240:(r,i)=>{"use strict";i.isMongooseArray=function(o){return Array.isArray(o)&&o.isMongooseArray}},9987:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(E){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},a(E)}function c(E,O){var C=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!C){if(Array.isArray(E)||(C=f(E))||O&&E&&typeof E.length=="number"){C&&(E=C);var I=0,T=function(){};return{s:T,n:function(){return I>=E.length?{done:!0}:{done:!1,value:E[I++]}},e:function(q){throw q},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,j=!0,H=!1;return{s:function(){C=C.call(E)},n:function(){var q=C.next();return j=q.done,q},e:function(q){H=!0,N=q},f:function(){try{j||C.return==null||C.return()}finally{if(H)throw N}}}}function f(E,O){if(E){if(typeof E=="string")return y(E,O);var C={}.toString.call(E).slice(8,-1);return C==="Object"&&E.constructor&&(C=E.constructor.name),C==="Map"||C==="Set"?Array.from(E):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?y(E,O):void 0}}function y(E,O){(O==null||O>E.length)&&(O=E.length);for(var C=0,I=Array(O);C<O;C++)I[C]=E[C];return I}var m=o(3293),u=o(8578),l=o(7026),h=o(8208),d=o(1829),p=o(3920)._,g=o(5678),b=o(335),v=o(2128),_=o(5625).arrayAtomicsSymbol,S=o(5625).arrayParentSymbol,w=o(5625).arrayPathSymbol,D=o(5625).arraySchemaSymbol,x=o(5625).populateModelSymbol,M=Symbol("mongoose#Array#sliced"),P=Array.prototype.push,k={$__getAtomics:function(){var E=[],O=Object.keys(this[_]||{}),C=O.length,I=Object.assign({},p,{_isNested:!0});if(C===0)return E[0]=["$set",this.toObject(I)],E;for(;C--;){var T=O[C],N=this[_][T];b.isMongooseObject(N)?N=N.toObject(I):Array.isArray(N)?N=this.toObject.call(N,I):N!=null&&Array.isArray(N.$each)?N.$each=this.toObject.call(N.$each,I):N!=null&&typeof N.valueOf=="function"&&(N=N.valueOf()),T==="$addToSet"&&(N={$each:N}),E.push([T,N])}return E},$atomics:function(){return this[_]},$parent:function(){return this[S]},$path:function(){return this[w]},$shift:function(){this._registerAtomic("$pop",-1),this._markModified();var E=this.__array;if(!E._shifted)return E._shifted=!0,[].shift.call(E)},$pop:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema:function(){return this[D]},_cast:function(E){var O,C=!1,I=this[S];if(I&&(C=I.$populated(this[w],!0)),C&&E!=null){if((O=C.options[x])==null)throw new l("No populated model found for path `"+this[w]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(s.isBuffer(E)||v(E,"ObjectId")||!b.isObject(E))&&(E={_id:E}),E.schema&&E.schema.discriminatorMapping&&E.schema.discriminatorMapping.key!==void 0||(E=new O(E)),this[D].caster.applySetters(E,I,!0)}return this[D].caster.applySetters(E,I,!1)},_mapCast:function(E,O){return this._cast(E,this.length+O)},_markModified:function(E){var O,C=this[S];if(C){if(O=this[w],arguments.length&&(O=O+"."+E),O!=null&&O.endsWith(".$"))return this;C.markModified(O,arguments.length!==0?E:C)}return this},_registerAtomic:function(E,O){if(!this[M]){if(E==="$set")return this[_]={$set:O},h(this[S],this[w]),this._markModified(),this;var C,I=this[_];if(E==="$pop"&&!("$pop"in I)){var T=this;this[S].once("save",function(){T._popped=T._shifted=null})}if(I.$set||Object.keys(I).length&&!(E in I))return this[_]={$set:this},this;if(E==="$pullAll"||E==="$addToSet")I[E]||(I[E]=[]),I[E]=I[E].concat(O);else if(E==="$pullDocs"){var N=I.$pull||(I.$pull={});O[0]instanceof u?(C=N.$or||(N.$or=[]),Array.prototype.push.apply(C,O.map(function(U){return U.toObject({transform:function(Z,ee){return U==null||U.$__==null||Object.keys(U.$__.activePaths.getStatePaths("default")).forEach(function(R){g.unset(R,ee),B(ee,R)}),ee},virtuals:!1})}))):(C=N._id||(N._id={$in:[]})).$in=C.$in.concat(O)}else if(E==="$push")if(I.$push=I.$push||{$each:[]},O!=null&&b.hasUserDefinedProperty(O,"$each"))I.$push=O;else if(O.length===1)I.$push.$each.push(O[0]);else if(O.length<1e4){var j;(j=I.$push.$each).push.apply(j,function(U){if(Array.isArray(U))return y(U)}(z=O)||function(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}(z)||f(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}else{var H,q=c(O);try{for(q.s();!(H=q.n()).done;){var X=H.value;I.$push.$each.push(X)}}catch(U){q.e(U)}finally{q.f()}}else I[E]=O;return this}var z},addToSet:function(){L(this,arguments),V(this,arguments);var E=[].map.call(arguments,this._mapCast,this),O=[],C="";E[0]instanceof u?C="doc":E[0]instanceof Date?C="date":v(E[0],"ObjectId")&&(C="ObjectId");var I=b.isMongooseArray(E)?E.__array:E,T=b.isMongooseArray(this)?this.__array:this;return I.forEach(function(N){var j,H=+N;switch(C){case"doc":j=this.some(function(q){return q.equals(N)});break;case"date":j=this.some(function(q){return+q===H});break;case"ObjectId":j=this.find(function(q){return q.toString()===N.toString()});break;default:j=~this.indexOf(N)}j||(this._markModified(),T.push(N),this._registerAtomic("$addToSet",N),[].push.call(O,N))},this),O},hasAtomics:function(){return b.isPOJO(this[_])?Object.keys(this[_]).length:0},includes:function(E,O){return this.indexOf(E,O)!==-1},indexOf:function(E,O){v(E,"ObjectId")&&(E=E.toString()),O=O??0;for(var C=this.length,I=O;I<C;++I)if(E==this[I])return I;return-1},inspect:function(){return JSON.stringify(this)},nonAtomicPush:function(){var E=[].map.call(arguments,this._mapCast,this);this._markModified();var O=[].push.apply(this,E);return this._registerAtomic("$set",this),O},pop:function(){this._markModified();var E=[].pop.call(this);return this._registerAtomic("$set",this),E},pull:function(){var E=this,O=[].map.call(arguments,function(N,j){return E._cast(N,j,{defaults:!1})},this),C=this[S].get(this[w]);b.isMongooseArray(C)&&(C=C.__array);var I,T=C.length;for(this._markModified();T--;)(I=C[T])instanceof m?O.some(function(N){return I.equals(N)})&&C.splice(T,1):~this.indexOf.call(O,I)&&C.splice(T,1);return O[0]instanceof u?this._registerAtomic("$pullDocs",O.map(function(N){var j=N.$__getValue("_id");return j===void 0||N.$isDefault("_id")?N:j})):this._registerAtomic("$pullAll",O),h(this[S],this[w])>0&&this._registerAtomic("$set",this),this},push:function(){var E,O=arguments,C=O,I=O[0]!=null&&b.hasUserDefinedProperty(O[0],"$each"),T=b.isMongooseArray(this)?this.__array:this;if(I&&(C=O[0],O=O[0].$each),this[D]==null)return P.apply(this,O);L(this,O),V(this,O),O=[].map.call(O,this._mapCast,this);var N=this[_];return this._markModified(),I?(C.$each=O,(N.$push&&N.$push.$each&&N.$push.$each.length||0)!==0&&N.$push.$position!=C.$position?(C.$position!=null?([].splice.apply(T,[C.$position,0].concat(O)),E=T.length):E=[].push.apply(T,O),this._registerAtomic("$set",this)):C.$position!=null?([].splice.apply(T,[C.$position,0].concat(O)),E=this.length):E=[].push.apply(T,O)):(C=O,E=P.apply(T,O)),this._registerAtomic("$push",C),E},remove:function(){return this.pull.apply(this,arguments)},set:function(E,O,C){var I=this.__array;if(C)return I[E]=O,this;var T=k._cast.call(this,O,E);return k._markModified.call(this,E),I[E]=T,this},shift:function(){var E=b.isMongooseArray(this)?this.__array:this;this._markModified();var O=[].shift.call(E);return this._registerAtomic("$set",this),O},sort:function(){var E=b.isMongooseArray(this)?this.__array:this,O=[].sort.apply(E,arguments);return this._registerAtomic("$set",this),O},splice:function(){var E,O=b.isMongooseArray(this)?this.__array:this;if(this._markModified(),L(this,Array.prototype.slice.call(arguments,2)),arguments.length){var C;if(this[D]==null)C=arguments;else{C=[];for(var I=0;I<arguments.length;++I)C[I]=I<2?arguments[I]:this._cast(arguments[I],arguments[0]+(I-2))}E=[].splice.apply(O,C),this._registerAtomic("$set",this)}return E},toBSON:function(){return this.toObject(p)},toObject:function(E){var O=b.isMongooseArray(this)?this.__array:this;return E&&E.depopulate?((E=d(E))._isNested=!0,[].concat(O).map(function(C){return C instanceof m?C.toObject(E):C})):[].concat(O)},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift:function(){var E;L(this,arguments),E=this[D]==null?arguments:[].map.call(arguments,this._cast,this);var O=b.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(O,E),this._registerAtomic("$set",this),this.length}};function B(E,O,C){if(typeof O=="string"){if(O.indexOf(".")===-1)return;O=g.stringToParts(O)}(C=C||0)>=O.length||E!=null&&a(E)==="object"&&(B(E[O[0]],O,C+1),E[O[0]]!=null&&a(E[O[0]])==="object"&&Object.keys(E[O[0]]).length===0&&delete E[O[0]])}function L(E,O){var C,I,T,N=E==null?null:E[D]&&E[D].caster&&E[D].caster.options&&E[D].caster.options.ref||null;E.length===0&&O.length!==0&&function(j,H){if(!H)return!1;var q,X=c(j);try{for(X.s();!(q=X.n()).done;){var z=q.value;if(z==null)return!1;var U=z.constructor;if(!(z instanceof m)||U.modelName!==H&&U.baseModelName!==H)return!1}}catch(Z){X.e(Z)}finally{X.f()}return!0}(O,N)&&E[S].$populated(E[w],[],(C={},I=x,T=O[0].constructor,(I=function(j){var H=function(q){if(a(q)!="object"||!q)return q;var X=q[Symbol.toPrimitive];if(X!==void 0){var z=X.call(q,"string");if(a(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(j);return a(H)=="symbol"?H:H+""}(I))in C?Object.defineProperty(C,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[I]=T,C))}function V(E,O){var C=E==null?null:E[D]&&E[D].caster&&E[D].caster.options&&E[D].caster.options.ref||null,I=E[S],T=E[w];if(C&&I.populated(T)){var N,j=c(O);try{for(j.s();!(N=j.n()).done;){var H=N.value;if(H!=null&&(a(H)!=="object"||H instanceof String||H instanceof Number||H instanceof s||b.isMongooseType(H))){I.depopulate(T);break}}}catch(q){j.e(q)}finally{j.f()}}}for(var Q=function(){var E=te[ne];if(Array.prototype[E]==null)return 1;k[E]=function(){var O=b.isMongooseArray(this)?this.__array:this,C=[].concat(O);return C[E].apply(C,arguments)}},ne=0,te=["filter","flat","flatMap","map","slice"];ne<te.length;ne++)Q();r.exports=k},8578:(r,i,o)=>{"use strict";function s(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);p&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,b)}return g}function a(d,p,g){return(p=function(b){var v=function(_){if(c(_)!="object"||!_)return _;var S=_[Symbol.toPrimitive];if(S!==void 0){var w=S.call(_,"string");if(c(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(b);return c(v)=="symbol"?v:v+""}(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function c(d){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},c(d)}var f=o(3550).EventEmitter,y=o(292),m=o(335),u=o(5625).documentArrayParent;function l(d,p,g,b,v){var _;m.isMongooseDocumentArray(p)?(this.__parentArray=p,this[u]=p.$parent()):(this.__parentArray=void 0,this[u]=void 0),this.$setIndex(v),this.$__parent=this[u],c(g)==="object"&&g!=null?(_=function(S){for(var w=1;w<arguments.length;w++){var D=arguments[w]!=null?arguments[w]:{};w%2?s(Object(D),!0).forEach(function(x){a(S,x,D[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(D)):s(Object(D)).forEach(function(x){Object.defineProperty(S,x,Object.getOwnPropertyDescriptor(D,x))})}return S}({isNew:!0},g),g=void 0):_={isNew:!0},y.call(this,d,b,this[u],g,_)}for(var h in l.prototype=Object.create(y.prototype),l.prototype.constructor=l,Object.defineProperty(l.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1}),Object.defineProperty(l.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0}),f.prototype)l[h]=f.prototype[h];l.prototype.$setIndex=function(d){if(this.__index=d,this.$__!=null&&this.$__.validationError!=null)for(var p=0,g=Object.keys(this.$__.validationError.errors);p<g.length;p++){var b=g[p];this.invalidate(b,this.$__.validationError.errors[b])}},l.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},l.prototype.$__removeFromParent=function(){var d=this._doc._id;if(!d)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:d})},l.prototype.$__fullPath=function(d,p){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),p?d?this.$__.fullPath+"."+d:this.$__.fullPath:d?this.$__.fullPath+"."+this.__index+"."+d:this.$__.fullPath+"."+this.__index)},l.prototype.$__pathRelativeToParent=function(d,p){return this.__index!=null&&this.__parentArray&&this.__parentArray.$path?p?d==null?this.__parentArray.$path():this.__parentArray.$path()+"."+d:d==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+d:null},l.prototype.$parent=function(){return this[u]},l.prototype.parentArray=function(){return this.__parentArray},r.exports=l},9820:(r,i,o)=>{"use strict";var s=o(5832).Buffer,a=o(3633).Binary,c=o(335);function f(u,l,h){var d,p,g,b,v=u;return u==null&&(v=0),Array.isArray(l)?(p=l[0],g=l[1]):d=l,b=typeof v=="number"||v instanceof Number?s.alloc(v):s.from(v,d,h),c.decorate(b,f.mixin),b.isMongooseBuffer=!0,b[f.pathSymbol]=p,b[m]=g,b._subtype=0,b}var y=Symbol.for("mongoose#Buffer#_path"),m=Symbol.for("mongoose#Buffer#_parent");f.pathSymbol=y,f.mixin={_subtype:void 0,_markModified:function(){var u=this[m];return u&&u.markModified(this[f.pathSymbol]),this},write:function(){var u=s.prototype.write.apply(this,arguments);return u>0&&this._markModified(),u},copy:function(u){var l=s.prototype.copy.apply(this,arguments);return u&&u.isMongooseBuffer&&u._markModified(),l}},c.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(u){s.prototype[u]&&(f.mixin[u]=function(){var l=s.prototype[u].apply(this,arguments);return this._markModified(),l})}),f.mixin.toObject=function(u){var l=typeof u=="number"?u:this._subtype||0;return new a(s.from(this),l)},f.mixin.$toObject=f.mixin.toObject,f.mixin.toBSON=function(){return new a(this,this._subtype||0)},f.mixin.equals=function(u){if(!s.isBuffer(u)||this.length!==u.length)return!1;for(var l=0;l<this.length;++l)if(this[l]!==u[l])return!1;return!0},f.mixin.subtype=function(u){if(typeof u!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==u&&this._markModified(),this._subtype=u},f.Binary=a,r.exports=f},9394:(r,i,o)=>{"use strict";r.exports=o(3633).Decimal128},4941:(r,i,o)=>{"use strict";function s(b){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s(b)}function a(b,v,_){return(v=function(S){var w=function(D){if(s(D)!="object"||!D)return D;var x=D[Symbol.toPrimitive];if(x!==void 0){var M=x.call(D,"string");if(s(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(S);return s(w)=="symbol"?w:w+""}(v))in b?Object.defineProperty(b,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[v]=_,b}var c=o(9987),f=o(1520),y=o(3293),m=o(5625).arrayAtomicsSymbol,u=o(5625).arrayAtomicsBackupSymbol,l=o(5625).arrayParentSymbol,h=o(5625).arrayPathSymbol,d=o(5625).arraySchemaSymbol,p=Array.prototype.push,g=/^\d+$/;r.exports=function(b,v,_,S){var w=[],D=a(a(a(a(a({},m,{}),u,void 0),h,v),d,void 0),l,void 0);if(Array.isArray(b)&&(b[h]===v&&b[l]===_&&(D[m]=Object.assign({},b[m])),b.forEach(function(M){p.call(w,M)})),D[h]=v,D.__array=w,_&&_ instanceof y)for(D[l]=_,D[d]=_.$__schema.path(v);D[d]!=null&&D[d].$isMongooseArray&&!D[d].$isMongooseDocumentArray;)D[d]=D[d].casterConstructor;var x=new Proxy(w,{get:function(M,P){return P==="isMongooseArray"||P==="isMongooseArrayProxy"||P==="isMongooseDocumentArray"||P==="isMongooseDocumentArrayProxy"||(D.hasOwnProperty(P)?D[P]:f.hasOwnProperty(P)?f[P]:S&&S.virtuals&&S.virtuals.hasOwnProperty(P)?S.virtuals[P].applyGetters(void 0,M):c.hasOwnProperty(P)?c[P]:w[P])},set:function(M,P,k){return typeof P=="string"&&g.test(P)?f.set.call(x,P,k,!1):D.hasOwnProperty(P)?D[P]=k:S&&S.virtuals&&S.virtuals.hasOwnProperty(P)?S.virtuals[P].applySetters(k,M):w[P]=k,!0}});return x}},3640:(r,i)=>{"use strict";i.isMongooseDocumentArray=function(o){return Array.isArray(o)&&o.isMongooseDocumentArray}},1520:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(D,x){var M=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!M){if(Array.isArray(D)||(M=function(Q,ne){if(Q){if(typeof Q=="string")return c(Q,ne);var te={}.toString.call(Q).slice(8,-1);return te==="Object"&&Q.constructor&&(te=Q.constructor.name),te==="Map"||te==="Set"?Array.from(Q):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?c(Q,ne):void 0}}(D))||x&&D&&typeof D.length=="number"){M&&(D=M);var P=0,k=function(){};return{s:k,n:function(){return P>=D.length?{done:!0}:{done:!1,value:D[P++]}},e:function(Q){throw Q},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,L=!0,V=!1;return{s:function(){M=M.call(D)},n:function(){var Q=M.next();return L=Q.done,Q},e:function(Q){V=!0,B=Q},f:function(){try{L||M.return==null||M.return()}finally{if(V)throw B}}}}function c(D,x){(x==null||x>D.length)&&(x=D.length);for(var M=0,P=Array(x);M<x;M++)P[M]=D[M];return P}var f=o(9987),y=o(3293),m=o(8092),u=o(7785),l=o(3920)._,h=o(335),d=o(2128),p=o(5625).arrayParentSymbol,g=o(5625).arrayPathSymbol,b=o(5625).arraySchemaSymbol,v=o(5625).documentArrayParent,_=Array.prototype.toString,S={toBSON:function(){return this.toObject(l)},toString:function(){return _.call(this.__array.map(function(D){return D!=null&&D.$__!=null?D.toString():D}))},getArrayParent:function(){return this[p]},_cast:function(D,x,M){if(this[b]==null)return D;var P=this[b].casterConstructor;if((P.$isMongooseDocumentArray?h.isMongooseDocumentArray(D):D instanceof P)||D&&D.constructor&&D.constructor.baseCasterConstructor===P)return D[v]&&D.__parentArray||(D[v]=this[p],D.__parentArray=this),D.$setIndex(x),D;if(D==null)return null;if((s.isBuffer(D)||d(D,"ObjectId")||!h.isObject(D))&&(D={_id:D}),D&&P.discriminators&&P.schema&&P.schema.options&&P.schema.options.discriminatorKey)if(typeof D[P.schema.options.discriminatorKey]=="string"&&P.discriminators[D[P.schema.options.discriminatorKey]])P=P.discriminators[D[P.schema.options.discriminatorKey]];else{var k=u(P.discriminators,D[P.schema.options.discriminatorKey]);k&&(P=k)}if(P.$isMongooseDocumentArray)return P.cast(D,this,void 0,void 0,x);var B=new P(D,this,M,void 0,x);return B.isNew=!0,B},id:function(D){var x,M,P;try{x=m(D).toString()}catch{x=null}var k,B=a(this);try{for(B.s();!(k=B.n()).done;){var L=k.value;if(L&&(P=L.get("_id"))!=null){if(P instanceof y){if(M||(M=String(D)),M==P._id)return L}else if(d(D,"ObjectId")||d(P,"ObjectId")){if(x==P)return L}else if(D==P||h.deepEqual(D,P))return L}}}catch(V){B.e(V)}finally{B.f()}return null},toObject:function(D){return[].concat(this.map(function(x){return x==null?null:typeof x.toObject!="function"?x:x.toObject(D)}))},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},push:function(){var D=f.push.apply(this,arguments);return w(this),D},pull:function(){var D=f.pull.apply(this,arguments);return w(this),D},shift:function(){var D=f.shift.apply(this,arguments);return w(this),D},splice:function(){var D=f.splice.apply(this,arguments);return w(this),D},inspect:function(){return this.toObject()},create:function(D){var x=this[b].casterConstructor;if(D&&x.discriminators&&x.schema&&x.schema.options&&x.schema.options.discriminatorKey)if(typeof D[x.schema.options.discriminatorKey]=="string"&&x.discriminators[D[x.schema.options.discriminatorKey]])x=x.discriminators[D[x.schema.options.discriminatorKey]];else{var M=u(x.discriminators,D[x.schema.options.discriminatorKey]);M&&(x=M)}return new x(D,this)},notify:function(D){var x=this;return function M(P,k){for(var B=(k=k||x).length;B--;)k[B]!=null&&(D==="save"&&(P=x[B]),h.isMongooseArray(k[B])?M(P,k[B]):k[B]&&k[B].emit(D,P))}},set:function(D,x,M){var P=this.__array;if(M)return P[D]=x,this;var k=S._cast.call(this,x,D);return S._markModified.call(this,D),P[D]=k,this},_markModified:function(D,x){var M,P=this[p];if(P){if(M=this[g],arguments.length&&(M=x!=null?M+"."+D.__index+"."+x:M+"."+D),M!=null&&M.endsWith(".$"))return this;P.markModified(M,arguments.length!==0?D:P)}return this}};function w(D){var x=D[p];if(x&&x.$__.populated!=null){var M,P=a(Object.keys(x.$__.populated).filter(function(B){return B.startsWith(D[g]+".")}));try{var k=function(){var B=M.value,L=B.slice((D[g]+".").length);if(!Array.isArray(x.$__.populated[B].value))return 1;x.$__.populated[B].value=D.map(function(V){return V.$populated(L)})};for(P.s();!(M=P.n()).done;)k()}catch(B){P.e(B)}finally{P.f()}}}r.exports=S},1148:(r,i,o)=>{"use strict";i.Array=o(2918),i.Buffer=o(9820),i.Document=i.Embedded=o(8578),i.DocumentArray=o(4941),i.Decimal128=o(9394),i.ObjectId=o(6704),i.Map=o(4902),i.Subdocument=o(292),i.UUID=o(2417)},4902:(r,i,o)=>{"use strict";function s(V){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},s(V)}function a(V,Q){var ne=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!ne){if(Array.isArray(V)||(ne=function(T,N){if(T){if(typeof T=="string")return c(T,N);var j={}.toString.call(T).slice(8,-1);return j==="Object"&&T.constructor&&(j=T.constructor.name),j==="Map"||j==="Set"?Array.from(T):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?c(T,N):void 0}}(V))||Q&&V&&typeof V.length=="number"){ne&&(V=ne);var te=0,E=function(){};return{s:E,n:function(){return te>=V.length?{done:!0}:{done:!1,value:V[te++]}},e:function(T){throw T},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,C=!0,I=!1;return{s:function(){ne=ne.call(V)},n:function(){var T=ne.next();return C=T.done,T},e:function(T){I=!0,O=T},f:function(){try{C||ne.return==null||ne.return()}finally{if(I)throw O}}}}function c(V,Q){(Q==null||Q>V.length)&&(Q=V.length);for(var ne=0,te=Array(Q);ne<Q;ne++)te[ne]=V[ne];return te}function f(V,Q){for(var ne=0;ne<Q.length;ne++){var te=Q[ne];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(V,y(te.key),te)}}function y(V){var Q=function(ne){if(s(ne)!="object"||!ne)return ne;var te=ne[Symbol.toPrimitive];if(te!==void 0){var E=te.call(ne,"string");if(s(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(V);return s(Q)=="symbol"?Q:Q+""}function m(V,Q,ne,te){var E=u(p(1&te?V.prototype:V),Q,ne);return 2&te&&typeof E=="function"?function(O){return E.apply(ne,O)}:E}function u(){return u=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(V,Q,ne){var te=function(O,C){for(;!{}.hasOwnProperty.call(O,C)&&(O=p(O))!==null;);return O}(V,Q);if(te){var E=Object.getOwnPropertyDescriptor(te,Q);return E.get?E.get.call(arguments.length<3?V:ne):E.value}},u.apply(null,arguments)}function l(V){var Q=typeof Map=="function"?new Map:void 0;return l=function(ne){if(ne===null||!function(E){try{return Function.toString.call(E).indexOf("[native code]")!==-1}catch{return typeof E=="function"}}(ne))return ne;if(typeof ne!="function")throw new TypeError("Super expression must either be null or a function");if(Q!==void 0){if(Q.has(ne))return Q.get(ne);Q.set(ne,te)}function te(){return function(E,O,C){if(h())return Reflect.construct.apply(null,arguments);var I=[null];I.push.apply(I,O);var T=new(E.bind.apply(E,I));return C&&d(T,C.prototype),T}(ne,arguments,p(this).constructor)}return te.prototype=Object.create(ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),d(te,ne)},l(V)}function h(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!V})()}function d(V,Q){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,te){return ne.__proto__=te,ne},d(V,Q)}function p(V){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},p(V)}var g=o(1895),b=o(7026),v=o(1829),_=o(335).deepEqual,S=o(5857),w=o(8145),D=o(7352),x=o(8150),M=o(2128),P=o(8208),k=o(5625).populateModelSymbol,B=function(V){function Q(E,O,C,I){var T;return function(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}(this,Q),S(E)==="Object"&&(E=Object.keys(E).reduce(function(N,j){return N.concat([[j,E[j]]])},[])),(T=function(N,j,H){return j=p(j),function(q,X){if(X&&(s(X)=="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(q)}(N,h()?Reflect.construct(j,H||[],p(N).constructor):j.apply(N,H))}(this,Q,[E])).$__parent=C!=null&&C.$__!=null?C:null,T.$__path=O,T.$__schemaType=I??new g(O),T.$__runDeferred(),T}return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),O&&d(E,O)}(Q,V),ne=Q,te=[{key:"$init",value:function(E,O){L(E),m(Q,"set",this,3)([E,O]),O!=null&&O.$isSingleNested&&(O.$basePath=this.$__path+"."+E)}},{key:"$__set",value:function(E,O){m(Q,"set",this,3)([E,O])}},{key:"get",value:function(E,O){return M(E,"ObjectId")&&(E=E.toString()),(O=O||{}).getters===!1?m(Q,"get",this,3)([E]):this.$__schemaType.applyGetters(m(Q,"get",this,3)([E]),this.$__parent)}},{key:"set",value:function(E,O){if(M(E,"ObjectId")&&(E=E.toString()),L(E),O=w(O),this.$__schemaType==null)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:E,value:O});var C,I=this.$__parent,T=I!=null&&I.$__&&I.$__.populated?I.$populated(q.call(this),!0)||I.$populated(this.$__path,!0):null,N=this.get(E);if(T!=null){if(this.$__schemaType.$isSingleNested)throw new b("Cannot manually populate single nested subdoc underneath Map "+'at path "'.concat(this.$__path,'". Try using an array instead of a Map.'));Array.isArray(O)&&this.$__schemaType.$isMongooseArray?O=O.map(function(X){return X.$__==null&&(X=new T.options[k](X)),X.$__.wasPopulated={value:X._doc._id},X}):O!=null&&(O.$__==null&&(O=new T.options[k](O)),O.$__.wasPopulated={value:O._doc._id})}else try{var j=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested?{path:q.call(this)}:null;O=this.$__schemaType.applySetters(O,this.$__parent,!1,this.get(E),j)}catch(X){if(this.$__parent!=null&&this.$__parent.$__!=null)return void this.$__parent.invalidate(q.call(this),X);throw X}if(m(Q,"set",this,3)([E,O]),I!=null&&I.$__!=null&&!_(O,N)){var H=q.call(this);I.markModified(H),(this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested)&&P(I,H)}function q(){return C||(C=this.$__path+"."+E)}}},{key:"clear",value:function(){m(Q,"clear",this,3)([]);var E=this.$__parent;E?.markModified(this.$__path)}},{key:"delete",value:function(E){return M(E,"ObjectId")&&(E=E.toString()),this.set(E,void 0),m(Q,"delete",this,3)([E])}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(E){if(E&&E.flattenMaps){var O,C={},I=a(this.keys());try{for(I.s();!(O=I.n()).done;){var T=O.value;C[T]=v(this.get(T),E)}}catch(N){I.e(N)}finally{I.f()}return C}return new Map(this)}},{key:"$toObject",value:function(){return this.constructor.prototype.toObject.apply(this,arguments)}},{key:"toJSON",value:function(E){if(typeof(E&&E.flattenMaps)!="boolean"||E.flattenMaps){var O,C={},I=a(this.keys());try{for(I.s();!(O=I.n()).done;){var T=O.value;C[T]=v(this.get(T),E)}}catch(N){I.e(N)}finally{I.f()}return C}return new Map(this)}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var E,O=a(this.$__deferred);try{for(O.s();!(E=O.n()).done;){var C=E.value;this.set(C.key,C.value)}}catch(I){O.e(I)}finally{O.f()}this.$__deferred=null}}}],te&&f(ne.prototype,te),Object.defineProperty(ne,"prototype",{writable:!1}),ne;var ne,te}(l(Map));function L(V){var Q=s(V);if(Q!=="string")throw new TypeError("Mongoose maps only support string keys, got ".concat(Q));if(V.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(V,'"'));if(V.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(V,'"'));if(x.has(V))throw new Error('Mongoose maps do not support reserved key name "'.concat(V,'"'))}D.inspect.custom&&Object.defineProperty(B.prototype,D.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:B.prototype.inspect}),Object.defineProperty(B.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(B.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),r.exports=B},6704:(r,i,o)=>{"use strict";var s=o(3633).ObjectId,a=o(5625).objectIdSymbol;Object.defineProperty(s.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),s.prototype.hasOwnProperty("valueOf")||(s.prototype.valueOf=function(){return this.toString()}),s.prototype[a]=!0,r.exports=s},292:(r,i,o)=>{"use strict";function s(){s=function(){return p};var d,p={},g=Object.prototype,b=g.hasOwnProperty,v=Object.defineProperty||function(ee,R,$){ee[R]=$.value},_=typeof Symbol=="function"?Symbol:{},S=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",D=_.toStringTag||"@@toStringTag";function x(ee,R,$){return Object.defineProperty(ee,R,{value:$,enumerable:!0,configurable:!0,writable:!0}),ee[R]}try{x({},"")}catch{x=function(R,$,G){return R[$]=G}}function M(ee,R,$,G){var ie=R&&R.prototype instanceof ne?R:ne,ae=Object.create(ie.prototype),le=new U(G||[]);return v(ae,"_invoke",{value:H(ee,$,le)}),ae}function P(ee,R,$){try{return{type:"normal",arg:ee.call(R,$)}}catch(G){return{type:"throw",arg:G}}}p.wrap=M;var k="suspendedStart",B="suspendedYield",L="executing",V="completed",Q={};function ne(){}function te(){}function E(){}var O={};x(O,S,function(){return this});var C=Object.getPrototypeOf,I=C&&C(C(Z([])));I&&I!==g&&b.call(I,S)&&(O=I);var T=E.prototype=ne.prototype=Object.create(O);function N(ee){["next","throw","return"].forEach(function(R){x(ee,R,function($){return this._invoke(R,$)})})}function j(ee,R){function $(ie,ae,le,J){var re=P(ee[ie],ee,ae);if(re.type!=="throw"){var ue=re.arg,fe=ue.value;return fe&&c(fe)=="object"&&b.call(fe,"__await")?R.resolve(fe.__await).then(function(de){$("next",de,le,J)},function(de){$("throw",de,le,J)}):R.resolve(fe).then(function(de){ue.value=de,le(ue)},function(de){return $("throw",de,le,J)})}J(re.arg)}var G;v(this,"_invoke",{value:function(ie,ae){function le(){return new R(function(J,re){$(ie,ae,J,re)})}return G=G?G.then(le,le):le()}})}function H(ee,R,$){var G=k;return function(ie,ae){if(G===L)throw Error("Generator is already running");if(G===V){if(ie==="throw")throw ae;return{value:d,done:!0}}for($.method=ie,$.arg=ae;;){var le=$.delegate;if(le){var J=q(le,$);if(J){if(J===Q)continue;return J}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(G===k)throw G=V,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);G=L;var re=P(ee,R,$);if(re.type==="normal"){if(G=$.done?V:B,re.arg===Q)continue;return{value:re.arg,done:$.done}}re.type==="throw"&&(G=V,$.method="throw",$.arg=re.arg)}}}function q(ee,R){var $=R.method,G=ee.iterator[$];if(G===d)return R.delegate=null,$==="throw"&&ee.iterator.return&&(R.method="return",R.arg=d,q(ee,R),R.method==="throw")||$!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+$+"' method")),Q;var ie=P(G,ee.iterator,R.arg);if(ie.type==="throw")return R.method="throw",R.arg=ie.arg,R.delegate=null,Q;var ae=ie.arg;return ae?ae.done?(R[ee.resultName]=ae.value,R.next=ee.nextLoc,R.method!=="return"&&(R.method="next",R.arg=d),R.delegate=null,Q):ae:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,Q)}function X(ee){var R={tryLoc:ee[0]};1 in ee&&(R.catchLoc=ee[1]),2 in ee&&(R.finallyLoc=ee[2],R.afterLoc=ee[3]),this.tryEntries.push(R)}function z(ee){var R=ee.completion||{};R.type="normal",delete R.arg,ee.completion=R}function U(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(X,this),this.reset(!0)}function Z(ee){if(ee||ee===""){var R=ee[S];if(R)return R.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var $=-1,G=function ie(){for(;++$<ee.length;)if(b.call(ee,$))return ie.value=ee[$],ie.done=!1,ie;return ie.value=d,ie.done=!0,ie};return G.next=G}}throw new TypeError(c(ee)+" is not iterable")}return te.prototype=E,v(T,"constructor",{value:E,configurable:!0}),v(E,"constructor",{value:te,configurable:!0}),te.displayName=x(E,D,"GeneratorFunction"),p.isGeneratorFunction=function(ee){var R=typeof ee=="function"&&ee.constructor;return!!R&&(R===te||(R.displayName||R.name)==="GeneratorFunction")},p.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,E):(ee.__proto__=E,x(ee,D,"GeneratorFunction")),ee.prototype=Object.create(T),ee},p.awrap=function(ee){return{__await:ee}},N(j.prototype),x(j.prototype,w,function(){return this}),p.AsyncIterator=j,p.async=function(ee,R,$,G,ie){ie===void 0&&(ie=Promise);var ae=new j(M(ee,R,$,G),ie);return p.isGeneratorFunction(R)?ae:ae.next().then(function(le){return le.done?le.value:ae.next()})},N(T),x(T,D,"Generator"),x(T,S,function(){return this}),x(T,"toString",function(){return"[object Generator]"}),p.keys=function(ee){var R=Object(ee),$=[];for(var G in R)$.push(G);return $.reverse(),function ie(){for(;$.length;){var ae=$.pop();if(ae in R)return ie.value=ae,ie.done=!1,ie}return ie.done=!0,ie}},p.values=Z,U.prototype={constructor:U,reset:function(ee){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(z),!ee)for(var R in this)R.charAt(0)==="t"&&b.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=d)},stop:function(){this.done=!0;var ee=this.tryEntries[0].completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ee){if(this.done)throw ee;var R=this;function $(re,ue){return ae.type="throw",ae.arg=ee,R.next=re,ue&&(R.method="next",R.arg=d),!!ue}for(var G=this.tryEntries.length-1;G>=0;--G){var ie=this.tryEntries[G],ae=ie.completion;if(ie.tryLoc==="root")return $("end");if(ie.tryLoc<=this.prev){var le=b.call(ie,"catchLoc"),J=b.call(ie,"finallyLoc");if(le&&J){if(this.prev<ie.catchLoc)return $(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return $(ie.finallyLoc)}else if(le){if(this.prev<ie.catchLoc)return $(ie.catchLoc,!0)}else{if(!J)throw Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return $(ie.finallyLoc)}}}},abrupt:function(ee,R){for(var $=this.tryEntries.length-1;$>=0;--$){var G=this.tryEntries[$];if(G.tryLoc<=this.prev&&b.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var ie=G;break}}ie&&(ee==="break"||ee==="continue")&&ie.tryLoc<=R&&R<=ie.finallyLoc&&(ie=null);var ae=ie?ie.completion:{};return ae.type=ee,ae.arg=R,ie?(this.method="next",this.next=ie.finallyLoc,Q):this.complete(ae)},complete:function(ee,R){if(ee.type==="throw")throw ee.arg;return ee.type==="break"||ee.type==="continue"?this.next=ee.arg:ee.type==="return"?(this.rval=this.arg=ee.arg,this.method="return",this.next="end"):ee.type==="normal"&&R&&(this.next=R),Q},finish:function(ee){for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R];if($.finallyLoc===ee)return this.complete($.completion,$.afterLoc),z($),Q}},catch:function(ee){for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R];if($.tryLoc===ee){var G=$.completion;if(G.type==="throw"){var ie=G.arg;z($)}return ie}}throw Error("illegal catch attempt")},delegateYield:function(ee,R,$){return this.delegate={iterator:Z(ee),resultName:R,nextLoc:$},this.method==="next"&&(this.arg=d),Q}},p}function a(d,p,g,b,v,_,S){try{var w=d[_](S),D=w.value}catch(x){return void g(x)}w.done?p(D):Promise.resolve(D).then(b,v)}function c(d){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},c(d)}var f=o(3293),y=o(3933),m=o(3920)._,u=o(7352),l=o(335);function h(d,p,g,b,v){if(c(b)==="object"&&b!=null&&v==null&&(v=b,b=void 0),g!=null){var _={isNew:g.isNew};"defaults"in g.$__&&(_.defaults=g.$__.defaults),v=Object.assign(_,v)}v!=null&&v.path!=null&&(this.$basePath=v.path),f.call(this,d,p,b,v),delete this.$__.priorDoc}r.exports=h,h.prototype=Object.create(f.prototype),Object.defineProperty(h.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0}),Object.defineProperty(h.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0}),h.prototype.toBSON=function(){return this.toObject(m)},h.prototype.save=function(){var d,p=(d=s().mark(function g(b){var v=this;return s().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return(b=b||{}).suppressWarning||l.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),_.abrupt("return",new Promise(function(S,w){v.$__save(function(D){if(D!=null)return w(D);S(v)})}));case 3:case"end":return _.stop()}},g)}),function(){var g=this,b=arguments;return new Promise(function(v,_){var S=d.apply(g,b);function w(x){a(S,v,_,w,D,"next",x)}function D(x){a(S,v,_,w,D,"throw",x)}w(void 0)})});return function(g){return p.apply(this,arguments)}}(),h.prototype.$__fullPath=function(d){return this.$__.fullPath||this.ownerDocument(),d?this.$__.fullPath+"."+d:this.$__.fullPath},h.prototype.$__pathRelativeToParent=function(d){return d==null?this.$basePath:[this.$basePath,d].join(".")},h.prototype.$__save=function(d){var p=this;return y(function(){return d(null,p)})},h.prototype.$isValid=function(d){var p=this.$parent(),g=this.$__pathRelativeToParent(d);return p!=null&&g!=null?p.$isValid(g):f.prototype.$isValid.call(this,d)},h.prototype.markModified=function(d){f.prototype.markModified.call(this,d);var p=this.$parent(),g=this.$__pathRelativeToParent(d);if(p!=null&&g!=null){var b=this.$__pathRelativeToParent().replace(/\.$/,"");p.isDirectModified(b)||this.isNew||this.$__parent.markModified(g,this)}},h.prototype.isModified=function(d,p,g){var b=this,v=this.$parent();return v!=null?(Array.isArray(d)||typeof d=="string"?d=(d=Array.isArray(d)?d:d.split(" ")).map(function(_){return b.$__pathRelativeToParent(_)}).filter(function(_){return _!=null}):d||(d=this.$__pathRelativeToParent()),v.$isModified(d,p,g)):f.prototype.isModified.call(this,d,p,g)},h.prototype.$markValid=function(d){f.prototype.$markValid.call(this,d);var p=this.$parent(),g=this.$__pathRelativeToParent(d);p!=null&&g!=null&&p.$markValid(g)},h.prototype.invalidate=function(d,p,g){f.prototype.invalidate.call(this,d,p,g);var b=this.$parent(),v=this.$__pathRelativeToParent(d);if(b!=null&&v!=null)b.invalidate(v,p,g);else if(p.kind==="cast"||p.name==="CastError"||v==null)throw p;return this.ownerDocument().$__.validationError},h.prototype.$ignore=function(d){f.prototype.$ignore.call(this,d);var p=this.$parent(),g=this.$__pathRelativeToParent(d);p!=null&&g!=null&&p.$ignore(g)},h.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;for(var d=this,p=[],g=new Set([d]);typeof d.$__pathRelativeToParent=="function";){p.unshift(d.$__pathRelativeToParent(void 0,!0));var b=d.$parent();if(b==null)break;if(d=b,g.has(d))throw new Error("Infinite subdocument loop: subdoc with _id "+d._id+" is a parent of itself");g.add(d)}return this.$__.fullPath=p.join("."),this.$__.ownerDocument=d,this.$__.ownerDocument},h.prototype.$__fullPathWithIndexes=function(){for(var d=this,p=[],g=new Set([d]);typeof d.$__pathRelativeToParent=="function";){p.unshift(d.$__pathRelativeToParent(void 0,!1));var b=d.$parent();if(b==null)break;if(d=b,g.has(d))throw new Error("Infinite subdocument loop: subdoc with _id "+d._id+" is a parent of itself");g.add(d)}return p.join(".")},h.prototype.parent=function(){return this.$__parent},h.prototype.$parent=h.prototype.parent,h.prototype.$__deleteOne=function(d){if(d!=null)return d(null,this)},h.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)},h.prototype.deleteOne=function(d,p){if(typeof d=="function"&&(p=d,d=null),function(b){var v=b.ownerDocument();function _(){v.$removeListener("save",_),v.$removeListener("deleteOne",_),b.emit("deleteOne",b),b.constructor.emit("deleteOne",b)}v.$on("save",_),v.$on("deleteOne",_)}(this),!d||!d.noop){this.$__removeFromParent();var g=this.ownerDocument();g.$__.removedSubdocs=g.$__.removedSubdocs||[],g.$__.removedSubdocs.push(this)}return this.$__deleteOne(p)},h.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')},h.prototype.inspect=function(){return this.toObject()},u.inspect.custom&&(h.prototype[u.inspect.custom]=h.prototype.inspect)},2417:(r,i,o)=>{"use strict";r.exports=o(3633).UUID},335:(r,i,o)=>{"use strict";var s=o(5832).Buffer;function a(j,H){var q=Object.keys(j);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(j);H&&(X=X.filter(function(z){return Object.getOwnPropertyDescriptor(j,z).enumerable})),q.push.apply(q,X)}return q}function c(j){for(var H=1;H<arguments.length;H++){var q=arguments[H]!=null?arguments[H]:{};H%2?a(Object(q),!0).forEach(function(X){f(j,X,q[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(q)):a(Object(q)).forEach(function(X){Object.defineProperty(j,X,Object.getOwnPropertyDescriptor(q,X))})}return j}function f(j,H,q){return(H=function(X){var z=function(U){if(l(U)!="object"||!U)return U;var Z=U[Symbol.toPrimitive];if(Z!==void 0){var ee=Z.call(U,"string");if(l(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(X);return l(z)=="symbol"?z:z+""}(H))in j?Object.defineProperty(j,H,{value:q,enumerable:!0,configurable:!0,writable:!0}):j[H]=q,j}function y(j,H){var q=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!q){if(Array.isArray(j)||(q=m(j))||H&&j&&typeof j.length=="number"){q&&(j=q);var X=0,z=function(){};return{s:z,n:function(){return X>=j.length?{done:!0}:{done:!1,value:j[X++]}},e:function(R){throw R},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U,Z=!0,ee=!1;return{s:function(){q=q.call(j)},n:function(){var R=q.next();return Z=R.done,R},e:function(R){ee=!0,U=R},f:function(){try{Z||q.return==null||q.return()}finally{if(ee)throw U}}}}function m(j,H){if(j){if(typeof j=="string")return u(j,H);var q={}.toString.call(j).slice(8,-1);return q==="Object"&&j.constructor&&(q=j.constructor.name),q==="Map"||q==="Set"?Array.from(j):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?u(j,H):void 0}}function u(j,H){(H==null||H>j.length)&&(H=j.length);for(var q=0,X=Array(H);q<H;q++)X[q]=j[q];return X}function l(j){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},l(j)}var h,d=o(3633).UUID,p=o(354),g=o(5678),b=o(6704),v=o(6591),_=o(1829),S=o(3933),w=o(4797),D=o(9240),x=o(3640),M=o(2128),P=o(6288),k=o(5515),B=o(6504),L=o(8183),V=o(5682),Q=o(8150),ne=o(3692).trustedSymbol;i.specialProperties=Q,i.isMongooseArray=D.isMongooseArray,i.isMongooseDocumentArray=x.isMongooseDocumentArray,i.registerMongooseArray=D.registerMongooseArray,i.registerMongooseDocumentArray=x.registerMongooseDocumentArray;var te=/\s/,E=/\s+/;i.toCollectionName=function(j,H){if(j==="system.profile"||j==="system.indexes")return j;if(typeof H=="function"){if(typeof j!="string")throw new TypeError("Collection name must be a string");if(j.length===0)throw new TypeError("Collection name cannot be empty");return H(j)}return j},i.deepEqual=function j(H,q){if(H===q)return!0;if(l(H)!=="object"||l(q)!=="object")return H===q;if(H instanceof Date&&q instanceof Date)return H.getTime()===q.getTime();if(M(H,"ObjectId")&&M(q,"ObjectId")||M(H,"Decimal128")&&M(q,"Decimal128"))return H.toString()===q.toString();if(H instanceof RegExp&&q instanceof RegExp)return H.source===q.source&&H.ignoreCase===q.ignoreCase&&H.multiline===q.multiline&&H.global===q.global&&H.dotAll===q.dotAll&&H.unicode===q.unicode&&H.sticky===q.sticky&&H.hasIndices===q.hasIndices;if(H==null||q==null||H.prototype!==q.prototype)return!1;if(H instanceof Map||q instanceof Map)return H instanceof Map&&q instanceof Map&&j(Array.from(H.keys()),Array.from(q.keys()))&&j(Array.from(H.values()),Array.from(q.values()));if(H instanceof Number&&q instanceof Number)return H.valueOf()===q.valueOf();if(s.isBuffer(H))return i.buffer.areEqual(H,q);if(Array.isArray(H)||Array.isArray(q)){if(!Array.isArray(H)||!Array.isArray(q))return!1;var X=H.length;if(X!==q.length)return!1;for(var z=0;z<X;++z)if(!j(H[z],q[z]))return!1;return!0}H.$__!=null?H=H._doc:B(H)&&(H=H.toObject()),q.$__!=null?q=q._doc:B(q)&&(q=q.toObject());var U=Object.keys(H),Z=Object.keys(q),ee=U.length;if(ee!==Z.length)return!1;for(var R=ee-1;R>=0;R--)if(U[R]!==Z[R])return!1;for(var $=0,G=U;$<G.length;$++){var ie=G[$];if(!j(H[ie],q[ie]))return!1}return!0},i.last=function(j){if(j.length>0)return j[j.length-1]},i.promiseOrCallback=L,i.cloneArrays=function(j){return Array.isArray(j)?j.map(function(H){return i.cloneArrays(H)}):j},i.omit=function(j,H){if(H==null)return Object.assign({},j);Array.isArray(H)||(H=[H]);var q,X=Object.assign({},j),z=y(H);try{for(z.s();!(q=z.n()).done;)delete X[q.value]}catch(U){z.e(U)}finally{z.f()}return X},i.merge=function j(H,q,X,z){X=X||{};var U,Z,ee=Object.keys(q),R=0,$=ee.length;q[ne]&&(H[ne]=q[ne]),z=z||"";for(var G=X.omitNested||{};R<$;)if(U=ee[R++],!(X.omit&&X.omit[U]||G[z]||Q.has(U)))if(H[U]==null)P(q[U])?H[U]=c({},q[U]):Array.isArray(q[U])?H[U]=function(ie){if(Array.isArray(ie))return u(ie)}(Z=q[U])||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(Z)||m(Z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():H[U]=q[U];else if(i.isObject(q[U])){if(i.isObject(H[U])||(H[U]={}),q[U]!=null){if(X.isDiscriminatorSchemaMerge&&q[U].$isSingleNested&&H[U].$isMongooseDocumentArray||q[U].$isMongooseDocumentArray&&H[U].$isSingleNested)continue;if(q[U].instanceOfSchema){H[U].instanceOfSchema?V(H[U],q[U].clone(),X.isDiscriminatorSchemaMerge):H[U]=q[U].clone();continue}if(M(q[U],"ObjectId")){H[U]=new b(q[U]);continue}}j(H[U],q[U],X,z?z+"."+U:U)}else X.overwrite&&(H[U]=q[U]);return H},i.toObject=function j(H){var q;if(h||(h=o(3293)),H==null)return H;if(H instanceof h)return H.toObject();if(Array.isArray(H)){q=[];var X,z=y(H);try{for(z.s();!(X=z.n()).done;){var U=X.value;q.push(j(U))}}catch($){z.e($)}finally{z.f()}return q}if(i.isPOJO(H)){q={},H[ne]&&(q[ne]=H[ne]);for(var Z=0,ee=Object.keys(H);Z<ee.length;Z++){var R=ee[Z];Q.has(R)||(q[R]=j(H[R]))}return q}return H},i.isObject=w,i.isPOJO=o(6288),i.isNonBuiltinObject=function(j){return!(l(j)!=="object"||i.isNativeObject(j)||i.isMongooseType(j)||j instanceof d||j==null)},i.isNativeObject=function(j){return Array.isArray(j)||j instanceof Date||j instanceof Boolean||j instanceof Number||j instanceof String},i.isEmptyObject=function(j){return j!=null&&l(j)==="object"&&Object.keys(j).length===0},i.hasKey=function(j,H){for(var q=0,X=Object.keys(j);q<X.length;q++){var z=X[q];if(z===H||i.isPOJO(j[z])&&i.hasKey(j[z],H))return!0}return!1},i.tick=function(j){if(typeof j=="function")return function(){try{j.apply(this,arguments)}catch(H){S(function(){throw H})}}},i.isMongooseType=function(j){return M(j,"ObjectId")||M(j,"Decimal128")||j instanceof s},i.isMongooseObject=B,i.expires=function(j){j&&j.constructor.name==="Object"&&"expires"in j&&(j.expireAfterSeconds=typeof j.expires!="string"?j.expires:Math.round(p(j.expires)/1e3),delete j.expires)},i.populate=function(j,H,q,X,z,U,Z,ee){var R,$=null;if(arguments.length===1){if(j instanceof v)return j._docs={},j._childDocs=[],[j];if(Array.isArray(j)){var G=(R=[],j.forEach(function(ie){te.test(ie.path)?ie.path.split(E).forEach(function(ae){var le=Object.assign({},ie);le.path=ae,R.push(le)}):R.push(ie)}),R);return G.map(function(ie){return i.populate(ie)[0]})}$=i.isObject(j)?Object.assign({},j):{path:j}}else $=l(q)==="object"?{path:j,select:H,match:q,options:X}:{path:j,select:H,model:q,match:X,options:z,populate:U,justOne:Z,count:ee};if(typeof $.path!="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+l(j)+"`");return function(ie){if(Array.isArray(ie.populate)){var ae=[];ie.populate.forEach(function(de){if(te.test(de.path)){var se=Object.assign({},de);se.path.split(E).forEach(function(Ie){se.path=Ie,ae.push(i.populate(se)[0])})}else ae.push(i.populate(de)[0])}),ie.populate=i.populate(ae)}else ie.populate!=null&&l(ie.populate)==="object"&&(ie.populate=i.populate(ie.populate));var le=[],J=te.test(ie.path)?ie.path.split(E):[ie.path];ie.options!=null&&(ie.options=_(ie.options));var re,ue=y(J);try{for(ue.s();!(re=ue.n()).done;){var fe=re.value;le.push(new v(Object.assign({},ie,{path:fe})))}}catch(de){ue.e(de)}finally{ue.f()}return le}($)},i.getValue=function(j,H,q){return g.get(j,H,C,q)};var O=Object.freeze({getters:!1});function C(j,H){if(H==="$*"&&j instanceof Map)return j;var q=j?._doc||j;return q!=null&&q.isMongooseArrayProxy&&(q=q.__array),q instanceof Map?q.get(H,O):q[H]}i.setValue=function(j,H,q,X,z){g.set(j,H,q,"_doc",X,z)},i.object={},i.object.vals=function(j){for(var H=Object.keys(j),q=H.length,X=[];q--;)X.push(j[H[q]]);return X};var I=Object.prototype.hasOwnProperty;i.object.hasOwnProperty=function(j,H){return I.call(j,H)},i.isNullOrUndefined=function(j){return j==null},i.array={},i.array.flatten=function j(H,q,X){return X||(X=[]),H.forEach(function(z){Array.isArray(z)?j(z,q,X):q&&!q(z)||X.push(z)}),X};var T=Object.prototype.hasOwnProperty;i.hasUserDefinedProperty=function(j,H){if(j==null)return!1;if(Array.isArray(H)){var q,X=y(H);try{for(X.s();!(q=X.n()).done;){var z=q.value;if(i.hasUserDefinedProperty(j,z))return!0}}catch(Z){X.e(Z)}finally{X.f()}return!1}if(T.call(j,H))return!0;if(l(j)==="object"&&H in j){var U=j[H];return U!==Object.prototype[H]&&U!==Array.prototype[H]}return!1};var N=Math.pow(2,32)-1;i.isArrayIndex=function(j){return typeof j=="number"?j>=0&&j<=N:typeof j=="string"&&!!/^\d+$/.test(j)&&(j=+j)>=0&&j<=N},i.array.unique=function(j){var H,q=new Set,X=new Set,z=[],U=y(j);try{for(U.s();!(H=U.n()).done;){var Z=H.value;if(typeof Z=="number"||typeof Z=="string"||Z==null){if(q.has(Z))continue;z.push(Z),q.add(Z)}else if(M(Z,"ObjectId")){if(X.has(Z.toString()))continue;z.push(Z),X.add(Z.toString())}else z.push(Z)}}catch(ee){U.e(ee)}finally{U.f()}return z},i.buffer={},i.buffer.areEqual=function(j,H){if(!s.isBuffer(j)||!s.isBuffer(H)||j.length!==H.length)return!1;for(var q=0,X=j.length;q<X;++q)if(j[q]!==H[q])return!1;return!0},i.getFunctionName=k,i.decorate=function(j,H){for(var q in H)Q.has(q)||(j[q]=H[q])},i.mergeClone=function(j,H){B(H)&&(H=H.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var q,X=Object.keys(H),z=X.length,U=0;U<z;)if(q=X[U++],!Q.has(q))if(j[q]===void 0)j[q]=_(H[q],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var Z=H[q];if(Z==null||!Z.valueOf||Z instanceof Date||(Z=Z.valueOf()),i.isObject(Z)){var ee=Z;B(Z)&&!Z.isMongooseBuffer&&(ee=ee.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),Z.isMongooseBuffer&&(ee=s.from(ee)),i.mergeClone(j[q],ee)}else j[q]=_(Z,{flattenDecimals:!1})}},i.each=function(j,H){var q,X=y(j);try{for(X.s();!(q=X.n()).done;)H(q.value)}catch(z){X.e(z)}finally{X.f()}},i.renameObjKey=function(j,H,q){return Object.keys(j).reduce(function(X,z){return z===H?X[q]=j[H]:X[z]=j[z],X},{})},i.getOption=function(j){var H,q=y(Array.prototype.slice.call(arguments,1));try{for(q.s();!(H=q.n()).done;){var X=H.value;if(X!=null&&X[j]!=null)return X[j]}}catch(z){q.e(z)}finally{q.f()}return null},i.noop=function(){},i.errorToPOJO=function(j){if(!(j instanceof Error))throw new Error("`error` must be `instanceof Error`.");var H,q={},X=y(Object.getOwnPropertyNames(j));try{for(X.s();!(H=X.n()).done;){var z=H.value;q[z]=j[z]}}catch(U){X.e(U)}finally{X.f()}return q},i.warn=function(j){return{env:{}}.emitWarning(j,{code:"MONGOOSE"})},i.injectTimestampsOption=function(j,H){H!=null&&(j.timestamps=H)}},5165:(r,i,o)=>{"use strict";function s(u,l){var h=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!h){if(Array.isArray(u)||(h=function(_,S){if(_){if(typeof _=="string")return a(_,S);var w={}.toString.call(_).slice(8,-1);return w==="Object"&&_.constructor&&(w=_.constructor.name),w==="Map"||w==="Set"?Array.from(_):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?a(_,S):void 0}}(u))||l&&u&&typeof u.length=="number"){h&&(u=h);var d=0,p=function(){};return{s:p,n:function(){return d>=u.length?{done:!0}:{done:!1,value:u[d++]}},e:function(_){throw _},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,b=!0,v=!1;return{s:function(){h=h.call(u)},n:function(){var _=h.next();return b=_.done,_},e:function(_){v=!0,g=_},f:function(){try{b||h.return==null||h.return()}finally{if(v)throw g}}}}function a(u,l){(l==null||l>u.length)&&(l=u.length);for(var h=0,d=Array(l);h<l;h++)d[h]=u[h];return d}var c=o(8660),f=o(335),y=o(5625).modelSymbol;function m(u,l){this.path=l,this.getters=[],this.setters=[],this.options=Object.assign({},u)}m.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var u="$"+this.path;this.getters.push(function(){return this.$locals[u]}),this.setters.push(function(l){this.$locals[u]=l})}},m.prototype.clone=function(){var u=new m(this.options,this.path);return u.getters=[].concat(this.getters),u.setters=[].concat(this.setters),u},m.prototype.get=function(u){return this.getters.push(u),this},m.prototype.set=function(u){return this.setters.push(u),this},m.prototype.applyGetters=function(u,l){f.hasUserDefinedProperty(this.options,["ref","refPath"])&&l.$$populatedVirtuals&&l.$$populatedVirtuals.hasOwnProperty(this.path)&&(u=l.$$populatedVirtuals[this.path]);var h,d=u,p=s(this.getters);try{for(p.s();!(h=p.n()).done;)d=h.value.call(l,d,this,l)}catch(g){p.e(g)}finally{p.f()}return d},m.prototype.applySetters=function(u,l){var h,d=u,p=s(this.setters);try{for(p.s();!(h=p.n()).done;)d=h.value.call(l,d,this,l)}catch(g){p.e(g)}finally{p.f()}return d},m.prototype._getModelNamesForPopulate=function(u){if(this.options.refPath)return c(this.options.refPath,u,this.path);var l;return(l=typeof this.options.ref!="function"||this.options.ref[y]?this.options.ref:this.options.ref.call(u,u))==null||Array.isArray(l)?l:[l]},r.exports=m},1419:(r,i,o)=>{var s=i;s.bignum=o(7799),s.define=o(2392).define,s.base=o(1620),s.constants=o(8050),s.decoders=o(2240),s.encoders=o(9176)},2392:(r,i,o)=>{var s=o(1419),a=o(1679);function c(f,y){this.name=f,this.body=y,this.decoders={},this.encoders={}}i.define=function(f,y){return new c(f,y)},c.prototype._createNamed=function(f){var y;try{y=Object(function(){var m=new Error("Cannot find module 'vm'");throw m.code="MODULE_NOT_FOUND",m}())("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{y=function(u){this._initNamed(u)}}return a(y,f),y.prototype._initNamed=function(m){f.call(this,m)},new y(this)},c.prototype._getDecoder=function(f){return f=f||"der",this.decoders.hasOwnProperty(f)||(this.decoders[f]=this._createNamed(s.decoders[f])),this.decoders[f]},c.prototype.decode=function(f,y,m){return this._getDecoder(y).decode(f,m)},c.prototype._getEncoder=function(f){return f=f||"der",this.encoders.hasOwnProperty(f)||(this.encoders[f]=this._createNamed(s.encoders[f])),this.encoders[f]},c.prototype.encode=function(f,y,m){return this._getEncoder(y).encode(f,m)}},8260:(r,i,o)=>{function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}var a=o(1679),c=o(1620).Reporter,f=o(5832).Buffer;function y(u,l){c.call(this,l),f.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function m(u,l){if(Array.isArray(u))this.length=0,this.value=u.map(function(h){return h instanceof m||(h=new m(h,l)),this.length+=h.length,h},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return l.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=f.byteLength(u);else{if(!f.isBuffer(u))return l.error("Unsupported type: "+s(u));this.value=u,this.length=u.length}}a(y,c),i.t=y,y.prototype.save=function(){return{offset:this.offset,reporter:c.prototype.save.call(this)}},y.prototype.restore=function(u){var l=new y(this.base);return l.offset=u.offset,l.length=this.offset,this.offset=u.offset,c.prototype.restore.call(this,u.reporter),l},y.prototype.isEmpty=function(){return this.offset===this.length},y.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},y.prototype.skip=function(u,l){if(!(this.offset+u<=this.length))return this.error(l||"DecoderBuffer overrun");var h=new y(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},y.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.d=m,m.prototype.join=function(u,l){return u||(u=new f(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(u,l),l+=h.length}):(typeof this.value=="number"?u[l]=this.value:typeof this.value=="string"?u.write(this.value,l):f.isBuffer(this.value)&&this.value.copy(u,l),l+=this.length)),u}},1620:(r,i,o)=>{var s=i;s.Reporter=o(6555).a,s.DecoderBuffer=o(8260).t,s.EncoderBuffer=o(8260).d,s.Node=o(4258)},4258:(r,i,o)=>{function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}var a=o(1620).Reporter,c=o(1620).EncoderBuffer,f=o(1620).DecoderBuffer,y=o(3528),m=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(m);function l(d,p){var g={};this._baseState=g,g.enc=d,g.parent=p||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}r.exports=l;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var d=this._baseState,p={};h.forEach(function(b){p[b]=d[b]});var g=new this.constructor(p.parent);return g._baseState=p,g},l.prototype._wrap=function(){var d=this._baseState;u.forEach(function(p){this[p]=function(){var g=new this.constructor(this);return d.children.push(g),g[p].apply(g,arguments)}},this)},l.prototype._init=function(d){var p=this._baseState;y(p.parent===null),d.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),y.equal(p.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(d){var p=this._baseState,g=d.filter(function(b){return b instanceof this.constructor},this);d=d.filter(function(b){return!(b instanceof this.constructor)},this),g.length!==0&&(y(p.children===null),p.children=g,g.forEach(function(b){b._baseState.parent=this},this)),d.length!==0&&(y(p.args===null),p.args=d,p.reverseArgs=d.map(function(b){if(s(b)!=="object"||b.constructor!==Object)return b;var v={};return Object.keys(b).forEach(function(_){_==(0|_)&&(_|=0);var S=b[_];v[S]=_}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){l.prototype[d]=function(){var p=this._baseState;throw new Error(d+" not implemented for encoding: "+p.enc)}}),m.forEach(function(d){l.prototype[d]=function(){var p=this._baseState,g=Array.prototype.slice.call(arguments);return y(p.tag===null),p.tag=d,this._useArgs(g),this}}),l.prototype.use=function(d){y(d);var p=this._baseState;return y(p.use===null),p.use=d,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(d){var p=this._baseState;return y(p.default===null),p.default=d,p.optional=!0,this},l.prototype.explicit=function(d){var p=this._baseState;return y(p.explicit===null&&p.implicit===null),p.explicit=d,this},l.prototype.implicit=function(d){var p=this._baseState;return y(p.explicit===null&&p.implicit===null),p.implicit=d,this},l.prototype.obj=function(){var d=this._baseState,p=Array.prototype.slice.call(arguments);return d.obj=!0,p.length!==0&&this._useArgs(p),this},l.prototype.key=function(d){var p=this._baseState;return y(p.key===null),p.key=d,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(d){var p=this._baseState;return y(p.choice===null),p.choice=d,this._useArgs(Object.keys(d).map(function(g){return d[g]})),this},l.prototype.contains=function(d){var p=this._baseState;return y(p.use===null),p.contains=d,this},l.prototype._decode=function(d,p){var g=this._baseState;if(g.parent===null)return d.wrapResult(g.children[0]._decode(d,p));var b,v=g.default,_=!0,S=null;if(g.key!==null&&(S=d.enterKey(g.key)),g.optional){var w=null;if(g.explicit!==null?w=g.explicit:g.implicit!==null?w=g.implicit:g.tag!==null&&(w=g.tag),w!==null||g.any){if(_=this._peekTag(d,w,g.any),d.isError(_))return _}else{var D=d.save();try{g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p),_=!0}catch{_=!1}d.restore(D)}}if(g.obj&&_&&(b=d.enterObject()),_){if(g.explicit!==null){var x=this._decodeTag(d,g.explicit);if(d.isError(x))return x;d=x}var M=d.offset;if(g.use===null&&g.choice===null){g.any&&(D=d.save());var P=this._decodeTag(d,g.implicit!==null?g.implicit:g.tag,g.any);if(d.isError(P))return P;g.any?v=d.raw(D):d=P}if(p&&p.track&&g.tag!==null&&p.track(d.path(),M,d.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(d.path(),d.offset,d.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,d,p):this._decodeChoice(d,p)),d.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(B){B._decode(d,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){var k=new f(v);v=this._getUse(g.contains,d._reporterState.obj)._decode(k,p)}}return g.obj&&_&&(v=d.leaveObject(b)),g.key===null||v===null&&_!==!0?S!==null&&d.exitKey(S):d.leaveKey(S,g.key,v),v},l.prototype._decodeGeneric=function(d,p,g){var b=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(p,d,b.args[0],g):/str$/.test(d)?this._decodeStr(p,d,g):d==="objid"&&b.args?this._decodeObjid(p,b.args[0],b.args[1],g):d==="objid"?this._decodeObjid(p,null,null,g):d==="gentime"||d==="utctime"?this._decodeTime(p,d,g):d==="null_"?this._decodeNull(p,g):d==="bool"?this._decodeBool(p,g):d==="objDesc"?this._decodeStr(p,d,g):d==="int"||d==="enum"?this._decodeInt(p,b.args&&b.args[0],g):b.use!==null?this._getUse(b.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+d)},l.prototype._getUse=function(d,p){var g=this._baseState;return g.useDecoder=this._use(d,p),y(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},l.prototype._decodeChoice=function(d,p){var g=this._baseState,b=null,v=!1;return Object.keys(g.choice).some(function(_){var S=d.save(),w=g.choice[_];try{var D=w._decode(d,p);if(d.isError(D))return!1;b={type:_,value:D},v=!0}catch{return d.restore(S),!1}return!0},this),v?b:d.error("Choice not matched")},l.prototype._createEncoderBuffer=function(d){return new c(d,this.reporter)},l.prototype._encode=function(d,p,g){var b=this._baseState;if(b.default===null||b.default!==d){var v=this._encodeValue(d,p,g);if(v!==void 0&&!this._skipDefault(v,p,g))return v}},l.prototype._encodeValue=function(d,p,g){var b=this._baseState;if(b.parent===null)return b.children[0]._encode(d,p||new a);var v=null;if(this.reporter=p,b.optional&&d===void 0){if(b.default===null)return;d=b.default}var _=null,S=!1;if(b.any)v=this._createEncoderBuffer(d);else if(b.choice)v=this._encodeChoice(d,p);else if(b.contains)_=this._getUse(b.contains,g)._encode(d,p),S=!0;else if(b.children)_=b.children.map(function(M){if(M._baseState.tag==="null_")return M._encode(null,p,d);if(M._baseState.key===null)return p.error("Child should have a key");var P=p.enterKey(M._baseState.key);if(s(d)!=="object")return p.error("Child expected, but input is not object");var k=M._encode(d[M._baseState.key],p,d);return p.leaveKey(P),k},this).filter(function(M){return M}),_=this._createEncoderBuffer(_);else if(b.tag==="seqof"||b.tag==="setof"){if(!b.args||b.args.length!==1)return p.error("Too many args for : "+b.tag);if(!Array.isArray(d))return p.error("seqof/setof, but data is not Array");var w=this.clone();w._baseState.implicit=null,_=this._createEncoderBuffer(d.map(function(M){var P=this._baseState;return this._getUse(P.args[0],d)._encode(M,p)},w))}else b.use!==null?v=this._getUse(b.use,g)._encode(d,p):(_=this._encodePrimitive(b.tag,d),S=!0);if(!b.any&&b.choice===null){var D=b.implicit!==null?b.implicit:b.tag,x=b.implicit===null?"universal":"context";D===null?b.use===null&&p.error("Tag could be omitted only for .use()"):b.use===null&&(v=this._encodeComposite(D,S,x,_))}return b.explicit!==null&&(v=this._encodeComposite(b.explicit,!1,"context",v)),v},l.prototype._encodeChoice=function(d,p){var g=this._baseState,b=g.choice[d.type];return b||y(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),b._encode(d.value,p)},l.prototype._encodePrimitive=function(d,p){var g=this._baseState;if(/str$/.test(d))return this._encodeStr(p,d);if(d==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(d==="objid")return this._encodeObjid(p,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(p,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(d==="bool")return this._encodeBool(p);if(d==="objDesc")return this._encodeStr(p,d);throw new Error("Unsupported tag: "+d)},l.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},l.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)}},6555:(r,i,o)=>{var s=o(1679);function a(f){this._reporterState={obj:null,path:[],options:f||{},errors:[]}}function c(f,y){this.path=f,this.rethrow(y)}i.a=a,a.prototype.isError=function(f){return f instanceof c},a.prototype.save=function(){var f=this._reporterState;return{obj:f.obj,pathLen:f.path.length}},a.prototype.restore=function(f){var y=this._reporterState;y.obj=f.obj,y.path=y.path.slice(0,f.pathLen)},a.prototype.enterKey=function(f){return this._reporterState.path.push(f)},a.prototype.exitKey=function(f){var y=this._reporterState;y.path=y.path.slice(0,f-1)},a.prototype.leaveKey=function(f,y,m){var u=this._reporterState;this.exitKey(f),u.obj!==null&&(u.obj[y]=m)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var f=this._reporterState,y=f.obj;return f.obj={},y},a.prototype.leaveObject=function(f){var y=this._reporterState,m=y.obj;return y.obj=f,m},a.prototype.error=function(f){var y,m=this._reporterState,u=f instanceof c;if(y=u?f:new c(m.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),f.message||f,f.stack),!m.options.partial)throw y;return u||m.errors.push(y),y},a.prototype.wrapResult=function(f){var y=this._reporterState;return y.options.partial?{result:this.isError(f)?null:f,errors:y.errors}:f},s(c,Error),c.prototype.rethrow=function(f){if(this.message=f+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(y){this.stack=y.stack}return this}},425:(r,i,o)=>{var s=o(8050);i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s._reverse(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s._reverse(i.tag)},8050:(r,i,o)=>{var s=i;s._reverse=function(a){var c={};return Object.keys(a).forEach(function(f){(0|f)==f&&(f|=0);var y=a[f];c[y]=f}),c},s.der=o(425)},3879:(r,i,o)=>{var s=o(1679),a=o(1419),c=a.base,f=a.bignum,y=a.constants.der;function m(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){c.Node.call(this,"der",d)}function l(d,p){var g=d.readUInt8(p);if(d.isError(g))return g;var b=y.tagClass[g>>6],v=!(32&g);if(31&~g)g&=31;else{var _=g;for(g=0;!(128&~_);){if(_=d.readUInt8(p),d.isError(_))return _;g<<=7,g|=127&_}}return{cls:b,primitive:v,tag:g,tagStr:y.tag[g]}}function h(d,p,g){var b=d.readUInt8(g);if(d.isError(b))return b;if(!p&&b===128)return null;if(!(128&b))return b;var v=127&b;if(v>4)return d.error("length octect is too long");b=0;for(var _=0;_<v;_++){b<<=8;var S=d.readUInt8(g);if(d.isError(S))return S;b|=S}return b}r.exports=m,m.prototype.decode=function(d,p){return d instanceof c.DecoderBuffer||(d=new c.DecoderBuffer(d,p)),this.tree._decode(d,p)},s(u,c.Node),u.prototype._peekTag=function(d,p,g){if(d.isEmpty())return!1;var b=d.save(),v=l(d,'Failed to peek tag: "'+p+'"');return d.isError(v)?v:(d.restore(b),v.tag===p||v.tagStr===p||v.tagStr+"of"===p||g)},u.prototype._decodeTag=function(d,p,g){var b=l(d,'Failed to decode tag of "'+p+'"');if(d.isError(b))return b;var v=h(d,b.primitive,'Failed to get length of "'+p+'"');if(d.isError(v))return v;if(!g&&b.tag!==p&&b.tagStr!==p&&b.tagStr+"of"!==p)return d.error('Failed to match tag: "'+p+'"');if(b.primitive||v!==null)return d.skip(v,'Failed to match body of: "'+p+'"');var _=d.save(),S=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(S)?S:(v=d.offset-_.offset,d.restore(_),d.skip(v,'Failed to match body of: "'+p+'"'))},u.prototype._skipUntilEnd=function(d,p){for(;;){var g=l(d,p);if(d.isError(g))return g;var b,v=h(d,g.primitive,p);if(d.isError(v))return v;if(b=g.primitive||v!==null?d.skip(v):this._skipUntilEnd(d,p),d.isError(b))return b;if(g.tagStr==="end")break}},u.prototype._decodeList=function(d,p,g,b){for(var v=[];!d.isEmpty();){var _=this._peekTag(d,"end");if(d.isError(_))return _;var S=g.decode(d,"der",b);if(d.isError(S)&&_)break;v.push(S)}return v},u.prototype._decodeStr=function(d,p){if(p==="bitstr"){var g=d.readUInt8();return d.isError(g)?g:{unused:g,data:d.raw()}}if(p==="bmpstr"){var b=d.raw();if(b.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");for(var v="",_=0;_<b.length/2;_++)v+=String.fromCharCode(b.readUInt16BE(2*_));return v}if(p==="numstr"){var S=d.raw().toString("ascii");return this._isNumstr(S)?S:d.error("Decoding of string type: numstr unsupported characters")}if(p==="octstr"||p==="objDesc")return d.raw();if(p==="printstr"){var w=d.raw().toString("ascii");return this._isPrintstr(w)?w:d.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(p)?d.raw().toString():d.error("Decoding of string type: "+p+" unsupported")},u.prototype._decodeObjid=function(d,p,g){for(var b,v=[],_=0;!d.isEmpty();){var S=d.readUInt8();_<<=7,_|=127&S,128&S||(v.push(_),_=0)}128&S&&v.push(_);var w=v[0]/40|0,D=v[0]%40;if(b=g?v:[w,D].concat(v.slice(1)),p){var x=p[b.join(" ")];x===void 0&&(x=p[b.join(".")]),x!==void 0&&(b=x)}return b},u.prototype._decodeTime=function(d,p){var g=d.raw().toString();if(p==="gentime")var b=0|g.slice(0,4),v=0|g.slice(4,6),_=0|g.slice(6,8),S=0|g.slice(8,10),w=0|g.slice(10,12),D=0|g.slice(12,14);else{if(p!=="utctime")return d.error("Decoding "+p+" time is not supported yet");b=0|g.slice(0,2),v=0|g.slice(2,4),_=0|g.slice(4,6),S=0|g.slice(6,8),w=0|g.slice(8,10),D=0|g.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,v-1,_,S,w,D,0)},u.prototype._decodeNull=function(d){return null},u.prototype._decodeBool=function(d){var p=d.readUInt8();return d.isError(p)?p:p!==0},u.prototype._decodeInt=function(d,p){var g=d.raw(),b=new f(g);return p&&(b=p[b.toString(10)]||b),b},u.prototype._use=function(d,p){return typeof d=="function"&&(d=d(p)),d._getDecoder("der").tree}},2240:(r,i,o)=>{var s=i;s.der=o(3879),s.pem=o(8330)},8330:(r,i,o)=>{var s=o(1679),a=o(5832).Buffer,c=o(3879);function f(y){c.call(this,y),this.enc="pem"}s(f,c),r.exports=f,f.prototype.decode=function(y,m){for(var u=y.toString().split(/[\r\n]+/g),l=m.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,p=-1,g=0;g<u.length;g++){var b=u[g].match(h);if(b!==null&&b[2]===l){if(d!==-1){if(b[1]!=="END")break;p=g;break}if(b[1]!=="BEGIN")break;d=g}}if(d===-1||p===-1)throw new Error("PEM section not found for: "+l);var v=u.slice(d+1,p).join("");v.replace(/[^a-z0-9\+\/=]+/gi,"");var _=new a(v,"base64");return c.prototype.decode.call(this,_,m)}},2655:(r,i,o)=>{var s=o(1679),a=o(5832).Buffer,c=o(1419),f=c.base,y=c.constants.der;function m(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){f.Node.call(this,"der",h)}function l(h){return h<10?"0"+h:h}r.exports=m,m.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},s(u,f.Node),u.prototype._encodeComposite=function(h,d,p,g){var b,v=function(D,x,M,P){var k;if(D==="seqof"?D="seq":D==="setof"&&(D="set"),y.tagByName.hasOwnProperty(D))k=y.tagByName[D];else{if(typeof D!="number"||(0|D)!==D)return P.error("Unknown tag: "+D);k=D}return k>=31?P.error("Multi-octet tag encoding unsupported"):(x||(k|=32),k|=y.tagClassByName[M||"universal"]<<6)}(h,d,p,this.reporter);if(g.length<128)return(b=new a(2))[0]=v,b[1]=g.length,this._createEncoderBuffer([b,g]);for(var _=1,S=g.length;S>=256;S>>=8)_++;(b=new a(2+_))[0]=v,b[1]=128|_,S=1+_;for(var w=g.length;w>0;S--,w>>=8)b[S]=255&w;return this._createEncoderBuffer([b,g])},u.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){for(var p=new a(2*h.length),g=0;g<h.length;g++)p.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(h,d,p){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s\.]+/g);for(var g=0;g<h.length;g++)h[g]|=0}else if(Array.isArray(h))for(h=h.slice(),g=0;g<h.length;g++)h[g]|=0;if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!p){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}var b=0;for(g=0;g<h.length;g++){var v=h[g];for(b++;v>=128;v>>=7)b++}var _=new a(b),S=_.length-1;for(g=h.length-1;g>=0;g--)for(v=h[g],_[S--]=127&v;(v>>=7)>0;)_[S--]=128|127&v;return this._createEncoderBuffer(_)},u.prototype._encodeTime=function(h,d){var p,g=new Date(h);return d==="gentime"?p=[l(g.getFullYear()),l(g.getUTCMonth()+1),l(g.getUTCDate()),l(g.getUTCHours()),l(g.getUTCMinutes()),l(g.getUTCSeconds()),"Z"].join(""):d==="utctime"?p=[l(g.getFullYear()%100),l(g.getUTCMonth()+1),l(g.getUTCDate()),l(g.getUTCHours()),l(g.getUTCMinutes()),l(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(p,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!a.isBuffer(h)){var p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=new a(p)}if(a.isBuffer(h)){var g=h.length;h.length===0&&g++;var b=new a(g);return h.copy(b),h.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);g=1;for(var v=h;v>=256;v>>=8)g++;for(v=(b=new Array(g)).length-1;v>=0;v--)b[v]=255&h,h>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(new a(b))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,d,p){var g,b=this._baseState;if(b.default===null)return!1;var v=h.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,d,p).join()),v.length!==b.defaultBuffer.length)return!1;for(g=0;g<v.length;g++)if(v[g]!==b.defaultBuffer[g])return!1;return!0}},9176:(r,i,o)=>{var s=i;s.der=o(2655),s.pem=o(8418)},8418:(r,i,o)=>{var s=o(1679),a=o(2655);function c(f){a.call(this,f),this.enc="pem"}s(c,a),r.exports=c,c.prototype.encode=function(f,y){for(var m=a.prototype.encode.call(this,f).toString("base64"),u=["-----BEGIN "+y.label+"-----"],l=0;l<m.length;l+=64)u.push(m.slice(l,l+64));return u.push("-----END "+y.label+"-----"),u.join(`
`)}},2402:(r,i,o)=>{"use strict";function s(T){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},s(T)}function a(T){return a=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(N){return s(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":s(N)},a(T)}var c,f,y=o(3743).codes,m=y.ERR_AMBIGUOUS_ARGUMENT,u=y.ERR_INVALID_ARG_TYPE,l=y.ERR_INVALID_ARG_VALUE,h=y.ERR_INVALID_RETURN_VALUE,d=y.ERR_MISSING_ARGS,p=o(9068),g=o(7352).inspect,b=o(7352).types,v=b.isPromise,_=b.isRegExp,S=Object.assign?Object.assign:o(6182).assign,w=Object.is?Object.is:o(2064);function D(){var T=o(6193);c=T.isDeepEqual,f=T.isDeepStrictEqual}var x=!1,M=r.exports=L,P={};function k(T){throw T.message instanceof Error?T.message:new p(T)}function B(T,N,j,H){if(!j){var q=!1;if(N===0)q=!0,H="No value argument passed to `assert.ok()`";else if(H instanceof Error)throw H;var X=new p({actual:j,expected:!0,message:H,operator:"==",stackStartFn:T});throw X.generatedMessage=q,X}}function L(){for(var T=arguments.length,N=new Array(T),j=0;j<T;j++)N[j]=arguments[j];B.apply(void 0,[L,N.length].concat(N))}M.fail=function T(N,j,H,q,X){var z,U=arguments.length;if(U===0?z="Failed":U===1?(H=N,N=void 0):(x===!1&&(x=!0,({env:{}}.emitWarning?{env:{}}.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),U===2&&(q="!=")),H instanceof Error)throw H;var Z={actual:N,expected:j,operator:q===void 0?"fail":q,stackStartFn:X||T};H!==void 0&&(Z.message=H);var ee=new p(Z);throw z&&(ee.message=z,ee.generatedMessage=!0),ee},M.AssertionError=p,M.ok=L,M.equal=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");N!=j&&k({actual:N,expected:j,message:H,operator:"==",stackStartFn:T})},M.notEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");N==j&&k({actual:N,expected:j,message:H,operator:"!=",stackStartFn:T})},M.deepEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");c===void 0&&D(),c(N,j)||k({actual:N,expected:j,message:H,operator:"deepEqual",stackStartFn:T})},M.notDeepEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");c===void 0&&D(),c(N,j)&&k({actual:N,expected:j,message:H,operator:"notDeepEqual",stackStartFn:T})},M.deepStrictEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");c===void 0&&D(),f(N,j)||k({actual:N,expected:j,message:H,operator:"deepStrictEqual",stackStartFn:T})},M.notDeepStrictEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");c===void 0&&D(),f(N,j)&&k({actual:N,expected:j,message:H,operator:"notDeepStrictEqual",stackStartFn:T})},M.strictEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");w(N,j)||k({actual:N,expected:j,message:H,operator:"strictEqual",stackStartFn:T})},M.notStrictEqual=function T(N,j,H){if(arguments.length<2)throw new d("actual","expected");w(N,j)&&k({actual:N,expected:j,message:H,operator:"notStrictEqual",stackStartFn:T})};var V=function T(N,j,H){var q=this;(function(X,z){if(!(X instanceof z))throw new TypeError("Cannot call a class as a function")})(this,T),j.forEach(function(X){X in N&&(H!==void 0&&typeof H[X]=="string"&&_(N[X])&&N[X].test(H[X])?q[X]=H[X]:q[X]=N[X])})};function Q(T,N,j,H){if(typeof N!="function"){if(_(N))return N.test(T);if(arguments.length===2)throw new u("expected",["Function","RegExp"],N);if(a(T)!=="object"||T===null){var q=new p({actual:T,expected:N,message:j,operator:"deepStrictEqual",stackStartFn:H});throw q.operator=H.name,q}var X=Object.keys(N);if(N instanceof Error)X.push("name","message");else if(X.length===0)throw new l("error",N,"may not be an empty object");return c===void 0&&D(),X.forEach(function(z){typeof T[z]=="string"&&_(N[z])&&N[z].test(T[z])||function(U,Z,ee,R,$,G){if(!(ee in U)||!f(U[ee],Z[ee])){if(!R){var ie=new V(U,$),ae=new V(Z,$,U),le=new p({actual:ie,expected:ae,operator:"deepStrictEqual",stackStartFn:G});throw le.actual=U,le.expected=Z,le.operator=G.name,le}k({actual:U,expected:Z,message:R,operator:G.name,stackStartFn:G})}}(T,N,z,j,X,H)}),!0}return N.prototype!==void 0&&T instanceof N||!Error.isPrototypeOf(N)&&N.call({},T)===!0}function ne(T){if(typeof T!="function")throw new u("fn","Function",T);try{T()}catch(N){return N}return P}function te(T){return v(T)||T!==null&&a(T)==="object"&&typeof T.then=="function"&&typeof T.catch=="function"}function E(T){return Promise.resolve().then(function(){var N;if(typeof T=="function"){if(!te(N=T()))throw new h("instance of Promise","promiseFn",N)}else{if(!te(T))throw new u("promiseFn",["Function","Promise"],T);N=T}return Promise.resolve().then(function(){return N}).then(function(){return P}).catch(function(j){return j})})}function O(T,N,j,H){if(typeof j=="string"){if(arguments.length===4)throw new u("error",["Object","Error","Function","RegExp"],j);if(a(N)==="object"&&N!==null){if(N.message===j)throw new m("error/message",'The error message "'.concat(N.message,'" is identical to the message.'))}else if(N===j)throw new m("error/message",'The error "'.concat(N,'" is identical to the message.'));H=j,j=void 0}else if(j!=null&&a(j)!=="object"&&typeof j!="function")throw new u("error",["Object","Error","Function","RegExp"],j);if(N===P){var q="";j&&j.name&&(q+=" (".concat(j.name,")")),q+=H?": ".concat(H):".";var X=T.name==="rejects"?"rejection":"exception";k({actual:void 0,expected:j,operator:T.name,message:"Missing expected ".concat(X).concat(q),stackStartFn:T})}if(j&&!Q(N,j,H,T))throw N}function C(T,N,j,H){if(N!==P){if(typeof j=="string"&&(H=j,j=void 0),!j||Q(N,j)){var q=H?": ".concat(H):".",X=T.name==="doesNotReject"?"rejection":"exception";k({actual:N,expected:j,operator:T.name,message:"Got unwanted ".concat(X).concat(q,`
`)+'Actual message: "'.concat(N&&N.message,'"'),stackStartFn:T})}throw N}}function I(){for(var T=arguments.length,N=new Array(T),j=0;j<T;j++)N[j]=arguments[j];B.apply(void 0,[I,N.length].concat(N))}M.throws=function T(N){for(var j=arguments.length,H=new Array(j>1?j-1:0),q=1;q<j;q++)H[q-1]=arguments[q];O.apply(void 0,[T,ne(N)].concat(H))},M.rejects=function T(N){for(var j=arguments.length,H=new Array(j>1?j-1:0),q=1;q<j;q++)H[q-1]=arguments[q];return E(N).then(function(X){return O.apply(void 0,[T,X].concat(H))})},M.doesNotThrow=function T(N){for(var j=arguments.length,H=new Array(j>1?j-1:0),q=1;q<j;q++)H[q-1]=arguments[q];C.apply(void 0,[T,ne(N)].concat(H))},M.doesNotReject=function T(N){for(var j=arguments.length,H=new Array(j>1?j-1:0),q=1;q<j;q++)H[q-1]=arguments[q];return E(N).then(function(X){return C.apply(void 0,[T,X].concat(H))})},M.ifError=function T(N){if(N!=null){var j="ifError got unwanted exception: ";a(N)==="object"&&typeof N.message=="string"?N.message.length===0&&N.constructor?j+=N.constructor.name:j+=N.message:j+=g(N);var H=new p({actual:N,expected:null,operator:"ifError",message:j,stackStartFn:T}),q=N.stack;if(typeof q=="string"){var X=q.split(`
`);X.shift();for(var z=H.stack.split(`
`),U=0;U<X.length;U++){var Z=z.indexOf(X[U]);if(Z!==-1){z=z.slice(0,Z);break}}H.stack="".concat(z.join(`
`),`
`).concat(X.join(`
`))}throw H}},M.strict=S(I,M,{equal:M.strictEqual,deepEqual:M.deepStrictEqual,notEqual:M.notStrictEqual,notDeepEqual:M.notDeepStrictEqual}),M.strict.strict=M.strict},9068:(r,i,o)=>{"use strict";function s(k){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s(k)}function a(k,B,L){return B in k?Object.defineProperty(k,B,{value:L,enumerable:!0,configurable:!0,writable:!0}):k[B]=L,k}function c(k,B){for(var L=0;L<B.length;L++){var V=B[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(k,V.key,V)}}function f(k,B){return!B||d(B)!=="object"&&typeof B!="function"?y(k):B}function y(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function m(k){var B=typeof Map=="function"?new Map:void 0;return m=function(L){if(L===null||(V=L,Function.toString.call(V).indexOf("[native code]")===-1))return L;var V;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(B!==void 0){if(B.has(L))return B.get(L);B.set(L,Q)}function Q(){return u(L,arguments,h(this).constructor)}return Q.prototype=Object.create(L.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),l(Q,L)},m(k)}function u(k,B,L){return u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(V,Q,ne){var te=[null];te.push.apply(te,Q);var E=new(Function.bind.apply(V,te));return ne&&l(E,ne.prototype),E},u.apply(null,arguments)}function l(k,B){return l=Object.setPrototypeOf||function(L,V){return L.__proto__=V,L},l(k,B)}function h(k){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},h(k)}function d(k){return d=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(B){return s(B)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":s(B)},d(k)}var p=o(7352).inspect,g=o(3743).codes.ERR_INVALID_ARG_TYPE;function b(k,B,L){return(L===void 0||L>k.length)&&(L=k.length),k.substring(L-B.length,L)===B}var v="",_="",S="",w="",D={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function x(k){var B=Object.keys(k),L=Object.create(Object.getPrototypeOf(k));return B.forEach(function(V){L[V]=k[V]}),Object.defineProperty(L,"message",{value:k.message}),L}function M(k){return p(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var P=function(k){function B(Q){var ne;if(function(z,U){if(!(z instanceof U))throw new TypeError("Cannot call a class as a function")}(this,B),d(Q)!=="object"||Q===null)throw new g("options","Object",Q);var te=Q.message,E=Q.operator,O=Q.stackStartFn,C=Q.actual,I=Q.expected,T=Error.stackTraceLimit;if(Error.stackTraceLimit=0,te!=null)ne=f(this,h(B).call(this,String(te)));else if({env:{}}.stderr&&{env:{}}.stderr.isTTY&&({env:{}}.stderr&&{env:{}}.stderr.getColorDepth&&{env:{}}.stderr.getColorDepth()!==1?(v="\x1B[34m",_="\x1B[32m",w="\x1B[39m",S="\x1B[31m"):(v="",_="",w="",S="")),d(C)==="object"&&C!==null&&d(I)==="object"&&I!==null&&"stack"in C&&C instanceof Error&&"stack"in I&&I instanceof Error&&(C=x(C),I=x(I)),E==="deepStrictEqual"||E==="strictEqual")ne=f(this,h(B).call(this,function(z,U,Z){var ee="",R="",$=0,G="",ie=!1,ae=M(z),le=ae.split(`
`),J=M(U).split(`
`),re=0,ue="";if(Z==="strictEqual"&&d(z)==="object"&&d(U)==="object"&&z!==null&&U!==null&&(Z="strictEqualObject"),le.length===1&&J.length===1&&le[0]!==J[0]){var fe=le[0].length+J[0].length;if(fe<=10){if(!(d(z)==="object"&&z!==null||d(U)==="object"&&U!==null||z===0&&U===0))return"".concat(D[Z],`

`)+"".concat(le[0]," !== ").concat(J[0],`
`)}else if(Z!=="strictEqualObject"&&fe<({env:{}}.stderr&&{env:{}}.stderr.isTTY?{env:{}}.stderr.columns:80)){for(;le[0][re]===J[0][re];)re++;re>2&&(ue=`
  `.concat(function(Je,wt){if(wt=Math.floor(wt),Je.length==0||wt==0)return"";var kt=Je.length*wt;for(wt=Math.floor(Math.log(wt)/Math.log(2));wt;)Je+=Je,wt--;return Je+Je.substring(0,kt-Je.length)}(" ",re),"^"),re=0)}}for(var de=le[le.length-1],se=J[J.length-1];de===se&&(re++<2?G=`
  `.concat(de).concat(G):ee=de,le.pop(),J.pop(),le.length!==0&&J.length!==0);)de=le[le.length-1],se=J[J.length-1];var Ie=Math.max(le.length,J.length);if(Ie===0){var Ce=ae.split(`
`);if(Ce.length>30)for(Ce[26]="".concat(v,"...").concat(w);Ce.length>27;)Ce.pop();return"".concat(D.notIdentical,`

`).concat(Ce.join(`
`),`
`)}re>3&&(G=`
`.concat(v,"...").concat(w).concat(G),ie=!0),ee!==""&&(G=`
  `.concat(ee).concat(G),ee="");var we=0,Te=D[Z]+`
`.concat(_,"+ actual").concat(w," ").concat(S,"- expected").concat(w),Ne=" ".concat(v,"...").concat(w," Lines skipped");for(re=0;re<Ie;re++){var Ye=re-$;if(le.length<re+1)Ye>1&&re>2&&(Ye>4?(R+=`
`.concat(v,"...").concat(w),ie=!0):Ye>3&&(R+=`
  `.concat(J[re-2]),we++),R+=`
  `.concat(J[re-1]),we++),$=re,ee+=`
`.concat(S,"-").concat(w," ").concat(J[re]),we++;else if(J.length<re+1)Ye>1&&re>2&&(Ye>4?(R+=`
`.concat(v,"...").concat(w),ie=!0):Ye>3&&(R+=`
  `.concat(le[re-2]),we++),R+=`
  `.concat(le[re-1]),we++),$=re,R+=`
`.concat(_,"+").concat(w," ").concat(le[re]),we++;else{var Le=J[re],at=le[re],Et=at!==Le&&(!b(at,",")||at.slice(0,-1)!==Le);Et&&b(Le,",")&&Le.slice(0,-1)===at&&(Et=!1,at+=","),Et?(Ye>1&&re>2&&(Ye>4?(R+=`
`.concat(v,"...").concat(w),ie=!0):Ye>3&&(R+=`
  `.concat(le[re-2]),we++),R+=`
  `.concat(le[re-1]),we++),$=re,R+=`
`.concat(_,"+").concat(w," ").concat(at),ee+=`
`.concat(S,"-").concat(w," ").concat(Le),we+=2):(R+=ee,ee="",Ye!==1&&re!==0||(R+=`
  `.concat(at),we++))}if(we>20&&re<Ie-2)return"".concat(Te).concat(Ne,`
`).concat(R,`
`).concat(v,"...").concat(w).concat(ee,`
`)+"".concat(v,"...").concat(w)}return"".concat(Te).concat(ie?Ne:"",`
`).concat(R).concat(ee).concat(G).concat(ue)}(C,I,E)));else if(E==="notDeepStrictEqual"||E==="notStrictEqual"){var N=D[E],j=M(C).split(`
`);if(E==="notStrictEqual"&&d(C)==="object"&&C!==null&&(N=D.notStrictEqualObject),j.length>30)for(j[26]="".concat(v,"...").concat(w);j.length>27;)j.pop();ne=j.length===1?f(this,h(B).call(this,"".concat(N," ").concat(j[0]))):f(this,h(B).call(this,"".concat(N,`

`).concat(j.join(`
`),`
`)))}else{var H=M(C),q="",X=D[E];E==="notDeepEqual"||E==="notEqual"?(H="".concat(D[E],`

`).concat(H)).length>1024&&(H="".concat(H.slice(0,1021),"...")):(q="".concat(M(I)),H.length>512&&(H="".concat(H.slice(0,509),"...")),q.length>512&&(q="".concat(q.slice(0,509),"...")),E==="deepEqual"||E==="equal"?H="".concat(X,`

`).concat(H,`

should equal

`):q=" ".concat(E," ").concat(q)),ne=f(this,h(B).call(this,"".concat(H).concat(q)))}return Error.stackTraceLimit=T,ne.generatedMessage=!te,Object.defineProperty(y(ne),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),ne.code="ERR_ASSERTION",ne.actual=C,ne.expected=I,ne.operator=E,Error.captureStackTrace&&Error.captureStackTrace(y(ne),O),ne.stack,ne.name="AssertionError",f(ne)}var L,V;return function(Q,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(ne&&ne.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),ne&&l(Q,ne)}(B,k),L=B,V=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(Q,ne){return p(this,function(te){for(var E=1;E<arguments.length;E++){var O=arguments[E]!=null?arguments[E]:{},C=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(C=C.concat(Object.getOwnPropertySymbols(O).filter(function(I){return Object.getOwnPropertyDescriptor(O,I).enumerable}))),C.forEach(function(I){a(te,I,O[I])})}return te}({},ne,{customInspect:!1,depth:0}))}}],V&&c(L.prototype,V),B}(m(Error));r.exports=P},3743:(r,i,o)=>{"use strict";function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}function a(d){return a=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(p){return s(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":s(p)},a(d)}function c(d){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},c(d)}function f(d,p){return f=Object.setPrototypeOf||function(g,b){return g.__proto__=b,g},f(d,p)}var y,m,u={};function l(d,p,g){g||(g=Error);var b=function(v){function _(S,w,D){var x;return function(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}(this,_),x=function(M,P){return!P||a(P)!=="object"&&typeof P!="function"?function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(M):P}(this,c(_).call(this,function(M,P,k){return typeof p=="string"?p:p(M,P,k)}(S,w,D))),x.code=d,x}return function(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),w&&f(S,w)}(_,v),_}(g);u[d]=b}function h(d,p){if(Array.isArray(d)){var g=d.length;return d=d.map(function(b){return String(b)}),g>2?"one of ".concat(p," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(p," ").concat(d[0]," or ").concat(d[1]):"of ".concat(p," ").concat(d[0])}return"of ".concat(p," ").concat(String(d))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",function(d,p,g){var b,v,_,S,w;if(y===void 0&&(y=o(2402)),y(typeof d=="string","'name' must be a string"),typeof p=="string"&&(v="not ",p.substr(0,4)===v)?(b="must not be",p=p.replace(/^not /,"")):b="must be",function(x,M,P){return(P===void 0||P>x.length)&&(P=x.length),x.substring(P-9,P)===M}(d," argument"))_="The ".concat(d," ").concat(b," ").concat(h(p,"type"));else{var D=(typeof w!="number"&&(w=0),w+1>(S=d).length||S.indexOf(".",w)===-1?"argument":"property");_='The "'.concat(d,'" ').concat(D," ").concat(b," ").concat(h(p,"type"))}return _+". Received type ".concat(a(g))},TypeError),l("ERR_INVALID_ARG_VALUE",function(d,p){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";m===void 0&&(m=o(7352));var b=m.inspect(p);return b.length>128&&(b="".concat(b.slice(0,128),"...")),"The argument '".concat(d,"' ").concat(g,". Received ").concat(b)},TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",function(d,p,g){var b;return b=g&&g.constructor&&g.constructor.name?"instance of ".concat(g.constructor.name):"type ".concat(a(g)),"Expected ".concat(d,' to be returned from the "').concat(p,'"')+" function but got ".concat(b,".")},TypeError),l("ERR_MISSING_ARGS",function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];y===void 0&&(y=o(2402)),y(p.length>0,"At least one arg needs to be specified");var b="The ",v=p.length;switch(p=p.map(function(_){return'"'.concat(_,'"')}),v){case 1:b+="".concat(p[0]," argument");break;case 2:b+="".concat(p[0]," and ").concat(p[1]," arguments");break;default:b+=p.slice(0,v-1).join(", "),b+=", and ".concat(p[v-1]," arguments")}return"".concat(b," must be specified")},TypeError),r.exports.codes=u},6193:(r,i,o)=>{"use strict";function s(Z){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},s(Z)}function a(Z,ee){return function(R){if(Array.isArray(R))return R}(Z)||function(R,$){var G=[],ie=!0,ae=!1,le=void 0;try{for(var J,re=R[Symbol.iterator]();!(ie=(J=re.next()).done)&&(G.push(J.value),!$||G.length!==$);ie=!0);}catch(ue){ae=!0,le=ue}finally{try{ie||re.return==null||re.return()}finally{if(ae)throw le}}return G}(Z,ee)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(Z){return c=typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?function(ee){return s(ee)}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":s(ee)},c(Z)}var f=/a/g.flags!==void 0,y=function(Z){var ee=[];return Z.forEach(function(R){return ee.push(R)}),ee},m=function(Z){var ee=[];return Z.forEach(function(R,$){return ee.push([$,R])}),ee},u=Object.is?Object.is:o(2064),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},h=Number.isNaN?Number.isNaN:o(6062);function d(Z){return Z.call.bind(Z)}var p=d(Object.prototype.hasOwnProperty),g=d(Object.prototype.propertyIsEnumerable),b=d(Object.prototype.toString),v=o(7352).types,_=v.isAnyArrayBuffer,S=v.isArrayBufferView,w=v.isDate,D=v.isMap,x=v.isRegExp,M=v.isSet,P=v.isNativeError,k=v.isBoxedPrimitive,B=v.isNumberObject,L=v.isStringObject,V=v.isBooleanObject,Q=v.isBigIntObject,ne=v.isSymbolObject,te=v.isFloat32Array,E=v.isFloat64Array;function O(Z){if(Z.length===0||Z.length>10)return!0;for(var ee=0;ee<Z.length;ee++){var R=Z.charCodeAt(ee);if(R<48||R>57)return!0}return Z.length===10&&Z>=Math.pow(2,32)}function C(Z){return Object.keys(Z).filter(O).concat(l(Z).filter(Object.prototype.propertyIsEnumerable.bind(Z)))}function I(Z,ee){if(Z===ee)return 0;for(var R=Z.length,$=ee.length,G=0,ie=Math.min(R,$);G<ie;++G)if(Z[G]!==ee[G]){R=Z[G],$=ee[G];break}return R<$?-1:$<R?1:0}function T(Z,ee,R,$){if(Z===ee)return Z!==0||!R||u(Z,ee);if(R){if(c(Z)!=="object")return typeof Z=="number"&&h(Z)&&h(ee);if(c(ee)!=="object"||Z===null||ee===null||Object.getPrototypeOf(Z)!==Object.getPrototypeOf(ee))return!1}else{if(Z===null||c(Z)!=="object")return(ee===null||c(ee)!=="object")&&Z==ee;if(ee===null||c(ee)!=="object")return!1}var G,ie,ae,le,J=b(Z);if(J!==b(ee))return!1;if(Array.isArray(Z)){if(Z.length!==ee.length)return!1;var re=C(Z),ue=C(ee);return re.length===ue.length&&j(Z,ee,R,$,1,re)}if(J==="[object Object]"&&(!D(Z)&&D(ee)||!M(Z)&&M(ee)))return!1;if(w(Z)){if(!w(ee)||Date.prototype.getTime.call(Z)!==Date.prototype.getTime.call(ee))return!1}else if(x(Z)){if(!x(ee)||(ae=Z,le=ee,!(f?ae.source===le.source&&ae.flags===le.flags:RegExp.prototype.toString.call(ae)===RegExp.prototype.toString.call(le))))return!1}else if(P(Z)||Z instanceof Error){if(Z.message!==ee.message||Z.name!==ee.name)return!1}else{if(S(Z)){if(R||!te(Z)&&!E(Z)){if(!function(se,Ie){return se.byteLength===Ie.byteLength&&I(new Uint8Array(se.buffer,se.byteOffset,se.byteLength),new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength))===0}(Z,ee))return!1}else if(!function(se,Ie){if(se.byteLength!==Ie.byteLength)return!1;for(var Ce=0;Ce<se.byteLength;Ce++)if(se[Ce]!==Ie[Ce])return!1;return!0}(Z,ee))return!1;var fe=C(Z),de=C(ee);return fe.length===de.length&&j(Z,ee,R,$,0,fe)}if(M(Z))return!(!M(ee)||Z.size!==ee.size)&&j(Z,ee,R,$,2);if(D(Z))return!(!D(ee)||Z.size!==ee.size)&&j(Z,ee,R,$,3);if(_(Z)){if(ie=ee,(G=Z).byteLength!==ie.byteLength||I(new Uint8Array(G),new Uint8Array(ie))!==0)return!1}else if(k(Z)&&!function(se,Ie){return B(se)?B(Ie)&&u(Number.prototype.valueOf.call(se),Number.prototype.valueOf.call(Ie)):L(se)?L(Ie)&&String.prototype.valueOf.call(se)===String.prototype.valueOf.call(Ie):V(se)?V(Ie)&&Boolean.prototype.valueOf.call(se)===Boolean.prototype.valueOf.call(Ie):Q(se)?Q(Ie)&&BigInt.prototype.valueOf.call(se)===BigInt.prototype.valueOf.call(Ie):ne(Ie)&&Symbol.prototype.valueOf.call(se)===Symbol.prototype.valueOf.call(Ie)}(Z,ee))return!1}return j(Z,ee,R,$,0)}function N(Z,ee){return ee.filter(function(R){return g(Z,R)})}function j(Z,ee,R,$,G,ie){if(arguments.length===5){ie=Object.keys(Z);var ae=Object.keys(ee);if(ie.length!==ae.length)return!1}for(var le=0;le<ie.length;le++)if(!p(ee,ie[le]))return!1;if(R&&arguments.length===5){var J=l(Z);if(J.length!==0){var re=0;for(le=0;le<J.length;le++){var ue=J[le];if(g(Z,ue)){if(!g(ee,ue))return!1;ie.push(ue),re++}else if(g(ee,ue))return!1}var fe=l(ee);if(J.length!==fe.length&&N(ee,fe).length!==re)return!1}else{var de=l(ee);if(de.length!==0&&N(ee,de).length!==0)return!1}}if(ie.length===0&&(G===0||G===1&&Z.length===0||Z.size===0))return!0;if($===void 0)$={val1:new Map,val2:new Map,position:0};else{var se=$.val1.get(Z);if(se!==void 0){var Ie=$.val2.get(ee);if(Ie!==void 0)return se===Ie}$.position++}$.val1.set(Z,$.position),$.val2.set(ee,$.position);var Ce=function(we,Te,Ne,Ye,Le,at){var Et=0;if(at===2){if(!function(pt,Tt,an,Rt){for(var It=null,xe=y(pt),Kt=0;Kt<xe.length;Kt++){var yt=xe[Kt];if(c(yt)==="object"&&yt!==null)It===null&&(It=new Set),It.add(yt);else if(!Tt.has(yt)){if(an||!X(pt,Tt,yt))return!1;It===null&&(It=new Set),It.add(yt)}}if(It!==null){for(var wn=y(Tt),cn=0;cn<wn.length;cn++){var jt=wn[cn];if(c(jt)==="object"&&jt!==null){if(!H(It,jt,an,Rt))return!1}else if(!an&&!pt.has(jt)&&!H(It,jt,an,Rt))return!1}return It.size===0}return!0}(we,Te,Ne,Le))return!1}else if(at===3){if(!function(pt,Tt,an,Rt){for(var It=null,xe=m(pt),Kt=0;Kt<xe.length;Kt++){var yt=a(xe[Kt],2),wn=yt[0],cn=yt[1];if(c(wn)==="object"&&wn!==null)It===null&&(It=new Set),It.add(wn);else{var jt=Tt.get(wn);if(jt===void 0&&!Tt.has(wn)||!T(cn,jt,an,Rt)){if(an||!z(pt,Tt,wn,cn,Rt))return!1;It===null&&(It=new Set),It.add(wn)}}}if(It!==null){for(var Qn=m(Tt),zt=0;zt<Qn.length;zt++){var Ut=a(Qn[zt],2),Jr=(wn=Ut[0],Ut[1]);if(c(wn)==="object"&&wn!==null){if(!U(It,pt,wn,Jr,an,Rt))return!1}else if(!(an||pt.has(wn)&&T(pt.get(wn),Jr,!1,Rt)||U(It,pt,wn,Jr,!1,Rt)))return!1}return It.size===0}return!0}(we,Te,Ne,Le))return!1}else if(at===1)for(;Et<we.length;Et++){if(!p(we,Et)){if(p(Te,Et))return!1;for(var Je=Object.keys(we);Et<Je.length;Et++){var wt=Je[Et];if(!p(Te,wt)||!T(we[wt],Te[wt],Ne,Le))return!1}return Je.length===Object.keys(Te).length}if(!p(Te,Et)||!T(we[Et],Te[Et],Ne,Le))return!1}for(Et=0;Et<Ye.length;Et++){var kt=Ye[Et];if(!T(we[kt],Te[kt],Ne,Le))return!1}return!0}(Z,ee,R,ie,$,G);return $.val1.delete(Z),$.val2.delete(ee),Ce}function H(Z,ee,R,$){for(var G=y(Z),ie=0;ie<G.length;ie++){var ae=G[ie];if(T(ee,ae,R,$))return Z.delete(ae),!0}return!1}function q(Z){switch(c(Z)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Z=+Z;case"number":if(h(Z))return!1}return!0}function X(Z,ee,R){var $=q(R);return $??(ee.has($)&&!Z.has($))}function z(Z,ee,R,$,G){var ie=q(R);if(ie!=null)return ie;var ae=ee.get(ie);return!(ae===void 0&&!ee.has(ie)||!T($,ae,!1,G))&&!Z.has(ie)&&T($,ae,!1,G)}function U(Z,ee,R,$,G,ie){for(var ae=y(Z),le=0;le<ae.length;le++){var J=ae[le];if(T(R,J,G,ie)&&T($,ee.get(J),G,ie))return Z.delete(J),!0}return!1}r.exports={isDeepEqual:function(Z,ee){return T(Z,ee,!1)},isDeepStrictEqual:function(Z,ee){return T(Z,ee,!0)}}},6775:(r,i)=>{"use strict";i.byteLength=function(u){var l=y(u),h=l[0],d=l[1];return 3*(h+d)/4-d},i.toByteArray=function(u){var l,h,d=y(u),p=d[0],g=d[1],b=new a(function(S,w,D){return 3*(w+D)/4-D}(0,p,g)),v=0,_=g>0?p-4:p;for(h=0;h<_;h+=4)l=s[u.charCodeAt(h)]<<18|s[u.charCodeAt(h+1)]<<12|s[u.charCodeAt(h+2)]<<6|s[u.charCodeAt(h+3)],b[v++]=l>>16&255,b[v++]=l>>8&255,b[v++]=255&l;return g===2&&(l=s[u.charCodeAt(h)]<<2|s[u.charCodeAt(h+1)]>>4,b[v++]=255&l),g===1&&(l=s[u.charCodeAt(h)]<<10|s[u.charCodeAt(h+1)]<<4|s[u.charCodeAt(h+2)]>>2,b[v++]=l>>8&255,b[v++]=255&l),b},i.fromByteArray=function(u){for(var l,h=u.length,d=h%3,p=[],g=16383,b=0,v=h-d;b<v;b+=g)p.push(m(u,b,b+g>v?v:b+g));return d===1?(l=u[h-1],p.push(o[l>>2]+o[l<<4&63]+"==")):d===2&&(l=(u[h-2]<<8)+u[h-1],p.push(o[l>>10]+o[l>>4&63]+o[l<<2&63]+"=")),p.join("")};for(var o=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)o[f]=c[f],s[c.charCodeAt(f)]=f;function y(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=u.indexOf("=");return h===-1&&(h=l),[h,h===l?0:4-h%4]}function m(u,l,h){for(var d,p,g=[],b=l;b<h;b+=3)d=(u[b]<<16&16711680)+(u[b+1]<<8&65280)+(255&u[b+2]),g.push(o[(p=d)>>18&63]+o[p>>12&63]+o[p>>6&63]+o[63&p]);return g.join("")}s[45]=62,s[95]=63},7799:function(r,i,o){function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},s(a)}(function(a,c){"use strict";function f(E,O){if(!E)throw new Error(O||"Assertion failed")}function y(E,O){E.super_=O;var C=function(){};C.prototype=O.prototype,E.prototype=new C,E.prototype.constructor=E}function m(E,O,C){if(m.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(O!=="le"&&O!=="be"||(C=O,O=10),this._init(E||0,O||10,C||"be"))}var u;s(a)==="object"?a.exports=m:c.BN=m,m.BN=m,m.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:o(7790).Buffer}catch{}function l(E,O){var C=E.charCodeAt(O);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void f(!1,"Invalid character in "+E)}function h(E,O,C){var I=l(E,C);return C-1>=O&&(I|=l(E,C-1)<<4),I}function d(E,O,C,I){for(var T=0,N=0,j=Math.min(E.length,C),H=O;H<j;H++){var q=E.charCodeAt(H)-48;T*=I,N=q>=49?q-49+10:q>=17?q-17+10:q,f(q>=0&&N<I,"Invalid character"),T+=N}return T}function p(E,O){E.words=O.words,E.length=O.length,E.negative=O.negative,E.red=O.red}if(m.isBN=function(E){return E instanceof m||E!==null&&s(E)==="object"&&E.constructor.wordSize===m.wordSize&&Array.isArray(E.words)},m.max=function(E,O){return E.cmp(O)>0?E:O},m.min=function(E,O){return E.cmp(O)<0?E:O},m.prototype._init=function(E,O,C){if(typeof E=="number")return this._initNumber(E,O,C);if(s(E)==="object")return this._initArray(E,O,C);O==="hex"&&(O=16),f(O===(0|O)&&O>=2&&O<=36);var I=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(I++,this.negative=1),I<E.length&&(O===16?this._parseHex(E,I,C):(this._parseBase(E,O,I),C==="le"&&this._initArray(this.toArray(),O,C)))},m.prototype._initNumber=function(E,O,C){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(f(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),O,C)},m.prototype._initArray=function(E,O,C){if(f(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T,N,j=0;if(C==="be")for(I=E.length-1,T=0;I>=0;I-=3)N=E[I]|E[I-1]<<8|E[I-2]<<16,this.words[T]|=N<<j&67108863,this.words[T+1]=N>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if(C==="le")for(I=0,T=0;I<E.length;I+=3)N=E[I]|E[I+1]<<8|E[I+2]<<16,this.words[T]|=N<<j&67108863,this.words[T+1]=N>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this._strip()},m.prototype._parseHex=function(E,O,C){this.length=Math.ceil((E.length-O)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var T,N=0,j=0;if(C==="be")for(I=E.length-1;I>=O;I-=2)T=h(E,O,I)<<N,this.words[j]|=67108863&T,N>=18?(N-=18,j+=1,this.words[j]|=T>>>26):N+=8;else for(I=(E.length-O)%2==0?O+1:O;I<E.length;I+=2)T=h(E,O,I)<<N,this.words[j]|=67108863&T,N>=18?(N-=18,j+=1,this.words[j]|=T>>>26):N+=8;this._strip()},m.prototype._parseBase=function(E,O,C){this.words=[0],this.length=1;for(var I=0,T=1;T<=67108863;T*=O)I++;I--,T=T/O|0;for(var N=E.length-C,j=N%I,H=Math.min(N,N-j)+C,q=0,X=C;X<H;X+=I)q=d(E,X,X+I,O),this.imuln(T),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(j!==0){var z=1;for(q=d(E,X,E.length,O),X=0;X<j;X++)z*=O;this.imuln(z),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},m.prototype.copy=function(E){E.words=new Array(this.length);for(var O=0;O<this.length;O++)E.words[O]=this.words[O];E.length=this.length,E.negative=this.negative,E.red=this.red},m.prototype._move=function(E){p(E,this)},m.prototype.clone=function(){var E=new m(null);return this.copy(E),E},m.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},m.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},m.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{m.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{m.prototype.inspect=g}else m.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function S(E,O,C){C.negative=O.negative^E.negative;var I=E.length+O.length|0;C.length=I,I=I-1|0;var T=0|E.words[0],N=0|O.words[0],j=T*N,H=67108863&j,q=j/67108864|0;C.words[0]=H;for(var X=1;X<I;X++){for(var z=q>>>26,U=67108863&q,Z=Math.min(X,O.length-1),ee=Math.max(0,X-E.length+1);ee<=Z;ee++){var R=X-ee|0;z+=(j=(T=0|E.words[R])*(N=0|O.words[ee])+U)/67108864|0,U=67108863&j}C.words[X]=0|U,q=0|z}return q!==0?C.words[X]=0|q:C.length--,C._strip()}m.prototype.toString=function(E,O){var C;if(O=0|O||1,(E=E||10)===16||E==="hex"){C="";for(var I=0,T=0,N=0;N<this.length;N++){var j=this.words[N],H=(16777215&(j<<I|T)).toString(16);T=j>>>24-I&16777215,(I+=2)>=26&&(I-=26,N--),C=T!==0||N!==this.length-1?b[6-H.length]+H+C:H+C}for(T!==0&&(C=T.toString(16)+C);C.length%O!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(E===(0|E)&&E>=2&&E<=36){var q=v[E],X=_[E];C="";var z=this.clone();for(z.negative=0;!z.isZero();){var U=z.modrn(X).toString(E);C=(z=z.idivn(X)).isZero()?U+C:b[q-U.length]+U+C}for(this.isZero()&&(C="0"+C);C.length%O!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}f(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},m.prototype.toJSON=function(){return this.toString(16,2)},u&&(m.prototype.toBuffer=function(E,O){return this.toArrayLike(u,E,O)}),m.prototype.toArray=function(E,O){return this.toArrayLike(Array,E,O)},m.prototype.toArrayLike=function(E,O,C){this._strip();var I=this.byteLength(),T=C||Math.max(1,I);f(I<=T,"byte array longer than desired length"),f(T>0,"Requested array length <= 0");var N=function(j,H){return j.allocUnsafe?j.allocUnsafe(H):new j(H)}(E,T);return this["_toArrayLike"+(O==="le"?"LE":"BE")](N,I),N},m.prototype._toArrayLikeLE=function(E,O){for(var C=0,I=0,T=0,N=0;T<this.length;T++){var j=this.words[T]<<N|I;E[C++]=255&j,C<E.length&&(E[C++]=j>>8&255),C<E.length&&(E[C++]=j>>16&255),N===6?(C<E.length&&(E[C++]=j>>24&255),I=0,N=0):(I=j>>>24,N+=2)}if(C<E.length)for(E[C++]=I;C<E.length;)E[C++]=0},m.prototype._toArrayLikeBE=function(E,O){for(var C=E.length-1,I=0,T=0,N=0;T<this.length;T++){var j=this.words[T]<<N|I;E[C--]=255&j,C>=0&&(E[C--]=j>>8&255),C>=0&&(E[C--]=j>>16&255),N===6?(C>=0&&(E[C--]=j>>24&255),I=0,N=0):(I=j>>>24,N+=2)}if(C>=0)for(E[C--]=I;C>=0;)E[C--]=0},Math.clz32?m.prototype._countBits=function(E){return 32-Math.clz32(E)}:m.prototype._countBits=function(E){var O=E,C=0;return O>=4096&&(C+=13,O>>>=13),O>=64&&(C+=7,O>>>=7),O>=8&&(C+=4,O>>>=4),O>=2&&(C+=2,O>>>=2),C+O},m.prototype._zeroBits=function(E){if(E===0)return 26;var O=E,C=0;return 8191&O||(C+=13,O>>>=13),127&O||(C+=7,O>>>=7),15&O||(C+=4,O>>>=4),3&O||(C+=2,O>>>=2),1&O||C++,C},m.prototype.bitLength=function(){var E=this.words[this.length-1],O=this._countBits(E);return 26*(this.length-1)+O},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,O=0;O<this.length;O++){var C=this._zeroBits(this.words[O]);if(E+=C,C!==26)break}return E},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},m.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return this.negative!==0},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var O=0;O<E.length;O++)this.words[O]=this.words[O]|E.words[O];return this._strip()},m.prototype.ior=function(E){return f(!(this.negative|E.negative)),this.iuor(E)},m.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},m.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},m.prototype.iuand=function(E){var O;O=this.length>E.length?E:this;for(var C=0;C<O.length;C++)this.words[C]=this.words[C]&E.words[C];return this.length=O.length,this._strip()},m.prototype.iand=function(E){return f(!(this.negative|E.negative)),this.iuand(E)},m.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},m.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},m.prototype.iuxor=function(E){var O,C;this.length>E.length?(O=this,C=E):(O=E,C=this);for(var I=0;I<C.length;I++)this.words[I]=O.words[I]^C.words[I];if(this!==O)for(;I<O.length;I++)this.words[I]=O.words[I];return this.length=O.length,this._strip()},m.prototype.ixor=function(E){return f(!(this.negative|E.negative)),this.iuxor(E)},m.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},m.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},m.prototype.inotn=function(E){f(typeof E=="number"&&E>=0);var O=0|Math.ceil(E/26),C=E%26;this._expand(O),C>0&&O--;for(var I=0;I<O;I++)this.words[I]=67108863&~this.words[I];return C>0&&(this.words[I]=~this.words[I]&67108863>>26-C),this._strip()},m.prototype.notn=function(E){return this.clone().inotn(E)},m.prototype.setn=function(E,O){f(typeof E=="number"&&E>=0);var C=E/26|0,I=E%26;return this._expand(C+1),this.words[C]=O?this.words[C]|1<<I:this.words[C]&~(1<<I),this._strip()},m.prototype.iadd=function(E){var O,C,I;if(this.negative!==0&&E.negative===0)return this.negative=0,O=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,O=this.isub(E),E.negative=1,O._normSign();this.length>E.length?(C=this,I=E):(C=E,I=this);for(var T=0,N=0;N<I.length;N++)O=(0|C.words[N])+(0|I.words[N])+T,this.words[N]=67108863&O,T=O>>>26;for(;T!==0&&N<C.length;N++)O=(0|C.words[N])+T,this.words[N]=67108863&O,T=O>>>26;if(this.length=C.length,T!==0)this.words[this.length]=T,this.length++;else if(C!==this)for(;N<C.length;N++)this.words[N]=C.words[N];return this},m.prototype.add=function(E){var O;return E.negative!==0&&this.negative===0?(E.negative=0,O=this.sub(E),E.negative^=1,O):E.negative===0&&this.negative!==0?(this.negative=0,O=E.sub(this),this.negative=1,O):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},m.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var O=this.iadd(E);return E.negative=1,O._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var C,I,T=this.cmp(E);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(C=this,I=E):(C=E,I=this);for(var N=0,j=0;j<I.length;j++)N=(O=(0|C.words[j])-(0|I.words[j])+N)>>26,this.words[j]=67108863&O;for(;N!==0&&j<C.length;j++)N=(O=(0|C.words[j])+N)>>26,this.words[j]=67108863&O;if(N===0&&j<C.length&&C!==this)for(;j<C.length;j++)this.words[j]=C.words[j];return this.length=Math.max(this.length,j),C!==this&&(this.negative=1),this._strip()},m.prototype.sub=function(E){return this.clone().isub(E)};var w=function(E,O,C){var I,T,N,j=E.words,H=O.words,q=C.words,X=0,z=0|j[0],U=8191&z,Z=z>>>13,ee=0|j[1],R=8191&ee,$=ee>>>13,G=0|j[2],ie=8191&G,ae=G>>>13,le=0|j[3],J=8191&le,re=le>>>13,ue=0|j[4],fe=8191&ue,de=ue>>>13,se=0|j[5],Ie=8191&se,Ce=se>>>13,we=0|j[6],Te=8191&we,Ne=we>>>13,Ye=0|j[7],Le=8191&Ye,at=Ye>>>13,Et=0|j[8],Je=8191&Et,wt=Et>>>13,kt=0|j[9],pt=8191&kt,Tt=kt>>>13,an=0|H[0],Rt=8191&an,It=an>>>13,xe=0|H[1],Kt=8191&xe,yt=xe>>>13,wn=0|H[2],cn=8191&wn,jt=wn>>>13,Qn=0|H[3],zt=8191&Qn,Ut=Qn>>>13,Jr=0|H[4],pn=8191&Jr,Mn=Jr>>>13,K=0|H[5],oe=8191&K,ce=K>>>13,he=0|H[6],pe=8191&he,me=he>>>13,Ee=0|H[7],be=8191&Ee,Pe=Ee>>>13,De=0|H[8],Ae=8191&De,Oe=De>>>13,He=0|H[9],$e=8191&He,ze=He>>>13;C.negative=E.negative^O.negative,C.length=19;var et=(X+(I=Math.imul(U,Rt))|0)+((8191&(T=(T=Math.imul(U,It))+Math.imul(Z,Rt)|0))<<13)|0;X=((N=Math.imul(Z,It))+(T>>>13)|0)+(et>>>26)|0,et&=67108863,I=Math.imul(R,Rt),T=(T=Math.imul(R,It))+Math.imul($,Rt)|0,N=Math.imul($,It);var st=(X+(I=I+Math.imul(U,Kt)|0)|0)+((8191&(T=(T=T+Math.imul(U,yt)|0)+Math.imul(Z,Kt)|0))<<13)|0;X=((N=N+Math.imul(Z,yt)|0)+(T>>>13)|0)+(st>>>26)|0,st&=67108863,I=Math.imul(ie,Rt),T=(T=Math.imul(ie,It))+Math.imul(ae,Rt)|0,N=Math.imul(ae,It),I=I+Math.imul(R,Kt)|0,T=(T=T+Math.imul(R,yt)|0)+Math.imul($,Kt)|0,N=N+Math.imul($,yt)|0;var gt=(X+(I=I+Math.imul(U,cn)|0)|0)+((8191&(T=(T=T+Math.imul(U,jt)|0)+Math.imul(Z,cn)|0))<<13)|0;X=((N=N+Math.imul(Z,jt)|0)+(T>>>13)|0)+(gt>>>26)|0,gt&=67108863,I=Math.imul(J,Rt),T=(T=Math.imul(J,It))+Math.imul(re,Rt)|0,N=Math.imul(re,It),I=I+Math.imul(ie,Kt)|0,T=(T=T+Math.imul(ie,yt)|0)+Math.imul(ae,Kt)|0,N=N+Math.imul(ae,yt)|0,I=I+Math.imul(R,cn)|0,T=(T=T+Math.imul(R,jt)|0)+Math.imul($,cn)|0,N=N+Math.imul($,jt)|0;var _t=(X+(I=I+Math.imul(U,zt)|0)|0)+((8191&(T=(T=T+Math.imul(U,Ut)|0)+Math.imul(Z,zt)|0))<<13)|0;X=((N=N+Math.imul(Z,Ut)|0)+(T>>>13)|0)+(_t>>>26)|0,_t&=67108863,I=Math.imul(fe,Rt),T=(T=Math.imul(fe,It))+Math.imul(de,Rt)|0,N=Math.imul(de,It),I=I+Math.imul(J,Kt)|0,T=(T=T+Math.imul(J,yt)|0)+Math.imul(re,Kt)|0,N=N+Math.imul(re,yt)|0,I=I+Math.imul(ie,cn)|0,T=(T=T+Math.imul(ie,jt)|0)+Math.imul(ae,cn)|0,N=N+Math.imul(ae,jt)|0,I=I+Math.imul(R,zt)|0,T=(T=T+Math.imul(R,Ut)|0)+Math.imul($,zt)|0,N=N+Math.imul($,Ut)|0;var dt=(X+(I=I+Math.imul(U,pn)|0)|0)+((8191&(T=(T=T+Math.imul(U,Mn)|0)+Math.imul(Z,pn)|0))<<13)|0;X=((N=N+Math.imul(Z,Mn)|0)+(T>>>13)|0)+(dt>>>26)|0,dt&=67108863,I=Math.imul(Ie,Rt),T=(T=Math.imul(Ie,It))+Math.imul(Ce,Rt)|0,N=Math.imul(Ce,It),I=I+Math.imul(fe,Kt)|0,T=(T=T+Math.imul(fe,yt)|0)+Math.imul(de,Kt)|0,N=N+Math.imul(de,yt)|0,I=I+Math.imul(J,cn)|0,T=(T=T+Math.imul(J,jt)|0)+Math.imul(re,cn)|0,N=N+Math.imul(re,jt)|0,I=I+Math.imul(ie,zt)|0,T=(T=T+Math.imul(ie,Ut)|0)+Math.imul(ae,zt)|0,N=N+Math.imul(ae,Ut)|0,I=I+Math.imul(R,pn)|0,T=(T=T+Math.imul(R,Mn)|0)+Math.imul($,pn)|0,N=N+Math.imul($,Mn)|0;var Lt=(X+(I=I+Math.imul(U,oe)|0)|0)+((8191&(T=(T=T+Math.imul(U,ce)|0)+Math.imul(Z,oe)|0))<<13)|0;X=((N=N+Math.imul(Z,ce)|0)+(T>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,I=Math.imul(Te,Rt),T=(T=Math.imul(Te,It))+Math.imul(Ne,Rt)|0,N=Math.imul(Ne,It),I=I+Math.imul(Ie,Kt)|0,T=(T=T+Math.imul(Ie,yt)|0)+Math.imul(Ce,Kt)|0,N=N+Math.imul(Ce,yt)|0,I=I+Math.imul(fe,cn)|0,T=(T=T+Math.imul(fe,jt)|0)+Math.imul(de,cn)|0,N=N+Math.imul(de,jt)|0,I=I+Math.imul(J,zt)|0,T=(T=T+Math.imul(J,Ut)|0)+Math.imul(re,zt)|0,N=N+Math.imul(re,Ut)|0,I=I+Math.imul(ie,pn)|0,T=(T=T+Math.imul(ie,Mn)|0)+Math.imul(ae,pn)|0,N=N+Math.imul(ae,Mn)|0,I=I+Math.imul(R,oe)|0,T=(T=T+Math.imul(R,ce)|0)+Math.imul($,oe)|0,N=N+Math.imul($,ce)|0;var qt=(X+(I=I+Math.imul(U,pe)|0)|0)+((8191&(T=(T=T+Math.imul(U,me)|0)+Math.imul(Z,pe)|0))<<13)|0;X=((N=N+Math.imul(Z,me)|0)+(T>>>13)|0)+(qt>>>26)|0,qt&=67108863,I=Math.imul(Le,Rt),T=(T=Math.imul(Le,It))+Math.imul(at,Rt)|0,N=Math.imul(at,It),I=I+Math.imul(Te,Kt)|0,T=(T=T+Math.imul(Te,yt)|0)+Math.imul(Ne,Kt)|0,N=N+Math.imul(Ne,yt)|0,I=I+Math.imul(Ie,cn)|0,T=(T=T+Math.imul(Ie,jt)|0)+Math.imul(Ce,cn)|0,N=N+Math.imul(Ce,jt)|0,I=I+Math.imul(fe,zt)|0,T=(T=T+Math.imul(fe,Ut)|0)+Math.imul(de,zt)|0,N=N+Math.imul(de,Ut)|0,I=I+Math.imul(J,pn)|0,T=(T=T+Math.imul(J,Mn)|0)+Math.imul(re,pn)|0,N=N+Math.imul(re,Mn)|0,I=I+Math.imul(ie,oe)|0,T=(T=T+Math.imul(ie,ce)|0)+Math.imul(ae,oe)|0,N=N+Math.imul(ae,ce)|0,I=I+Math.imul(R,pe)|0,T=(T=T+Math.imul(R,me)|0)+Math.imul($,pe)|0,N=N+Math.imul($,me)|0;var Nn=(X+(I=I+Math.imul(U,be)|0)|0)+((8191&(T=(T=T+Math.imul(U,Pe)|0)+Math.imul(Z,be)|0))<<13)|0;X=((N=N+Math.imul(Z,Pe)|0)+(T>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,I=Math.imul(Je,Rt),T=(T=Math.imul(Je,It))+Math.imul(wt,Rt)|0,N=Math.imul(wt,It),I=I+Math.imul(Le,Kt)|0,T=(T=T+Math.imul(Le,yt)|0)+Math.imul(at,Kt)|0,N=N+Math.imul(at,yt)|0,I=I+Math.imul(Te,cn)|0,T=(T=T+Math.imul(Te,jt)|0)+Math.imul(Ne,cn)|0,N=N+Math.imul(Ne,jt)|0,I=I+Math.imul(Ie,zt)|0,T=(T=T+Math.imul(Ie,Ut)|0)+Math.imul(Ce,zt)|0,N=N+Math.imul(Ce,Ut)|0,I=I+Math.imul(fe,pn)|0,T=(T=T+Math.imul(fe,Mn)|0)+Math.imul(de,pn)|0,N=N+Math.imul(de,Mn)|0,I=I+Math.imul(J,oe)|0,T=(T=T+Math.imul(J,ce)|0)+Math.imul(re,oe)|0,N=N+Math.imul(re,ce)|0,I=I+Math.imul(ie,pe)|0,T=(T=T+Math.imul(ie,me)|0)+Math.imul(ae,pe)|0,N=N+Math.imul(ae,me)|0,I=I+Math.imul(R,be)|0,T=(T=T+Math.imul(R,Pe)|0)+Math.imul($,be)|0,N=N+Math.imul($,Pe)|0;var un=(X+(I=I+Math.imul(U,Ae)|0)|0)+((8191&(T=(T=T+Math.imul(U,Oe)|0)+Math.imul(Z,Ae)|0))<<13)|0;X=((N=N+Math.imul(Z,Oe)|0)+(T>>>13)|0)+(un>>>26)|0,un&=67108863,I=Math.imul(pt,Rt),T=(T=Math.imul(pt,It))+Math.imul(Tt,Rt)|0,N=Math.imul(Tt,It),I=I+Math.imul(Je,Kt)|0,T=(T=T+Math.imul(Je,yt)|0)+Math.imul(wt,Kt)|0,N=N+Math.imul(wt,yt)|0,I=I+Math.imul(Le,cn)|0,T=(T=T+Math.imul(Le,jt)|0)+Math.imul(at,cn)|0,N=N+Math.imul(at,jt)|0,I=I+Math.imul(Te,zt)|0,T=(T=T+Math.imul(Te,Ut)|0)+Math.imul(Ne,zt)|0,N=N+Math.imul(Ne,Ut)|0,I=I+Math.imul(Ie,pn)|0,T=(T=T+Math.imul(Ie,Mn)|0)+Math.imul(Ce,pn)|0,N=N+Math.imul(Ce,Mn)|0,I=I+Math.imul(fe,oe)|0,T=(T=T+Math.imul(fe,ce)|0)+Math.imul(de,oe)|0,N=N+Math.imul(de,ce)|0,I=I+Math.imul(J,pe)|0,T=(T=T+Math.imul(J,me)|0)+Math.imul(re,pe)|0,N=N+Math.imul(re,me)|0,I=I+Math.imul(ie,be)|0,T=(T=T+Math.imul(ie,Pe)|0)+Math.imul(ae,be)|0,N=N+Math.imul(ae,Pe)|0,I=I+Math.imul(R,Ae)|0,T=(T=T+Math.imul(R,Oe)|0)+Math.imul($,Ae)|0,N=N+Math.imul($,Oe)|0;var Rn=(X+(I=I+Math.imul(U,$e)|0)|0)+((8191&(T=(T=T+Math.imul(U,ze)|0)+Math.imul(Z,$e)|0))<<13)|0;X=((N=N+Math.imul(Z,ze)|0)+(T>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,I=Math.imul(pt,Kt),T=(T=Math.imul(pt,yt))+Math.imul(Tt,Kt)|0,N=Math.imul(Tt,yt),I=I+Math.imul(Je,cn)|0,T=(T=T+Math.imul(Je,jt)|0)+Math.imul(wt,cn)|0,N=N+Math.imul(wt,jt)|0,I=I+Math.imul(Le,zt)|0,T=(T=T+Math.imul(Le,Ut)|0)+Math.imul(at,zt)|0,N=N+Math.imul(at,Ut)|0,I=I+Math.imul(Te,pn)|0,T=(T=T+Math.imul(Te,Mn)|0)+Math.imul(Ne,pn)|0,N=N+Math.imul(Ne,Mn)|0,I=I+Math.imul(Ie,oe)|0,T=(T=T+Math.imul(Ie,ce)|0)+Math.imul(Ce,oe)|0,N=N+Math.imul(Ce,ce)|0,I=I+Math.imul(fe,pe)|0,T=(T=T+Math.imul(fe,me)|0)+Math.imul(de,pe)|0,N=N+Math.imul(de,me)|0,I=I+Math.imul(J,be)|0,T=(T=T+Math.imul(J,Pe)|0)+Math.imul(re,be)|0,N=N+Math.imul(re,Pe)|0,I=I+Math.imul(ie,Ae)|0,T=(T=T+Math.imul(ie,Oe)|0)+Math.imul(ae,Ae)|0,N=N+Math.imul(ae,Oe)|0;var Dn=(X+(I=I+Math.imul(R,$e)|0)|0)+((8191&(T=(T=T+Math.imul(R,ze)|0)+Math.imul($,$e)|0))<<13)|0;X=((N=N+Math.imul($,ze)|0)+(T>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,I=Math.imul(pt,cn),T=(T=Math.imul(pt,jt))+Math.imul(Tt,cn)|0,N=Math.imul(Tt,jt),I=I+Math.imul(Je,zt)|0,T=(T=T+Math.imul(Je,Ut)|0)+Math.imul(wt,zt)|0,N=N+Math.imul(wt,Ut)|0,I=I+Math.imul(Le,pn)|0,T=(T=T+Math.imul(Le,Mn)|0)+Math.imul(at,pn)|0,N=N+Math.imul(at,Mn)|0,I=I+Math.imul(Te,oe)|0,T=(T=T+Math.imul(Te,ce)|0)+Math.imul(Ne,oe)|0,N=N+Math.imul(Ne,ce)|0,I=I+Math.imul(Ie,pe)|0,T=(T=T+Math.imul(Ie,me)|0)+Math.imul(Ce,pe)|0,N=N+Math.imul(Ce,me)|0,I=I+Math.imul(fe,be)|0,T=(T=T+Math.imul(fe,Pe)|0)+Math.imul(de,be)|0,N=N+Math.imul(de,Pe)|0,I=I+Math.imul(J,Ae)|0,T=(T=T+Math.imul(J,Oe)|0)+Math.imul(re,Ae)|0,N=N+Math.imul(re,Oe)|0;var Wt=(X+(I=I+Math.imul(ie,$e)|0)|0)+((8191&(T=(T=T+Math.imul(ie,ze)|0)+Math.imul(ae,$e)|0))<<13)|0;X=((N=N+Math.imul(ae,ze)|0)+(T>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,I=Math.imul(pt,zt),T=(T=Math.imul(pt,Ut))+Math.imul(Tt,zt)|0,N=Math.imul(Tt,Ut),I=I+Math.imul(Je,pn)|0,T=(T=T+Math.imul(Je,Mn)|0)+Math.imul(wt,pn)|0,N=N+Math.imul(wt,Mn)|0,I=I+Math.imul(Le,oe)|0,T=(T=T+Math.imul(Le,ce)|0)+Math.imul(at,oe)|0,N=N+Math.imul(at,ce)|0,I=I+Math.imul(Te,pe)|0,T=(T=T+Math.imul(Te,me)|0)+Math.imul(Ne,pe)|0,N=N+Math.imul(Ne,me)|0,I=I+Math.imul(Ie,be)|0,T=(T=T+Math.imul(Ie,Pe)|0)+Math.imul(Ce,be)|0,N=N+Math.imul(Ce,Pe)|0,I=I+Math.imul(fe,Ae)|0,T=(T=T+Math.imul(fe,Oe)|0)+Math.imul(de,Ae)|0,N=N+Math.imul(de,Oe)|0;var Ct=(X+(I=I+Math.imul(J,$e)|0)|0)+((8191&(T=(T=T+Math.imul(J,ze)|0)+Math.imul(re,$e)|0))<<13)|0;X=((N=N+Math.imul(re,ze)|0)+(T>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,I=Math.imul(pt,pn),T=(T=Math.imul(pt,Mn))+Math.imul(Tt,pn)|0,N=Math.imul(Tt,Mn),I=I+Math.imul(Je,oe)|0,T=(T=T+Math.imul(Je,ce)|0)+Math.imul(wt,oe)|0,N=N+Math.imul(wt,ce)|0,I=I+Math.imul(Le,pe)|0,T=(T=T+Math.imul(Le,me)|0)+Math.imul(at,pe)|0,N=N+Math.imul(at,me)|0,I=I+Math.imul(Te,be)|0,T=(T=T+Math.imul(Te,Pe)|0)+Math.imul(Ne,be)|0,N=N+Math.imul(Ne,Pe)|0,I=I+Math.imul(Ie,Ae)|0,T=(T=T+Math.imul(Ie,Oe)|0)+Math.imul(Ce,Ae)|0,N=N+Math.imul(Ce,Oe)|0;var An=(X+(I=I+Math.imul(fe,$e)|0)|0)+((8191&(T=(T=T+Math.imul(fe,ze)|0)+Math.imul(de,$e)|0))<<13)|0;X=((N=N+Math.imul(de,ze)|0)+(T>>>13)|0)+(An>>>26)|0,An&=67108863,I=Math.imul(pt,oe),T=(T=Math.imul(pt,ce))+Math.imul(Tt,oe)|0,N=Math.imul(Tt,ce),I=I+Math.imul(Je,pe)|0,T=(T=T+Math.imul(Je,me)|0)+Math.imul(wt,pe)|0,N=N+Math.imul(wt,me)|0,I=I+Math.imul(Le,be)|0,T=(T=T+Math.imul(Le,Pe)|0)+Math.imul(at,be)|0,N=N+Math.imul(at,Pe)|0,I=I+Math.imul(Te,Ae)|0,T=(T=T+Math.imul(Te,Oe)|0)+Math.imul(Ne,Ae)|0,N=N+Math.imul(Ne,Oe)|0;var qe=(X+(I=I+Math.imul(Ie,$e)|0)|0)+((8191&(T=(T=T+Math.imul(Ie,ze)|0)+Math.imul(Ce,$e)|0))<<13)|0;X=((N=N+Math.imul(Ce,ze)|0)+(T>>>13)|0)+(qe>>>26)|0,qe&=67108863,I=Math.imul(pt,pe),T=(T=Math.imul(pt,me))+Math.imul(Tt,pe)|0,N=Math.imul(Tt,me),I=I+Math.imul(Je,be)|0,T=(T=T+Math.imul(Je,Pe)|0)+Math.imul(wt,be)|0,N=N+Math.imul(wt,Pe)|0,I=I+Math.imul(Le,Ae)|0,T=(T=T+Math.imul(Le,Oe)|0)+Math.imul(at,Ae)|0,N=N+Math.imul(at,Oe)|0;var xt=(X+(I=I+Math.imul(Te,$e)|0)|0)+((8191&(T=(T=T+Math.imul(Te,ze)|0)+Math.imul(Ne,$e)|0))<<13)|0;X=((N=N+Math.imul(Ne,ze)|0)+(T>>>13)|0)+(xt>>>26)|0,xt&=67108863,I=Math.imul(pt,be),T=(T=Math.imul(pt,Pe))+Math.imul(Tt,be)|0,N=Math.imul(Tt,Pe),I=I+Math.imul(Je,Ae)|0,T=(T=T+Math.imul(Je,Oe)|0)+Math.imul(wt,Ae)|0,N=N+Math.imul(wt,Oe)|0;var Sn=(X+(I=I+Math.imul(Le,$e)|0)|0)+((8191&(T=(T=T+Math.imul(Le,ze)|0)+Math.imul(at,$e)|0))<<13)|0;X=((N=N+Math.imul(at,ze)|0)+(T>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,I=Math.imul(pt,Ae),T=(T=Math.imul(pt,Oe))+Math.imul(Tt,Ae)|0,N=Math.imul(Tt,Oe);var Fe=(X+(I=I+Math.imul(Je,$e)|0)|0)+((8191&(T=(T=T+Math.imul(Je,ze)|0)+Math.imul(wt,$e)|0))<<13)|0;X=((N=N+Math.imul(wt,ze)|0)+(T>>>13)|0)+(Fe>>>26)|0,Fe&=67108863;var je=(X+(I=Math.imul(pt,$e))|0)+((8191&(T=(T=Math.imul(pt,ze))+Math.imul(Tt,$e)|0))<<13)|0;return X=((N=Math.imul(Tt,ze))+(T>>>13)|0)+(je>>>26)|0,je&=67108863,q[0]=et,q[1]=st,q[2]=gt,q[3]=_t,q[4]=dt,q[5]=Lt,q[6]=qt,q[7]=Nn,q[8]=un,q[9]=Rn,q[10]=Dn,q[11]=Wt,q[12]=Ct,q[13]=An,q[14]=qe,q[15]=xt,q[16]=Sn,q[17]=Fe,q[18]=je,X!==0&&(q[19]=X,C.length++),C};function D(E,O,C){C.negative=O.negative^E.negative,C.length=E.length+O.length;for(var I=0,T=0,N=0;N<C.length-1;N++){var j=T;T=0;for(var H=67108863&I,q=Math.min(N,O.length-1),X=Math.max(0,N-E.length+1);X<=q;X++){var z=N-X,U=(0|E.words[z])*(0|O.words[X]),Z=67108863&U;H=67108863&(Z=Z+H|0),T+=(j=(j=j+(U/67108864|0)|0)+(Z>>>26)|0)>>>26,j&=67108863}C.words[N]=H,I=j,j=T}return I!==0?C.words[N]=I:C.length--,C._strip()}function x(E,O,C){return D(E,O,C)}function M(E,O){this.x=E,this.y=O}Math.imul||(w=S),m.prototype.mulTo=function(E,O){var C=this.length+E.length;return this.length===10&&E.length===10?w(this,E,O):C<63?S(this,E,O):C<1024?D(this,E,O):x(this,E,O)},M.prototype.makeRBT=function(E){for(var O=new Array(E),C=m.prototype._countBits(E)-1,I=0;I<E;I++)O[I]=this.revBin(I,C,E);return O},M.prototype.revBin=function(E,O,C){if(E===0||E===C-1)return E;for(var I=0,T=0;T<O;T++)I|=(1&E)<<O-T-1,E>>=1;return I},M.prototype.permute=function(E,O,C,I,T,N){for(var j=0;j<N;j++)I[j]=O[E[j]],T[j]=C[E[j]]},M.prototype.transform=function(E,O,C,I,T,N){this.permute(N,E,O,C,I,T);for(var j=1;j<T;j<<=1)for(var H=j<<1,q=Math.cos(2*Math.PI/H),X=Math.sin(2*Math.PI/H),z=0;z<T;z+=H)for(var U=q,Z=X,ee=0;ee<j;ee++){var R=C[z+ee],$=I[z+ee],G=C[z+ee+j],ie=I[z+ee+j],ae=U*G-Z*ie;ie=U*ie+Z*G,G=ae,C[z+ee]=R+G,I[z+ee]=$+ie,C[z+ee+j]=R-G,I[z+ee+j]=$-ie,ee!==H&&(ae=q*U-X*Z,Z=q*Z+X*U,U=ae)}},M.prototype.guessLen13b=function(E,O){var C=1|Math.max(O,E),I=1&C,T=0;for(C=C/2|0;C;C>>>=1)T++;return 1<<T+1+I},M.prototype.conjugate=function(E,O,C){if(!(C<=1))for(var I=0;I<C/2;I++){var T=E[I];E[I]=E[C-I-1],E[C-I-1]=T,T=O[I],O[I]=-O[C-I-1],O[C-I-1]=-T}},M.prototype.normalize13b=function(E,O){for(var C=0,I=0;I<O/2;I++){var T=8192*Math.round(E[2*I+1]/O)+Math.round(E[2*I]/O)+C;E[I]=67108863&T,C=T<67108864?0:T/67108864|0}return E},M.prototype.convert13b=function(E,O,C,I){for(var T=0,N=0;N<O;N++)T+=0|E[N],C[2*N]=8191&T,T>>>=13,C[2*N+1]=8191&T,T>>>=13;for(N=2*O;N<I;++N)C[N]=0;f(T===0),f(!(-8192&T))},M.prototype.stub=function(E){for(var O=new Array(E),C=0;C<E;C++)O[C]=0;return O},M.prototype.mulp=function(E,O,C){var I=2*this.guessLen13b(E.length,O.length),T=this.makeRBT(I),N=this.stub(I),j=new Array(I),H=new Array(I),q=new Array(I),X=new Array(I),z=new Array(I),U=new Array(I),Z=C.words;Z.length=I,this.convert13b(E.words,E.length,j,I),this.convert13b(O.words,O.length,X,I),this.transform(j,N,H,q,I,T),this.transform(X,N,z,U,I,T);for(var ee=0;ee<I;ee++){var R=H[ee]*z[ee]-q[ee]*U[ee];q[ee]=H[ee]*U[ee]+q[ee]*z[ee],H[ee]=R}return this.conjugate(H,q,I),this.transform(H,q,Z,N,I,T),this.conjugate(Z,N,I),this.normalize13b(Z,I),C.negative=E.negative^O.negative,C.length=E.length+O.length,C._strip()},m.prototype.mul=function(E){var O=new m(null);return O.words=new Array(this.length+E.length),this.mulTo(E,O)},m.prototype.mulf=function(E){var O=new m(null);return O.words=new Array(this.length+E.length),x(this,E,O)},m.prototype.imul=function(E){return this.clone().mulTo(E,this)},m.prototype.imuln=function(E){var O=E<0;O&&(E=-E),f(typeof E=="number"),f(E<67108864);for(var C=0,I=0;I<this.length;I++){var T=(0|this.words[I])*E,N=(67108863&T)+(67108863&C);C>>=26,C+=T/67108864|0,C+=N>>>26,this.words[I]=67108863&N}return C!==0&&(this.words[I]=C,this.length++),O?this.ineg():this},m.prototype.muln=function(E){return this.clone().imuln(E)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(E){var O=function(N){for(var j=new Array(N.bitLength()),H=0;H<j.length;H++){var q=H/26|0,X=H%26;j[H]=N.words[q]>>>X&1}return j}(E);if(O.length===0)return new m(1);for(var C=this,I=0;I<O.length&&O[I]===0;I++,C=C.sqr());if(++I<O.length)for(var T=C.sqr();I<O.length;I++,T=T.sqr())O[I]!==0&&(C=C.mul(T));return C},m.prototype.iushln=function(E){f(typeof E=="number"&&E>=0);var O,C=E%26,I=(E-C)/26,T=67108863>>>26-C<<26-C;if(C!==0){var N=0;for(O=0;O<this.length;O++){var j=this.words[O]&T,H=(0|this.words[O])-j<<C;this.words[O]=H|N,N=j>>>26-C}N&&(this.words[O]=N,this.length++)}if(I!==0){for(O=this.length-1;O>=0;O--)this.words[O+I]=this.words[O];for(O=0;O<I;O++)this.words[O]=0;this.length+=I}return this._strip()},m.prototype.ishln=function(E){return f(this.negative===0),this.iushln(E)},m.prototype.iushrn=function(E,O,C){var I;f(typeof E=="number"&&E>=0),I=O?(O-O%26)/26:0;var T=E%26,N=Math.min((E-T)/26,this.length),j=67108863^67108863>>>T<<T,H=C;if(I-=N,I=Math.max(0,I),H){for(var q=0;q<N;q++)H.words[q]=this.words[q];H.length=N}if(N!==0)if(this.length>N)for(this.length-=N,q=0;q<this.length;q++)this.words[q]=this.words[q+N];else this.words[0]=0,this.length=1;var X=0;for(q=this.length-1;q>=0&&(X!==0||q>=I);q--){var z=0|this.words[q];this.words[q]=X<<26-T|z>>>T,X=z&j}return H&&X!==0&&(H.words[H.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},m.prototype.ishrn=function(E,O,C){return f(this.negative===0),this.iushrn(E,O,C)},m.prototype.shln=function(E){return this.clone().ishln(E)},m.prototype.ushln=function(E){return this.clone().iushln(E)},m.prototype.shrn=function(E){return this.clone().ishrn(E)},m.prototype.ushrn=function(E){return this.clone().iushrn(E)},m.prototype.testn=function(E){f(typeof E=="number"&&E>=0);var O=E%26,C=(E-O)/26,I=1<<O;return!(this.length<=C||!(this.words[C]&I))},m.prototype.imaskn=function(E){f(typeof E=="number"&&E>=0);var O=E%26,C=(E-O)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(O!==0&&C++,this.length=Math.min(C,this.length),O!==0){var I=67108863^67108863>>>O<<O;this.words[this.length-1]&=I}return this._strip()},m.prototype.maskn=function(E){return this.clone().imaskn(E)},m.prototype.iaddn=function(E){return f(typeof E=="number"),f(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},m.prototype._iaddn=function(E){this.words[0]+=E;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},m.prototype.isubn=function(E){if(f(typeof E=="number"),f(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this._strip()},m.prototype.addn=function(E){return this.clone().iaddn(E)},m.prototype.subn=function(E){return this.clone().isubn(E)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(E,O,C){var I,T,N=E.length+C;this._expand(N);var j=0;for(I=0;I<E.length;I++){T=(0|this.words[I+C])+j;var H=(0|E.words[I])*O;j=((T-=67108863&H)>>26)-(H/67108864|0),this.words[I+C]=67108863&T}for(;I<this.length-C;I++)j=(T=(0|this.words[I+C])+j)>>26,this.words[I+C]=67108863&T;if(j===0)return this._strip();for(f(j===-1),j=0,I=0;I<this.length;I++)j=(T=-(0|this.words[I])+j)>>26,this.words[I]=67108863&T;return this.negative=1,this._strip()},m.prototype._wordDiv=function(E,O){var C=(this.length,E.length),I=this.clone(),T=E,N=0|T.words[T.length-1];(C=26-this._countBits(N))!=0&&(T=T.ushln(C),I.iushln(C),N=0|T.words[T.length-1]);var j,H=I.length-T.length;if(O!=="mod"){(j=new m(null)).length=H+1,j.words=new Array(j.length);for(var q=0;q<j.length;q++)j.words[q]=0}var X=I.clone()._ishlnsubmul(T,1,H);X.negative===0&&(I=X,j&&(j.words[H]=1));for(var z=H-1;z>=0;z--){var U=67108864*(0|I.words[T.length+z])+(0|I.words[T.length+z-1]);for(U=Math.min(U/N|0,67108863),I._ishlnsubmul(T,U,z);I.negative!==0;)U--,I.negative=0,I._ishlnsubmul(T,1,z),I.isZero()||(I.negative^=1);j&&(j.words[z]=U)}return j&&j._strip(),I._strip(),O!=="div"&&C!==0&&I.iushrn(C),{div:j||null,mod:I}},m.prototype.divmod=function(E,O,C){return f(!E.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:this.negative!==0&&E.negative===0?(N=this.neg().divmod(E,O),O!=="mod"&&(I=N.div.neg()),O!=="div"&&(T=N.mod.neg(),C&&T.negative!==0&&T.iadd(E)),{div:I,mod:T}):this.negative===0&&E.negative!==0?(N=this.divmod(E.neg(),O),O!=="mod"&&(I=N.div.neg()),{div:I,mod:N.mod}):this.negative&E.negative?(N=this.neg().divmod(E.neg(),O),O!=="div"&&(T=N.mod.neg(),C&&T.negative!==0&&T.isub(E)),{div:N.div,mod:T}):E.length>this.length||this.cmp(E)<0?{div:new m(0),mod:this}:E.length===1?O==="div"?{div:this.divn(E.words[0]),mod:null}:O==="mod"?{div:null,mod:new m(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new m(this.modrn(E.words[0]))}:this._wordDiv(E,O);var I,T,N},m.prototype.div=function(E){return this.divmod(E,"div",!1).div},m.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},m.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},m.prototype.divRound=function(E){var O=this.divmod(E);if(O.mod.isZero())return O.div;var C=O.div.negative!==0?O.mod.isub(E):O.mod,I=E.ushrn(1),T=E.andln(1),N=C.cmp(I);return N<0||T===1&&N===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},m.prototype.modrn=function(E){var O=E<0;O&&(E=-E),f(E<=67108863);for(var C=67108864%E,I=0,T=this.length-1;T>=0;T--)I=(C*I+(0|this.words[T]))%E;return O?-I:I},m.prototype.modn=function(E){return this.modrn(E)},m.prototype.idivn=function(E){var O=E<0;O&&(E=-E),f(E<=67108863);for(var C=0,I=this.length-1;I>=0;I--){var T=(0|this.words[I])+67108864*C;this.words[I]=T/E|0,C=T%E}return this._strip(),O?this.ineg():this},m.prototype.divn=function(E){return this.clone().idivn(E)},m.prototype.egcd=function(E){f(E.negative===0),f(!E.isZero());var O=this,C=E.clone();O=O.negative!==0?O.umod(E):O.clone();for(var I=new m(1),T=new m(0),N=new m(0),j=new m(1),H=0;O.isEven()&&C.isEven();)O.iushrn(1),C.iushrn(1),++H;for(var q=C.clone(),X=O.clone();!O.isZero();){for(var z=0,U=1;!(O.words[0]&U)&&z<26;++z,U<<=1);if(z>0)for(O.iushrn(z);z-- >0;)(I.isOdd()||T.isOdd())&&(I.iadd(q),T.isub(X)),I.iushrn(1),T.iushrn(1);for(var Z=0,ee=1;!(C.words[0]&ee)&&Z<26;++Z,ee<<=1);if(Z>0)for(C.iushrn(Z);Z-- >0;)(N.isOdd()||j.isOdd())&&(N.iadd(q),j.isub(X)),N.iushrn(1),j.iushrn(1);O.cmp(C)>=0?(O.isub(C),I.isub(N),T.isub(j)):(C.isub(O),N.isub(I),j.isub(T))}return{a:N,b:j,gcd:C.iushln(H)}},m.prototype._invmp=function(E){f(E.negative===0),f(!E.isZero());var O=this,C=E.clone();O=O.negative!==0?O.umod(E):O.clone();for(var I,T=new m(1),N=new m(0),j=C.clone();O.cmpn(1)>0&&C.cmpn(1)>0;){for(var H=0,q=1;!(O.words[0]&q)&&H<26;++H,q<<=1);if(H>0)for(O.iushrn(H);H-- >0;)T.isOdd()&&T.iadd(j),T.iushrn(1);for(var X=0,z=1;!(C.words[0]&z)&&X<26;++X,z<<=1);if(X>0)for(C.iushrn(X);X-- >0;)N.isOdd()&&N.iadd(j),N.iushrn(1);O.cmp(C)>=0?(O.isub(C),T.isub(N)):(C.isub(O),N.isub(T))}return(I=O.cmpn(1)===0?T:N).cmpn(0)<0&&I.iadd(E),I},m.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var O=this.clone(),C=E.clone();O.negative=0,C.negative=0;for(var I=0;O.isEven()&&C.isEven();I++)O.iushrn(1),C.iushrn(1);for(;;){for(;O.isEven();)O.iushrn(1);for(;C.isEven();)C.iushrn(1);var T=O.cmp(C);if(T<0){var N=O;O=C,C=N}else if(T===0||C.cmpn(1)===0)break;O.isub(C)}return C.iushln(I)},m.prototype.invm=function(E){return this.egcd(E).a.umod(E)},m.prototype.isEven=function(){return!(1&this.words[0])},m.prototype.isOdd=function(){return!(1&~this.words[0])},m.prototype.andln=function(E){return this.words[0]&E},m.prototype.bincn=function(E){f(typeof E=="number");var O=E%26,C=(E-O)/26,I=1<<O;if(this.length<=C)return this._expand(C+1),this.words[C]|=I,this;for(var T=I,N=C;T!==0&&N<this.length;N++){var j=0|this.words[N];T=(j+=T)>>>26,j&=67108863,this.words[N]=j}return T!==0&&(this.words[N]=T,this.length++),this},m.prototype.isZero=function(){return this.length===1&&this.words[0]===0},m.prototype.cmpn=function(E){var O,C=E<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)O=1;else{C&&(E=-E),f(E<=67108863,"Number is too big");var I=0|this.words[0];O=I===E?0:I<E?-1:1}return this.negative!==0?0|-O:O},m.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var O=this.ucmp(E);return this.negative!==0?0|-O:O},m.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var O=0,C=this.length-1;C>=0;C--){var I=0|this.words[C],T=0|E.words[C];if(I!==T){I<T?O=-1:I>T&&(O=1);break}}return O},m.prototype.gtn=function(E){return this.cmpn(E)===1},m.prototype.gt=function(E){return this.cmp(E)===1},m.prototype.gten=function(E){return this.cmpn(E)>=0},m.prototype.gte=function(E){return this.cmp(E)>=0},m.prototype.ltn=function(E){return this.cmpn(E)===-1},m.prototype.lt=function(E){return this.cmp(E)===-1},m.prototype.lten=function(E){return this.cmpn(E)<=0},m.prototype.lte=function(E){return this.cmp(E)<=0},m.prototype.eqn=function(E){return this.cmpn(E)===0},m.prototype.eq=function(E){return this.cmp(E)===0},m.red=function(E){return new ne(E)},m.prototype.toRed=function(E){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},m.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(E){return this.red=E,this},m.prototype.forceRed=function(E){return f(!this.red,"Already a number in reduction context"),this._forceRed(E)},m.prototype.redAdd=function(E){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},m.prototype.redIAdd=function(E){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},m.prototype.redSub=function(E){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},m.prototype.redISub=function(E){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},m.prototype.redShl=function(E){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},m.prototype.redMul=function(E){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},m.prototype.redIMul=function(E){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},m.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(E){return f(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var P={k256:null,p224:null,p192:null,p25519:null};function k(E,O){this.name=E,this.p=new m(O,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Q(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ne(E){if(typeof E=="string"){var O=m._prime(E);this.m=O.p,this.prime=O}else f(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function te(E){ne.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var E=new m(null);return E.words=new Array(Math.ceil(this.n/13)),E},k.prototype.ireduce=function(E){var O,C=E;do this.split(C,this.tmp),O=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(O>this.n);var I=O<this.n?-1:C.ucmp(this.p);return I===0?(C.words[0]=0,C.length=1):I>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},k.prototype.split=function(E,O){E.iushrn(this.n,0,O)},k.prototype.imulK=function(E){return E.imul(this.k)},y(B,k),B.prototype.split=function(E,O){for(var C=4194303,I=Math.min(E.length,9),T=0;T<I;T++)O.words[T]=E.words[T];if(O.length=I,E.length<=9)return E.words[0]=0,void(E.length=1);var N=E.words[9];for(O.words[O.length++]=N&C,T=10;T<E.length;T++){var j=0|E.words[T];E.words[T-10]=(j&C)<<4|N>>>22,N=j}N>>>=22,E.words[T-10]=N,N===0&&E.length>10?E.length-=10:E.length-=9},B.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var O=0,C=0;C<E.length;C++){var I=0|E.words[C];O+=977*I,E.words[C]=67108863&O,O=64*I+(O/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},y(L,k),y(V,k),y(Q,k),Q.prototype.imulK=function(E){for(var O=0,C=0;C<E.length;C++){var I=19*(0|E.words[C])+O,T=67108863&I;I>>>=26,E.words[C]=T,O=I}return O!==0&&(E.words[E.length++]=O),E},m._prime=function(E){if(P[E])return P[E];var O;if(E==="k256")O=new B;else if(E==="p224")O=new L;else if(E==="p192")O=new V;else{if(E!=="p25519")throw new Error("Unknown prime "+E);O=new Q}return P[E]=O,O},ne.prototype._verify1=function(E){f(E.negative===0,"red works only with positives"),f(E.red,"red works only with red numbers")},ne.prototype._verify2=function(E,O){f(!(E.negative|O.negative),"red works only with positives"),f(E.red&&E.red===O.red,"red works only with red numbers")},ne.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(p(E,E.umod(this.m)._forceRed(this)),E)},ne.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},ne.prototype.add=function(E,O){this._verify2(E,O);var C=E.add(O);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},ne.prototype.iadd=function(E,O){this._verify2(E,O);var C=E.iadd(O);return C.cmp(this.m)>=0&&C.isub(this.m),C},ne.prototype.sub=function(E,O){this._verify2(E,O);var C=E.sub(O);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},ne.prototype.isub=function(E,O){this._verify2(E,O);var C=E.isub(O);return C.cmpn(0)<0&&C.iadd(this.m),C},ne.prototype.shl=function(E,O){return this._verify1(E),this.imod(E.ushln(O))},ne.prototype.imul=function(E,O){return this._verify2(E,O),this.imod(E.imul(O))},ne.prototype.mul=function(E,O){return this._verify2(E,O),this.imod(E.mul(O))},ne.prototype.isqr=function(E){return this.imul(E,E.clone())},ne.prototype.sqr=function(E){return this.mul(E,E)},ne.prototype.sqrt=function(E){if(E.isZero())return E.clone();var O=this.m.andln(3);if(f(O%2==1),O===3){var C=this.m.add(new m(1)).iushrn(2);return this.pow(E,C)}for(var I=this.m.subn(1),T=0;!I.isZero()&&I.andln(1)===0;)T++,I.iushrn(1);f(!I.isZero());var N=new m(1).toRed(this),j=N.redNeg(),H=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new m(2*q*q).toRed(this);this.pow(q,H).cmp(j)!==0;)q.redIAdd(j);for(var X=this.pow(q,I),z=this.pow(E,I.addn(1).iushrn(1)),U=this.pow(E,I),Z=T;U.cmp(N)!==0;){for(var ee=U,R=0;ee.cmp(N)!==0;R++)ee=ee.redSqr();f(R<Z);var $=this.pow(X,new m(1).iushln(Z-R-1));z=z.redMul($),X=$.redSqr(),U=U.redMul(X),Z=R}return z},ne.prototype.invm=function(E){var O=E._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},ne.prototype.pow=function(E,O){if(O.isZero())return new m(1).toRed(this);if(O.cmpn(1)===0)return E.clone();var C=new Array(16);C[0]=new m(1).toRed(this),C[1]=E;for(var I=2;I<C.length;I++)C[I]=this.mul(C[I-1],E);var T=C[0],N=0,j=0,H=O.bitLength()%26;for(H===0&&(H=26),I=O.length-1;I>=0;I--){for(var q=O.words[I],X=H-1;X>=0;X--){var z=q>>X&1;T!==C[0]&&(T=this.sqr(T)),z!==0||N!==0?(N<<=1,N|=z,(++j==4||I===0&&X===0)&&(T=this.mul(T,C[N]),j=0,N=0)):j=0}H=26}return T},ne.prototype.convertTo=function(E){var O=E.umod(this.m);return O===E?O.clone():O},ne.prototype.convertFrom=function(E){var O=E.clone();return O.red=null,O},m.mont=function(E){return new te(E)},y(te,ne),te.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},te.prototype.convertFrom=function(E){var O=this.imod(E.mul(this.rinv));return O.red=null,O},te.prototype.imul=function(E,O){if(E.isZero()||O.isZero())return E.words[0]=0,E.length=1,E;var C=E.imul(O),I=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=C.isub(I).iushrn(this.shift),N=T;return T.cmp(this.m)>=0?N=T.isub(this.m):T.cmpn(0)<0&&(N=T.iadd(this.m)),N._forceRed(this)},te.prototype.mul=function(E,O){if(E.isZero()||O.isZero())return new m(0)._forceRed(this);var C=E.mul(O),I=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=C.isub(I).iushrn(this.shift),N=T;return T.cmp(this.m)>=0?N=T.isub(this.m):T.cmpn(0)<0&&(N=T.iadd(this.m)),N._forceRed(this)},te.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(r=o.nmd(r),this)},8904:(r,i,o)=>{function s(y){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(y)}var a;function c(y){this.rand=y}if(r.exports=function(y){return a||(a=new c(null)),a.generate(y)},r.exports.Rand=c,c.prototype.generate=function(y){return this._rand(y)},c.prototype._rand=function(y){if(this.rand.getBytes)return this.rand.getBytes(y);for(var m=new Uint8Array(y),u=0;u<m.length;u++)m[u]=this.rand.getByte();return m},(typeof self>"u"?"undefined":s(self))==="object")self.crypto&&self.crypto.getRandomValues?c.prototype._rand=function(y){var m=new Uint8Array(y);return self.crypto.getRandomValues(m),m}:self.msCrypto&&self.msCrypto.getRandomValues?c.prototype._rand=function(y){var m=new Uint8Array(y);return self.msCrypto.getRandomValues(m),m}:(typeof window>"u"?"undefined":s(window))==="object"&&(c.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var f=o(3776);if(typeof f.randomBytes!="function")throw new Error("Not supported");c.prototype._rand=function(y){return f.randomBytes(y)}}catch{}},5401:(r,i,o)=>{var s=o(9732).Buffer;function a(l){s.isBuffer(l)||(l=s.from(l));for(var h=l.length/4|0,d=new Array(h),p=0;p<h;p++)d[p]=l.readUInt32BE(4*p);return d}function c(l){for(;0<l.length;l++)l[0]=0}function f(l,h,d,p,g){for(var b,v,_,S,w=d[0],D=d[1],x=d[2],M=d[3],P=l[0]^h[0],k=l[1]^h[1],B=l[2]^h[2],L=l[3]^h[3],V=4,Q=1;Q<g;Q++)b=w[P>>>24]^D[k>>>16&255]^x[B>>>8&255]^M[255&L]^h[V++],v=w[k>>>24]^D[B>>>16&255]^x[L>>>8&255]^M[255&P]^h[V++],_=w[B>>>24]^D[L>>>16&255]^x[P>>>8&255]^M[255&k]^h[V++],S=w[L>>>24]^D[P>>>16&255]^x[k>>>8&255]^M[255&B]^h[V++],P=b,k=v,B=_,L=S;return b=(p[P>>>24]<<24|p[k>>>16&255]<<16|p[B>>>8&255]<<8|p[255&L])^h[V++],v=(p[k>>>24]<<24|p[B>>>16&255]<<16|p[L>>>8&255]<<8|p[255&P])^h[V++],_=(p[B>>>24]<<24|p[L>>>16&255]<<16|p[P>>>8&255]<<8|p[255&k])^h[V++],S=(p[L>>>24]<<24|p[P>>>16&255]<<16|p[k>>>8&255]<<8|p[255&B])^h[V++],[b>>>=0,v>>>=0,_>>>=0,S>>>=0]}var y=[0,1,2,4,8,16,32,64,128,27,54],m=function(){for(var l=new Array(256),h=0;h<256;h++)l[h]=h<128?h<<1:h<<1^283;for(var d=[],p=[],g=[[],[],[],[]],b=[[],[],[],[]],v=0,_=0,S=0;S<256;++S){var w=_^_<<1^_<<2^_<<3^_<<4;w=w>>>8^255&w^99,d[v]=w,p[w]=v;var D=l[v],x=l[D],M=l[x],P=257*l[w]^16843008*w;g[0][v]=P<<24|P>>>8,g[1][v]=P<<16|P>>>16,g[2][v]=P<<8|P>>>24,g[3][v]=P,P=16843009*M^65537*x^257*D^16843008*v,b[0][w]=P<<24|P>>>8,b[1][w]=P<<16|P>>>16,b[2][w]=P<<8|P>>>24,b[3][w]=P,v===0?v=_=1:(v=D^l[l[l[M^D]]],_^=l[l[_]])}return{SBOX:d,INV_SBOX:p,SUB_MIX:g,INV_SUB_MIX:b}}();function u(l){this._key=a(l),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var l=this._key,h=l.length,d=h+6,p=4*(d+1),g=[],b=0;b<h;b++)g[b]=l[b];for(b=h;b<p;b++){var v=g[b-1];b%h==0?(v=v<<8|v>>>24,v=m.SBOX[v>>>24]<<24|m.SBOX[v>>>16&255]<<16|m.SBOX[v>>>8&255]<<8|m.SBOX[255&v],v^=y[b/h|0]<<24):h>6&&b%h==4&&(v=m.SBOX[v>>>24]<<24|m.SBOX[v>>>16&255]<<16|m.SBOX[v>>>8&255]<<8|m.SBOX[255&v]),g[b]=g[b-h]^v}for(var _=[],S=0;S<p;S++){var w=p-S,D=g[w-(S%4?0:4)];_[S]=S<4||w<=4?D:m.INV_SUB_MIX[0][m.SBOX[D>>>24]]^m.INV_SUB_MIX[1][m.SBOX[D>>>16&255]]^m.INV_SUB_MIX[2][m.SBOX[D>>>8&255]]^m.INV_SUB_MIX[3][m.SBOX[255&D]]}this._nRounds=d,this._keySchedule=g,this._invKeySchedule=_},u.prototype.encryptBlockRaw=function(l){return f(l=a(l),this._keySchedule,m.SUB_MIX,m.SBOX,this._nRounds)},u.prototype.encryptBlock=function(l){var h=this.encryptBlockRaw(l),d=s.allocUnsafe(16);return d.writeUInt32BE(h[0],0),d.writeUInt32BE(h[1],4),d.writeUInt32BE(h[2],8),d.writeUInt32BE(h[3],12),d},u.prototype.decryptBlock=function(l){var h=(l=a(l))[1];l[1]=l[3],l[3]=h;var d=f(l,this._invKeySchedule,m.INV_SUB_MIX,m.INV_SBOX,this._nRounds),p=s.allocUnsafe(16);return p.writeUInt32BE(d[0],0),p.writeUInt32BE(d[3],4),p.writeUInt32BE(d[2],8),p.writeUInt32BE(d[1],12),p},u.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},r.exports.AES=u},1085:(r,i,o)=>{var s=o(5401),a=o(9732).Buffer,c=o(2533),f=o(1679),y=o(9363),m=o(6876),u=o(9003);function l(h,d,p,g){c.call(this);var b=a.alloc(4,0);this._cipher=new s.AES(d);var v=this._cipher.encryptBlock(b);this._ghash=new y(v),p=function(_,S,w){if(S.length===12)return _._finID=a.concat([S,a.from([0,0,0,1])]),a.concat([S,a.from([0,0,0,2])]);var D=new y(w),x=S.length,M=x%16;D.update(S),M&&(M=16-M,D.update(a.alloc(M,0))),D.update(a.alloc(8,0));var P=8*x,k=a.alloc(8);k.writeUIntBE(P,0,8),D.update(k),_._finID=D.state;var B=a.from(_._finID);return u(B),B}(this,p,v),this._prev=a.from(p),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}f(l,c),l.prototype._update=function(h){if(!this._called&&this._alen){var d=16-this._alen%16;d<16&&(d=a.alloc(d,0),this._ghash.update(d))}this._called=!0;var p=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(p),this._len+=h.length,p},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=m(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(d,p){var g=0;d.length!==p.length&&g++;for(var b=Math.min(d.length,p.length),v=0;v<b;++v)g+=d[v]^p[v];return g}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},l.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},r.exports=l},2098:(r,i,o)=>{var s=o(3604),a=o(1808),c=o(3219);i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=a.createDecipher,i.createDecipheriv=i.Decipheriv=a.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(c)}},1808:(r,i,o)=>{var s=o(1085),a=o(9732).Buffer,c=o(8629),f=o(5407),y=o(2533),m=o(5401),u=o(1685);function l(p,g,b){y.call(this),this._cache=new h,this._last=void 0,this._cipher=new m.AES(g),this._prev=a.from(b),this._mode=p,this._autopadding=!0}function h(){this.cache=a.allocUnsafe(0)}function d(p,g,b){var v=c[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=a.from(b)),v.mode!=="GCM"&&b.length!==v.iv)throw new TypeError("invalid iv length "+b.length);if(typeof g=="string"&&(g=a.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);return v.type==="stream"?new f(v.module,g,b,!0):v.type==="auth"?new s(v.module,g,b,!0):new l(v.module,g,b)}o(1679)(l,y),l.prototype._update=function(p){var g,b;this._cache.add(p);for(var v=[];g=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,g),v.push(b);return a.concat(v)},l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return function(g){var b=g[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var v=-1;++v<b;)if(g[v+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return g.slice(0,16-b)}(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},h.prototype.add=function(p){this.cache=a.concat([this.cache,p])},h.prototype.get=function(p){var g;if(p){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(p,g){var b=c[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var v=u(g,!1,b.key,b.iv);return d(p,v.key,v.iv)},i.createDecipheriv=d},3604:(r,i,o)=>{var s=o(8629),a=o(1085),c=o(9732).Buffer,f=o(5407),y=o(2533),m=o(5401),u=o(1685);function l(g,b,v){y.call(this),this._cache=new d,this._cipher=new m.AES(b),this._prev=c.from(v),this._mode=g,this._autopadding=!0}o(1679)(l,y),l.prototype._update=function(g){var b,v;this._cache.add(g);for(var _=[];b=this._cache.get();)v=this._mode.encrypt(this,b),_.push(v);return c.concat(_)};var h=c.alloc(16,16);function d(){this.cache=c.allocUnsafe(0)}function p(g,b,v){var _=s[g.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=c.from(b)),b.length!==_.key/8)throw new TypeError("invalid key length "+b.length);if(typeof v=="string"&&(v=c.from(v)),_.mode!=="GCM"&&v.length!==_.iv)throw new TypeError("invalid iv length "+v.length);return _.type==="stream"?new f(_.module,b,v):_.type==="auth"?new a(_.module,b,v):new l(_.module,b,v)}l.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},d.prototype.add=function(g){this.cache=c.concat([this.cache,g])},d.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},d.prototype.flush=function(){for(var g=16-this.cache.length,b=c.allocUnsafe(g),v=-1;++v<g;)b.writeUInt8(g,v);return c.concat([this.cache,b])},i.createCipheriv=p,i.createCipher=function(g,b){var v=s[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var _=u(b,!1,v.key,v.iv);return p(g,_.key,_.iv)}},9363:(r,i,o)=>{var s=o(9732).Buffer,a=s.alloc(16,0);function c(y){var m=s.allocUnsafe(16);return m.writeUInt32BE(y[0]>>>0,0),m.writeUInt32BE(y[1]>>>0,4),m.writeUInt32BE(y[2]>>>0,8),m.writeUInt32BE(y[3]>>>0,12),m}function f(y){this.h=y,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}f.prototype.ghash=function(y){for(var m=-1;++m<y.length;)this.state[m]^=y[m];this._multiply()},f.prototype._multiply=function(){for(var y,m,u,l=[(y=this.h).readUInt32BE(0),y.readUInt32BE(4),y.readUInt32BE(8),y.readUInt32BE(12)],h=[0,0,0,0],d=-1;++d<128;){for(this.state[~~(d/8)]&1<<7-d%8&&(h[0]^=l[0],h[1]^=l[1],h[2]^=l[2],h[3]^=l[3]),u=!!(1&l[3]),m=3;m>0;m--)l[m]=l[m]>>>1|(1&l[m-1])<<31;l[0]=l[0]>>>1,u&&(l[0]=l[0]^-520093696)}this.state=c(h)},f.prototype.update=function(y){var m;for(this.cache=s.concat([this.cache,y]);this.cache.length>=16;)m=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(m)},f.prototype.final=function(y,m){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(c([0,y,0,m])),this.state},r.exports=f},9003:r=>{r.exports=function(i){for(var o,s=i.length;s--;){if((o=i.readUInt8(s))!==255){o++,i.writeUInt8(o,s);break}i.writeUInt8(0,s)}}},5459:(r,i,o)=>{var s=o(6876);i.encrypt=function(a,c){var f=s(c,a._prev);return a._prev=a._cipher.encryptBlock(f),a._prev},i.decrypt=function(a,c){var f=a._prev;a._prev=c;var y=a._cipher.decryptBlock(c);return s(y,f)}},4488:(r,i,o)=>{var s=o(9732).Buffer,a=o(6876);function c(f,y,m){var u=y.length,l=a(y,f._cache);return f._cache=f._cache.slice(u),f._prev=s.concat([f._prev,m?y:l]),l}i.encrypt=function(f,y,m){for(var u,l=s.allocUnsafe(0);y.length;){if(f._cache.length===0&&(f._cache=f._cipher.encryptBlock(f._prev),f._prev=s.allocUnsafe(0)),!(f._cache.length<=y.length)){l=s.concat([l,c(f,y,m)]);break}u=f._cache.length,l=s.concat([l,c(f,y.slice(0,u),m)]),y=y.slice(u)}return l}},4937:(r,i,o)=>{var s=o(9732).Buffer;function a(f,y,m){for(var u,l,h=-1,d=0;++h<8;)u=y&1<<7-h?128:0,d+=(128&(l=f._cipher.encryptBlock(f._prev)[0]^u))>>h%8,f._prev=c(f._prev,m?u:l);return d}function c(f,y){var m=f.length,u=-1,l=s.allocUnsafe(f.length);for(f=s.concat([f,s.from([y])]);++u<m;)l[u]=f[u]<<1|f[u+1]>>7;return l}i.encrypt=function(f,y,m){for(var u=y.length,l=s.allocUnsafe(u),h=-1;++h<u;)l[h]=a(f,y[h],m);return l}},6322:(r,i,o)=>{var s=o(9732).Buffer;function a(c,f,y){var m=c._cipher.encryptBlock(c._prev)[0]^f;return c._prev=s.concat([c._prev.slice(1),s.from([y?f:m])]),m}i.encrypt=function(c,f,y){for(var m=f.length,u=s.allocUnsafe(m),l=-1;++l<m;)u[l]=a(c,f[l],y);return u}},2538:(r,i,o)=>{var s=o(6876),a=o(9732).Buffer,c=o(9003);function f(y){var m=y._cipher.encryptBlockRaw(y._prev);return c(y._prev),m}i.encrypt=function(y,m){var u=Math.ceil(m.length/16),l=y._cache.length;y._cache=a.concat([y._cache,a.allocUnsafe(16*u)]);for(var h=0;h<u;h++){var d=f(y),p=l+16*h;y._cache.writeUInt32BE(d[0],p+0),y._cache.writeUInt32BE(d[1],p+4),y._cache.writeUInt32BE(d[2],p+8),y._cache.writeUInt32BE(d[3],p+12)}var g=y._cache.slice(0,m.length);return y._cache=y._cache.slice(m.length),s(m,g)}},9907:(r,i)=>{i.encrypt=function(o,s){return o._cipher.encryptBlock(s)},i.decrypt=function(o,s){return o._cipher.decryptBlock(s)}},8629:(r,i,o)=>{var s={ECB:o(9907),CBC:o(5459),CFB:o(4488),CFB8:o(6322),CFB1:o(4937),OFB:o(4252),CTR:o(2538),GCM:o(2538)},a=o(3219);for(var c in a)a[c].module=s[a[c].mode];r.exports=a},4252:(r,i,o)=>{var s=o(5832).Buffer,a=o(6876);function c(f){return f._prev=f._cipher.encryptBlock(f._prev),f._prev}i.encrypt=function(f,y){for(;f._cache.length<y.length;)f._cache=s.concat([f._cache,c(f)]);var m=f._cache.slice(0,y.length);return f._cache=f._cache.slice(y.length),a(y,m)}},5407:(r,i,o)=>{var s=o(5401),a=o(9732).Buffer,c=o(2533);function f(y,m,u,l){c.call(this),this._cipher=new s.AES(m),this._prev=a.from(u),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=l,this._mode=y}o(1679)(f,c),f.prototype._update=function(y){return this._mode.encrypt(this,y,this._decrypt)},f.prototype._final=function(){this._cipher.scrub()},r.exports=f},9652:(r,i,o)=>{var s=o(8201),a=o(2098),c=o(8629),f=o(3849),y=o(1685);function m(l,h,d){if(l=l.toLowerCase(),c[l])return a.createCipheriv(l,h,d);if(f[l])return new s({key:h,iv:d,mode:l});throw new TypeError("invalid suite type")}function u(l,h,d){if(l=l.toLowerCase(),c[l])return a.createDecipheriv(l,h,d);if(f[l])return new s({key:h,iv:d,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(l,h){var d,p;if(l=l.toLowerCase(),c[l])d=c[l].key,p=c[l].iv;else{if(!f[l])throw new TypeError("invalid suite type");d=8*f[l].key,p=f[l].iv}var g=y(h,!1,d,p);return m(l,g.key,g.iv)},i.createCipheriv=i.Cipheriv=m,i.createDecipher=i.Decipher=function(l,h){var d,p;if(l=l.toLowerCase(),c[l])d=c[l].key,p=c[l].iv;else{if(!f[l])throw new TypeError("invalid suite type");d=8*f[l].key,p=f[l].iv}var g=y(h,!1,d,p);return u(l,g.key,g.iv)},i.createDecipheriv=i.Decipheriv=u,i.listCiphers=i.getCiphers=function(){return Object.keys(f).concat(a.getCiphers())}},8201:(r,i,o)=>{var s=o(2533),a=o(1471),c=o(1679),f=o(9732).Buffer,y={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function m(u){s.call(this);var l,h=u.mode.toLowerCase(),d=y[h];l=u.decrypt?"decrypt":"encrypt";var p=u.key;f.isBuffer(p)||(p=f.from(p)),h!=="des-ede"&&h!=="des-ede-cbc"||(p=f.concat([p,p.slice(0,8)]));var g=u.iv;f.isBuffer(g)||(g=f.from(g)),this._des=d.create({key:p,iv:g,type:l})}y.des=y["des-cbc"],y.des3=y["des-ede3-cbc"],r.exports=m,c(m,s),m.prototype._update=function(u){return f.from(this._des.update(u))},m.prototype._final=function(){return f.from(this._des.final())}},3849:(r,i)=>{i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},1095:(r,i,o)=>{"use strict";var s=o(7799),a=o(4276),c=o(9732).Buffer;function f(m){var u,l=m.modulus.byteLength();do u=new s(a(l));while(u.cmp(m.modulus)>=0||!u.umod(m.prime1)||!u.umod(m.prime2));return u}function y(m,u){var l=function(x){var M=f(x);return{blinder:M.toRed(s.mont(x.modulus)).redPow(new s(x.publicExponent)).fromRed(),unblinder:M.invm(x.modulus)}}(u),h=u.modulus.byteLength(),d=new s(m).mul(l.blinder).umod(u.modulus),p=d.toRed(s.mont(u.prime1)),g=d.toRed(s.mont(u.prime2)),b=u.coefficient,v=u.prime1,_=u.prime2,S=p.redPow(u.exponent1).fromRed(),w=g.redPow(u.exponent2).fromRed(),D=S.isub(w).imul(b).umod(v).imul(_);return w.iadd(D).imul(l.unblinder).umod(u.modulus).toArrayLike(c,"be",h)}y.getr=f,r.exports=y},4606:(r,i,o)=>{"use strict";r.exports=o(2951)},7937:(r,i,o)=>{"use strict";var s=o(9732).Buffer,a=o(5833),c=o(3292),f=o(1679),y=o(6620),m=o(7032),u=o(2951);function l(g){c.Writable.call(this);var b=u[g];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=a(b.hash),this._tag=b.id,this._signType=b.sign}function h(g){c.Writable.call(this);var b=u[g];if(!b)throw new Error("Unknown message digest");this._hash=a(b.hash),this._tag=b.id,this._signType=b.sign}function d(g){return new l(g)}function p(g){return new h(g)}Object.keys(u).forEach(function(g){u[g].id=s.from(u[g].id,"hex"),u[g.toLowerCase()]=u[g]}),f(l,c.Writable),l.prototype._write=function(g,b,v){this._hash.update(g),v()},l.prototype.update=function(g,b){return this._hash.update(typeof g=="string"?s.from(g,b):g),this},l.prototype.sign=function(g,b){this.end();var v=this._hash.digest(),_=y(v,g,this._hashType,this._signType,this._tag);return b?_.toString(b):_},f(h,c.Writable),h.prototype._write=function(g,b,v){this._hash.update(g),v()},h.prototype.update=function(g,b){return this._hash.update(typeof g=="string"?s.from(g,b):g),this},h.prototype.verify=function(g,b,v){var _=typeof b=="string"?s.from(b,v):b;this.end();var S=this._hash.digest();return m(_,S,g,this._signType,this._tag)},r.exports={Sign:d,Verify:p,createSign:d,createVerify:p}},6620:(r,i,o)=>{"use strict";var s=o(9732).Buffer,a=o(2046),c=o(1095),f=o(7312).ec,y=o(7799),m=o(5053),u=o(4589);function l(g,b,v,_){if((g=s.from(g.toArray())).length<b.byteLength()){var S=s.alloc(b.byteLength()-g.length);g=s.concat([S,g])}var w=v.length,D=function(P,k){P=(P=h(P,k)).mod(k);var B=s.from(P.toArray());if(B.length<k.byteLength()){var L=s.alloc(k.byteLength()-B.length);B=s.concat([L,B])}return B}(v,b),x=s.alloc(w);x.fill(1);var M=s.alloc(w);return M=a(_,M).update(x).update(s.from([0])).update(g).update(D).digest(),x=a(_,M).update(x).digest(),{k:M=a(_,M).update(x).update(s.from([1])).update(g).update(D).digest(),v:x=a(_,M).update(x).digest()}}function h(g,b){var v=new y(g),_=(g.length<<3)-b.bitLength();return _>0&&v.ishrn(_),v}function d(g,b,v){var _,S;do{for(_=s.alloc(0);8*_.length<g.bitLength();)b.v=a(v,b.k).update(b.v).digest(),_=s.concat([_,b.v]);S=h(_,g),b.k=a(v,b.k).update(b.v).update(s.from([0])).digest(),b.v=a(v,b.k).update(b.v).digest()}while(S.cmp(g)!==-1);return S}function p(g,b,v,_){return g.toRed(y.mont(v)).redPow(b).fromRed().mod(_)}r.exports=function(g,b,v,_,S){var w=m(b);if(w.curve){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");return function(P,k){var B=u[k.curve.join(".")];if(!B)throw new Error("unknown curve "+k.curve.join("."));var L=new f(B).keyFromPrivate(k.privateKey).sign(P);return s.from(L.toDER())}(g,w)}if(w.type==="dsa"){if(_!=="dsa")throw new Error("wrong private key type");return function(P,k,B){for(var L,V=k.params.priv_key,Q=k.params.p,ne=k.params.q,te=k.params.g,E=new y(0),O=h(P,ne).mod(ne),C=!1,I=l(V,ne,P,B);C===!1;)E=p(te,L=d(ne,I,B),Q,ne),(C=L.invm(ne).imul(O.add(V.mul(E))).mod(ne)).cmpn(0)===0&&(C=!1,E=new y(0));return function(T,N){T=T.toArray(),N=N.toArray(),128&T[0]&&(T=[0].concat(T)),128&N[0]&&(N=[0].concat(N));var j=[48,T.length+N.length+4,2,T.length];return j=j.concat(T,[2,N.length],N),s.from(j)}(E,C)}(g,w,v)}if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");if(b.padding!==void 0&&b.padding!==1)throw new Error("illegal or unsupported padding mode");g=s.concat([S,g]);for(var D=w.modulus.byteLength(),x=[0,1];g.length+x.length+1<D;)x.push(255);x.push(0);for(var M=-1;++M<g.length;)x.push(g[M]);return c(x,w)},r.exports.getKey=l,r.exports.makeKey=d},7032:(r,i,o)=>{"use strict";var s=o(9732).Buffer,a=o(7799),c=o(7312).ec,f=o(5053),y=o(4589);function m(u,l){if(u.cmpn(0)<=0)throw new Error("invalid sig");if(u.cmp(l)>=0)throw new Error("invalid sig")}r.exports=function(u,l,h,d,p){var g=f(h);if(g.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return function(x,M,P){var k=y[P.data.algorithm.curve.join(".")];if(!k)throw new Error("unknown curve "+P.data.algorithm.curve.join("."));var B=new c(k),L=P.data.subjectPrivateKey.data;return B.verify(M,x,L)}(u,l,g)}if(g.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return function(x,M,P){var k=P.data.p,B=P.data.q,L=P.data.g,V=P.data.pub_key,Q=f.signature.decode(x,"der"),ne=Q.s,te=Q.r;m(ne,B),m(te,B);var E=a.mont(k),O=ne.invm(B);return L.toRed(E).redPow(new a(M).mul(O).mod(B)).fromRed().mul(V.toRed(E).redPow(te.mul(O).mod(B)).fromRed()).mod(k).mod(B).cmp(te)===0}(u,l,g)}if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");l=s.concat([p,l]);for(var b=g.modulus.byteLength(),v=[1],_=0;l.length+v.length+2<b;)v.push(255),_+=1;v.push(0);for(var S=-1;++S<l.length;)v.push(l[S]);v=s.from(v);var w=a.mont(g.modulus);u=(u=new a(u).toRed(w)).redPow(new a(g.publicExponent)),u=s.from(u.fromRed().toArray());var D=_<8?1:0;for(b=Math.min(u.length,v.length),u.length!==v.length&&(D=1),S=-1;++S<b;)D|=u[S]^v[S];return D===0}},6876:(r,i,o)=>{var s=o(5832).Buffer;r.exports=function(a,c){for(var f=Math.min(a.length,c.length),y=new s(f),m=0;m<f;++m)y[m]=a[m]^c[m];return y}},5832:(r,i,o)=>{"use strict";function s(R){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},s(R)}var a=o(6775),c=o(2486),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=u,i.SlowBuffer=function(R){return+R!=R&&(R=0),u.alloc(+R)},i.INSPECT_MAX_BYTES=50;var y=2147483647;function m(R){if(R>y)throw new RangeError('The value "'+R+'" is invalid for option "size"');var $=new Uint8Array(R);return Object.setPrototypeOf($,u.prototype),$}function u(R,$,G){if(typeof R=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(R)}return l(R,$,G)}function l(R,$,G){if(typeof R=="string")return function(le,J){if(typeof J=="string"&&J!==""||(J="utf8"),!u.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var re=0|v(le,J),ue=m(re),fe=ue.write(le,J);return fe!==re&&(ue=ue.slice(0,fe)),ue}(R,$);if(ArrayBuffer.isView(R))return function(le){if(U(le,Uint8Array)){var J=new Uint8Array(le);return g(J.buffer,J.byteOffset,J.byteLength)}return p(le)}(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(R));if(U(R,ArrayBuffer)||R&&U(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(R,SharedArrayBuffer)||R&&U(R.buffer,SharedArrayBuffer)))return g(R,$,G);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=R.valueOf&&R.valueOf();if(ie!=null&&ie!==R)return u.from(ie,$,G);var ae=function(le){if(u.isBuffer(le)){var J=0|b(le.length),re=m(J);return re.length===0||le.copy(re,0,0,J),re}return le.length!==void 0?typeof le.length!="number"||Z(le.length)?m(0):p(le):le.type==="Buffer"&&Array.isArray(le.data)?p(le.data):void 0}(R);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return u.from(R[Symbol.toPrimitive]("string"),$,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(R))}function h(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function d(R){return h(R),m(R<0?0:0|b(R))}function p(R){for(var $=R.length<0?0:0|b(R.length),G=m($),ie=0;ie<$;ie+=1)G[ie]=255&R[ie];return G}function g(R,$,G){if($<0||R.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<$+(G||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return ie=$===void 0&&G===void 0?new Uint8Array(R):G===void 0?new Uint8Array(R,$):new Uint8Array(R,$,G),Object.setPrototypeOf(ie,u.prototype),ie}function b(R){if(R>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|R}function v(R,$){if(u.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||U(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(R));var G=R.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&G===0)return 0;for(var ae=!1;;)switch($){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return q(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return X(R).length;default:if(ae)return ie?-1:q(R).length;$=(""+$).toLowerCase(),ae=!0}}function _(R,$,G){var ie=!1;if(($===void 0||$<0)&&($=0),$>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=($>>>=0))return"";for(R||(R="utf8");;)switch(R){case"hex":return E(this,$,G);case"utf8":case"utf-8":return V(this,$,G);case"ascii":return ne(this,$,G);case"latin1":case"binary":return te(this,$,G);case"base64":return L(this,$,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,$,G);default:if(ie)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),ie=!0}}function S(R,$,G){var ie=R[$];R[$]=R[G],R[G]=ie}function w(R,$,G,ie,ae){if(R.length===0)return-1;if(typeof G=="string"?(ie=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Z(G=+G)&&(G=ae?0:R.length-1),G<0&&(G=R.length+G),G>=R.length){if(ae)return-1;G=R.length-1}else if(G<0){if(!ae)return-1;G=0}if(typeof $=="string"&&($=u.from($,ie)),u.isBuffer($))return $.length===0?-1:D(R,$,G,ie,ae);if(typeof $=="number")return $&=255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(R,$,G):Uint8Array.prototype.lastIndexOf.call(R,$,G):D(R,[$],G,ie,ae);throw new TypeError("val must be string, number or Buffer")}function D(R,$,G,ie,ae){var le,J=1,re=R.length,ue=$.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(R.length<2||$.length<2)return-1;J=2,re/=2,ue/=2,G/=2}function fe(Ce,we){return J===1?Ce[we]:Ce.readUInt16BE(we*J)}if(ae){var de=-1;for(le=G;le<re;le++)if(fe(R,le)===fe($,de===-1?0:le-de)){if(de===-1&&(de=le),le-de+1===ue)return de*J}else de!==-1&&(le-=le-de),de=-1}else for(G+ue>re&&(G=re-ue),le=G;le>=0;le--){for(var se=!0,Ie=0;Ie<ue;Ie++)if(fe(R,le+Ie)!==fe($,Ie)){se=!1;break}if(se)return le}return-1}function x(R,$,G,ie){G=Number(G)||0;var ae=R.length-G;ie?(ie=Number(ie))>ae&&(ie=ae):ie=ae;var le=$.length;ie>le/2&&(ie=le/2);for(var J=0;J<ie;++J){var re=parseInt($.substr(2*J,2),16);if(Z(re))return J;R[G+J]=re}return J}function M(R,$,G,ie){return z(q($,R.length-G),R,G,ie)}function P(R,$,G,ie){return z(function(ae){for(var le=[],J=0;J<ae.length;++J)le.push(255&ae.charCodeAt(J));return le}($),R,G,ie)}function k(R,$,G,ie){return z(X($),R,G,ie)}function B(R,$,G,ie){return z(function(ae,le){for(var J,re,ue,fe=[],de=0;de<ae.length&&!((le-=2)<0);++de)re=(J=ae.charCodeAt(de))>>8,ue=J%256,fe.push(ue),fe.push(re);return fe}($,R.length-G),R,G,ie)}function L(R,$,G){return $===0&&G===R.length?a.fromByteArray(R):a.fromByteArray(R.slice($,G))}function V(R,$,G){G=Math.min(R.length,G);for(var ie=[],ae=$;ae<G;){var le,J,re,ue,fe=R[ae],de=null,se=fe>239?4:fe>223?3:fe>191?2:1;if(ae+se<=G)switch(se){case 1:fe<128&&(de=fe);break;case 2:(192&(le=R[ae+1]))==128&&(ue=(31&fe)<<6|63&le)>127&&(de=ue);break;case 3:le=R[ae+1],J=R[ae+2],(192&le)==128&&(192&J)==128&&(ue=(15&fe)<<12|(63&le)<<6|63&J)>2047&&(ue<55296||ue>57343)&&(de=ue);break;case 4:le=R[ae+1],J=R[ae+2],re=R[ae+3],(192&le)==128&&(192&J)==128&&(192&re)==128&&(ue=(15&fe)<<18|(63&le)<<12|(63&J)<<6|63&re)>65535&&ue<1114112&&(de=ue)}de===null?(de=65533,se=1):de>65535&&(de-=65536,ie.push(de>>>10&1023|55296),de=56320|1023&de),ie.push(de),ae+=se}return function(Ie){var Ce=Ie.length;if(Ce<=Q)return String.fromCharCode.apply(String,Ie);for(var we="",Te=0;Te<Ce;)we+=String.fromCharCode.apply(String,Ie.slice(Te,Te+=Q));return we}(ie)}i.kMaxLength=y,u.TYPED_ARRAY_SUPPORT=function(){try{var R=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(R,$),R.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(R,$,G){return l(R,$,G)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(R,$,G){return function(ie,ae,le){return h(ie),ie<=0?m(ie):ae!==void 0?typeof le=="string"?m(ie).fill(ae,le):m(ie).fill(ae):m(ie)}(R,$,G)},u.allocUnsafe=function(R){return d(R)},u.allocUnsafeSlow=function(R){return d(R)},u.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==u.prototype},u.compare=function(R,$){if(U(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),U($,Uint8Array)&&($=u.from($,$.offset,$.byteLength)),!u.isBuffer(R)||!u.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===$)return 0;for(var G=R.length,ie=$.length,ae=0,le=Math.min(G,ie);ae<le;++ae)if(R[ae]!==$[ae]){G=R[ae],ie=$[ae];break}return G<ie?-1:ie<G?1:0},u.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(R,$){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return u.alloc(0);var G;if($===void 0)for($=0,G=0;G<R.length;++G)$+=R[G].length;var ie=u.allocUnsafe($),ae=0;for(G=0;G<R.length;++G){var le=R[G];if(U(le,Uint8Array))ae+le.length>ie.length?u.from(le).copy(ie,ae):Uint8Array.prototype.set.call(ie,le,ae);else{if(!u.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy(ie,ae)}ae+=le.length}return ie},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var R=this.length;if(R%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<R;$+=2)S(this,$,$+1);return this},u.prototype.swap32=function(){var R=this.length;if(R%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<R;$+=4)S(this,$,$+3),S(this,$+1,$+2);return this},u.prototype.swap64=function(){var R=this.length;if(R%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<R;$+=8)S(this,$,$+7),S(this,$+1,$+6),S(this,$+2,$+5),S(this,$+3,$+4);return this},u.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?V(this,0,R):_.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(R){if(!u.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R||u.compare(this,R)===0},u.prototype.inspect=function(){var R="",$=i.INSPECT_MAX_BYTES;return R=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(R+=" ... "),"<Buffer "+R+">"},f&&(u.prototype[f]=u.prototype.inspect),u.prototype.compare=function(R,$,G,ie,ae){if(U(R,Uint8Array)&&(R=u.from(R,R.offset,R.byteLength)),!u.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(R));if($===void 0&&($=0),G===void 0&&(G=R?R.length:0),ie===void 0&&(ie=0),ae===void 0&&(ae=this.length),$<0||G>R.length||ie<0||ae>this.length)throw new RangeError("out of range index");if(ie>=ae&&$>=G)return 0;if(ie>=ae)return-1;if($>=G)return 1;if(this===R)return 0;for(var le=(ae>>>=0)-(ie>>>=0),J=(G>>>=0)-($>>>=0),re=Math.min(le,J),ue=this.slice(ie,ae),fe=R.slice($,G),de=0;de<re;++de)if(ue[de]!==fe[de]){le=ue[de],J=fe[de];break}return le<J?-1:J<le?1:0},u.prototype.includes=function(R,$,G){return this.indexOf(R,$,G)!==-1},u.prototype.indexOf=function(R,$,G){return w(this,R,$,G,!0)},u.prototype.lastIndexOf=function(R,$,G){return w(this,R,$,G,!1)},u.prototype.write=function(R,$,G,ie){if($===void 0)ie="utf8",G=this.length,$=0;else if(G===void 0&&typeof $=="string")ie=$,G=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(G)?(G>>>=0,ie===void 0&&(ie="utf8")):(ie=G,G=void 0)}var ae=this.length-$;if((G===void 0||G>ae)&&(G=ae),R.length>0&&(G<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var le=!1;;)switch(ie){case"hex":return x(this,R,$,G);case"utf8":case"utf-8":return M(this,R,$,G);case"ascii":case"latin1":case"binary":return P(this,R,$,G);case"base64":return k(this,R,$,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,R,$,G);default:if(le)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),le=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function ne(R,$,G){var ie="";G=Math.min(R.length,G);for(var ae=$;ae<G;++ae)ie+=String.fromCharCode(127&R[ae]);return ie}function te(R,$,G){var ie="";G=Math.min(R.length,G);for(var ae=$;ae<G;++ae)ie+=String.fromCharCode(R[ae]);return ie}function E(R,$,G){var ie=R.length;(!$||$<0)&&($=0),(!G||G<0||G>ie)&&(G=ie);for(var ae="",le=$;le<G;++le)ae+=ee[R[le]];return ae}function O(R,$,G){for(var ie=R.slice($,G),ae="",le=0;le<ie.length-1;le+=2)ae+=String.fromCharCode(ie[le]+256*ie[le+1]);return ae}function C(R,$,G){if(R%1!=0||R<0)throw new RangeError("offset is not uint");if(R+$>G)throw new RangeError("Trying to access beyond buffer length")}function I(R,$,G,ie,ae,le){if(!u.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if($>ae||$<le)throw new RangeError('"value" argument is out of bounds');if(G+ie>R.length)throw new RangeError("Index out of range")}function T(R,$,G,ie,ae,le){if(G+ie>R.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function N(R,$,G,ie,ae){return $=+$,G>>>=0,ae||T(R,0,G,4),c.write(R,$,G,ie,23,4),G+4}function j(R,$,G,ie,ae){return $=+$,G>>>=0,ae||T(R,0,G,8),c.write(R,$,G,ie,52,8),G+8}u.prototype.slice=function(R,$){var G=this.length;(R=~~R)<0?(R+=G)<0&&(R=0):R>G&&(R=G),($=$===void 0?G:~~$)<0?($+=G)<0&&($=0):$>G&&($=G),$<R&&($=R);var ie=this.subarray(R,$);return Object.setPrototypeOf(ie,u.prototype),ie},u.prototype.readUintLE=u.prototype.readUIntLE=function(R,$,G){R>>>=0,$>>>=0,G||C(R,$,this.length);for(var ie=this[R],ae=1,le=0;++le<$&&(ae*=256);)ie+=this[R+le]*ae;return ie},u.prototype.readUintBE=u.prototype.readUIntBE=function(R,$,G){R>>>=0,$>>>=0,G||C(R,$,this.length);for(var ie=this[R+--$],ae=1;$>0&&(ae*=256);)ie+=this[R+--$]*ae;return ie},u.prototype.readUint8=u.prototype.readUInt8=function(R,$){return R>>>=0,$||C(R,1,this.length),this[R]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(R,$){return R>>>=0,$||C(R,2,this.length),this[R]|this[R+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(R,$){return R>>>=0,$||C(R,2,this.length),this[R]<<8|this[R+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(R,$){return R>>>=0,$||C(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+16777216*this[R+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(R,$){return R>>>=0,$||C(R,4,this.length),16777216*this[R]+(this[R+1]<<16|this[R+2]<<8|this[R+3])},u.prototype.readIntLE=function(R,$,G){R>>>=0,$>>>=0,G||C(R,$,this.length);for(var ie=this[R],ae=1,le=0;++le<$&&(ae*=256);)ie+=this[R+le]*ae;return ie>=(ae*=128)&&(ie-=Math.pow(2,8*$)),ie},u.prototype.readIntBE=function(R,$,G){R>>>=0,$>>>=0,G||C(R,$,this.length);for(var ie=$,ae=1,le=this[R+--ie];ie>0&&(ae*=256);)le+=this[R+--ie]*ae;return le>=(ae*=128)&&(le-=Math.pow(2,8*$)),le},u.prototype.readInt8=function(R,$){return R>>>=0,$||C(R,1,this.length),128&this[R]?-1*(255-this[R]+1):this[R]},u.prototype.readInt16LE=function(R,$){R>>>=0,$||C(R,2,this.length);var G=this[R]|this[R+1]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt16BE=function(R,$){R>>>=0,$||C(R,2,this.length);var G=this[R+1]|this[R]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt32LE=function(R,$){return R>>>=0,$||C(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},u.prototype.readInt32BE=function(R,$){return R>>>=0,$||C(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},u.prototype.readFloatLE=function(R,$){return R>>>=0,$||C(R,4,this.length),c.read(this,R,!0,23,4)},u.prototype.readFloatBE=function(R,$){return R>>>=0,$||C(R,4,this.length),c.read(this,R,!1,23,4)},u.prototype.readDoubleLE=function(R,$){return R>>>=0,$||C(R,8,this.length),c.read(this,R,!0,52,8)},u.prototype.readDoubleBE=function(R,$){return R>>>=0,$||C(R,8,this.length),c.read(this,R,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(R,$,G,ie){R=+R,$>>>=0,G>>>=0,ie||I(this,R,$,G,Math.pow(2,8*G)-1,0);var ae=1,le=0;for(this[$]=255&R;++le<G&&(ae*=256);)this[$+le]=R/ae&255;return $+G},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(R,$,G,ie){R=+R,$>>>=0,G>>>=0,ie||I(this,R,$,G,Math.pow(2,8*G)-1,0);var ae=G-1,le=1;for(this[$+ae]=255&R;--ae>=0&&(le*=256);)this[$+ae]=R/le&255;return $+G},u.prototype.writeUint8=u.prototype.writeUInt8=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,1,255,0),this[$]=255&R,$+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,2,65535,0),this[$]=255&R,this[$+1]=R>>>8,$+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,2,65535,0),this[$]=R>>>8,this[$+1]=255&R,$+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,4,4294967295,0),this[$+3]=R>>>24,this[$+2]=R>>>16,this[$+1]=R>>>8,this[$]=255&R,$+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,4,4294967295,0),this[$]=R>>>24,this[$+1]=R>>>16,this[$+2]=R>>>8,this[$+3]=255&R,$+4},u.prototype.writeIntLE=function(R,$,G,ie){if(R=+R,$>>>=0,!ie){var ae=Math.pow(2,8*G-1);I(this,R,$,G,ae-1,-ae)}var le=0,J=1,re=0;for(this[$]=255&R;++le<G&&(J*=256);)R<0&&re===0&&this[$+le-1]!==0&&(re=1),this[$+le]=(R/J|0)-re&255;return $+G},u.prototype.writeIntBE=function(R,$,G,ie){if(R=+R,$>>>=0,!ie){var ae=Math.pow(2,8*G-1);I(this,R,$,G,ae-1,-ae)}var le=G-1,J=1,re=0;for(this[$+le]=255&R;--le>=0&&(J*=256);)R<0&&re===0&&this[$+le+1]!==0&&(re=1),this[$+le]=(R/J|0)-re&255;return $+G},u.prototype.writeInt8=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,1,127,-128),R<0&&(R=255+R+1),this[$]=255&R,$+1},u.prototype.writeInt16LE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,2,32767,-32768),this[$]=255&R,this[$+1]=R>>>8,$+2},u.prototype.writeInt16BE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,2,32767,-32768),this[$]=R>>>8,this[$+1]=255&R,$+2},u.prototype.writeInt32LE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,4,2147483647,-2147483648),this[$]=255&R,this[$+1]=R>>>8,this[$+2]=R>>>16,this[$+3]=R>>>24,$+4},u.prototype.writeInt32BE=function(R,$,G){return R=+R,$>>>=0,G||I(this,R,$,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[$]=R>>>24,this[$+1]=R>>>16,this[$+2]=R>>>8,this[$+3]=255&R,$+4},u.prototype.writeFloatLE=function(R,$,G){return N(this,R,$,!0,G)},u.prototype.writeFloatBE=function(R,$,G){return N(this,R,$,!1,G)},u.prototype.writeDoubleLE=function(R,$,G){return j(this,R,$,!0,G)},u.prototype.writeDoubleBE=function(R,$,G){return j(this,R,$,!1,G)},u.prototype.copy=function(R,$,G,ie){if(!u.isBuffer(R))throw new TypeError("argument should be a Buffer");if(G||(G=0),ie||ie===0||(ie=this.length),$>=R.length&&($=R.length),$||($=0),ie>0&&ie<G&&(ie=G),ie===G||R.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),R.length-$<ie-G&&(ie=R.length-$+G);var ae=ie-G;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,G,ie):Uint8Array.prototype.set.call(R,this.subarray(G,ie),$),ae},u.prototype.fill=function(R,$,G,ie){if(typeof R=="string"){if(typeof $=="string"?(ie=$,$=0,G=this.length):typeof G=="string"&&(ie=G,G=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!u.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(R.length===1){var ae=R.charCodeAt(0);(ie==="utf8"&&ae<128||ie==="latin1")&&(R=ae)}}else typeof R=="number"?R&=255:typeof R=="boolean"&&(R=Number(R));if($<0||this.length<$||this.length<G)throw new RangeError("Out of range index");if(G<=$)return this;var le;if($>>>=0,G=G===void 0?this.length:G>>>0,R||(R=0),typeof R=="number")for(le=$;le<G;++le)this[le]=R;else{var J=u.isBuffer(R)?R:u.from(R,ie),re=J.length;if(re===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(le=0;le<G-$;++le)this[le+$]=J[le%re]}return this};var H=/[^+/0-9A-Za-z-_]/g;function q(R,$){var G;$=$||1/0;for(var ie=R.length,ae=null,le=[],J=0;J<ie;++J){if((G=R.charCodeAt(J))>55295&&G<57344){if(!ae){if(G>56319){($-=3)>-1&&le.push(239,191,189);continue}if(J+1===ie){($-=3)>-1&&le.push(239,191,189);continue}ae=G;continue}if(G<56320){($-=3)>-1&&le.push(239,191,189),ae=G;continue}G=65536+(ae-55296<<10|G-56320)}else ae&&($-=3)>-1&&le.push(239,191,189);if(ae=null,G<128){if(($-=1)<0)break;le.push(G)}else if(G<2048){if(($-=2)<0)break;le.push(G>>6|192,63&G|128)}else if(G<65536){if(($-=3)<0)break;le.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;le.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return le}function X(R){return a.toByteArray(function($){if(($=($=$.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(R))}function z(R,$,G,ie){for(var ae=0;ae<ie&&!(ae+G>=$.length||ae>=R.length);++ae)$[ae+G]=R[ae];return ae}function U(R,$){return R instanceof $||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===$.name}function Z(R){return R!=R}var ee=function(){for(var R="0123456789abcdef",$=new Array(256),G=0;G<16;++G)for(var ie=16*G,ae=0;ae<16;++ae)$[ie+ae]=R[G]+R[ae];return $}()},5477:(r,i,o)=>{"use strict";var s=o(2354),a=o(3279),c=o(3123),f=o(3388);r.exports=f||s.call(c,a)},5804:(r,i,o)=>{"use strict";var s=o(2354),a=o(3279),c=o(5477);r.exports=function(){return c(s,a,arguments)}},3279:r=>{"use strict";r.exports=Function.prototype.apply},3123:r=>{"use strict";r.exports=Function.prototype.call},8863:(r,i,o)=>{"use strict";var s=o(2354),a=o(2268),c=o(3123),f=o(5477);r.exports=function(y){if(y.length<1||typeof y[0]!="function")throw new a("a function is required");return f(s,c,y)}},3388:r=>{"use strict";r.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},9122:(r,i,o)=>{"use strict";var s=o(3900),a=o(988),c=o(8863),f=o(5804);r.exports=function(y){var m=c(arguments),u=y.length-(arguments.length-1);return s(m,1+(u>0?u:0),!0)},a?a(r.exports,"apply",{value:f}):r.exports.apply=f},3071:(r,i,o)=>{"use strict";var s=o(6400),a=o(8863),c=a([s("%String.prototype.indexOf%")]);r.exports=function(f,y){var m=s(f,!!y);return typeof m=="function"&&c(f,".prototype.")>-1?a([m]):m}},2533:(r,i,o)=>{"use strict";var s=o(9732).Buffer,a=o(7775).Transform,c=o(136).I;function f(u){a.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o(1679)(f,a);var y=typeof Uint8Array<"u",m=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(s.prototype instanceof Uint8Array||s.TYPED_ARRAY_SUPPORT);f.prototype.update=function(u,l,h){var d=function(g,b){if(g instanceof s)return g;if(typeof g=="string")return s.from(g,b);if(m&&ArrayBuffer.isView(g)){if(g.byteLength===0)return s.alloc(0);var v=s.from(g.buffer,g.byteOffset,g.byteLength);if(v.byteLength===g.byteLength)return v}if(y&&g instanceof Uint8Array||s.isBuffer(g)&&g.constructor&&typeof g.constructor.isBuffer=="function"&&g.constructor.isBuffer(g))return s.from(g);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(u,l),p=this._update(d);return this.hashMode?this:(h&&(p=this._toString(p,h)),p)},f.prototype.setAutoPadding=function(){},f.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},f.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},f.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},f.prototype._transform=function(u,l,h){var d;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(p){d=p}finally{h(d)}},f.prototype._flush=function(u){var l;try{this.push(this.__final())}catch(h){l=h}u(l)},f.prototype._finalOrDigest=function(u){var l=this.__final()||s.alloc(0);return u&&(l=this._toString(l,u,!0)),l},f.prototype._toString=function(u,l,h){if(this._decoder||(this._decoder=new c(l),this._encoding=l),this._encoding!==l)throw new Error("can\u2019t switch encodings");var d=this._decoder.write(u);return h&&(d+=this._decoder.end()),d},r.exports=f},7919:(r,i,o)=>{function s(c){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},s(c)}function a(c){return Object.prototype.toString.call(c)}i.isArray=function(c){return Array.isArray?Array.isArray(c):a(c)==="[object Array]"},i.isBoolean=function(c){return typeof c=="boolean"},i.isNull=function(c){return c===null},i.isNullOrUndefined=function(c){return c==null},i.isNumber=function(c){return typeof c=="number"},i.isString=function(c){return typeof c=="string"},i.isSymbol=function(c){return s(c)==="symbol"},i.isUndefined=function(c){return c===void 0},i.isRegExp=function(c){return a(c)==="[object RegExp]"},i.isObject=function(c){return s(c)==="object"&&c!==null},i.isDate=function(c){return a(c)==="[object Date]"},i.isError=function(c){return a(c)==="[object Error]"||c instanceof Error},i.isFunction=function(c){return typeof c=="function"},i.isPrimitive=function(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||s(c)==="symbol"||c===void 0},i.isBuffer=o(5832).Buffer.isBuffer},1005:(r,i,o)=>{var s=o(5832).Buffer,a=o(7312),c=o(7799);r.exports=function(u){return new y(u)};var f={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function y(u){this.curveType=f[u],this.curveType||(this.curveType={name:u}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function m(u,l,h){Array.isArray(u)||(u=u.toArray());var d=new s(u);if(h&&d.length<h){var p=new s(h-d.length);p.fill(0),d=s.concat([p,d])}return l?d.toString(l):d}f.p224=f.secp224r1,f.p256=f.secp256r1=f.prime256v1,f.p192=f.secp192r1=f.prime192v1,f.p384=f.secp384r1,f.p521=f.secp521r1,y.prototype.generateKeys=function(u,l){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,l)},y.prototype.computeSecret=function(u,l,h){return l=l||"utf8",s.isBuffer(u)||(u=new s(u,l)),m(this.curve.keyFromPublic(u).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},y.prototype.getPublicKey=function(u,l){var h=this.keys.getPublic(l==="compressed",!0);return l==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),m(h,u)},y.prototype.getPrivateKey=function(u){return m(this.keys.getPrivate(),u)},y.prototype.setPublicKey=function(u,l){return l=l||"utf8",s.isBuffer(u)||(u=new s(u,l)),this.keys._importPublic(u),this},y.prototype.setPrivateKey=function(u,l){l=l||"utf8",s.isBuffer(u)||(u=new s(u,l));var h=new c(u);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}},5833:(r,i,o)=>{"use strict";var s=o(1679),a=o(2635),c=o(1058),f=o(3261),y=o(2533);function m(u){y.call(this,"digest"),this._hash=u}s(m,y),m.prototype._update=function(u){this._hash.update(u)},m.prototype._final=function(){return this._hash.digest()},r.exports=function(u){return(u=u.toLowerCase())==="md5"?new a:u==="rmd160"||u==="ripemd160"?new c:new m(f(u))}},3989:(r,i,o)=>{var s=o(2635);r.exports=function(a){return new s().update(a).digest()}},2046:(r,i,o)=>{"use strict";var s=o(1679),a=o(6583),c=o(2533),f=o(9732).Buffer,y=o(3989),m=o(1058),u=o(3261),l=f.alloc(128);function h(d,p){c.call(this,"digest"),typeof p=="string"&&(p=f.from(p));var g=d==="sha512"||d==="sha384"?128:64;this._alg=d,this._key=p,p.length>g?p=(d==="rmd160"?new m:u(d)).update(p).digest():p.length<g&&(p=f.concat([p,l],g));for(var b=this._ipad=f.allocUnsafe(g),v=this._opad=f.allocUnsafe(g),_=0;_<g;_++)b[_]=54^p[_],v[_]=92^p[_];this._hash=d==="rmd160"?new m:u(d),this._hash.update(b)}s(h,c),h.prototype._update=function(d){this._hash.update(d)},h.prototype._final=function(){var d=this._hash.digest();return(this._alg==="rmd160"?new m:u(this._alg)).update(this._opad).update(d).digest()},r.exports=function(d,p){return(d=d.toLowerCase())==="rmd160"||d==="ripemd160"?new h("rmd160",p):d==="md5"?new a(y,p):new h(d,p)}},6583:(r,i,o)=>{"use strict";var s=o(1679),a=o(9732).Buffer,c=o(2533),f=a.alloc(128),y=64;function m(u,l){c.call(this,"digest"),typeof l=="string"&&(l=a.from(l)),this._alg=u,this._key=l,l.length>y?l=u(l):l.length<y&&(l=a.concat([l,f],y));for(var h=this._ipad=a.allocUnsafe(y),d=this._opad=a.allocUnsafe(y),p=0;p<y;p++)h[p]=54^l[p],d[p]=92^l[p];this._hash=[h]}s(m,c),m.prototype._update=function(u){this._hash.push(u)},m.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},r.exports=m},8872:(r,i,o)=>{"use strict";i.po=o(4276),o(5833),o(2046);var s=o(4606),a=Object.keys(s),c=(["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a),o(8699));c.pbkdf2,c.pbkdf2Sync;var f=o(9652);f.Cipher,f.createCipher,f.Cipheriv,f.createCipheriv,f.Decipher,f.createDecipher,f.Decipheriv,f.createDecipheriv,f.getCiphers,f.listCiphers;var y=o(9803);y.DiffieHellmanGroup,y.createDiffieHellmanGroup,y.getDiffieHellman,y.createDiffieHellman,y.DiffieHellman;var m=o(7937);m.createSign,m.Sign,m.createVerify,m.Verify,o(1005);var u=o(2327);u.publicEncrypt,u.privateEncrypt,u.publicDecrypt,u.privateDecrypt;var l=o(7952);l.randomFill,l.randomFillSync},6750:(r,i,o)=>{"use strict";function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}var a=o(988),c=o(2288),f=o(2268),y=o(1464);r.exports=function(m,u,l){if(!m||s(m)!=="object"&&typeof m!="function")throw new f("`obj` must be an object or a function`");if(typeof u!="string"&&s(u)!=="symbol")throw new f("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new f("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new f("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new f("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new f("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,g=arguments.length>6&&arguments[6],b=!!y&&y(m,u);if(a)a(m,u,{configurable:p===null&&b?b.configurable:!p,enumerable:h===null&&b?b.enumerable:!h,value:l,writable:d===null&&b?b.writable:!d});else{if(!g&&(h||d||p))throw new c("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");m[u]=l}}},2273:(r,i,o)=>{"use strict";function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}var a=o(668),c=typeof Symbol=="function"&&s(Symbol("foo"))==="symbol",f=Object.prototype.toString,y=Array.prototype.concat,m=o(6750),u=o(3191)(),l=function(d,p,g,b){if(p in d){if(b===!0){if(d[p]===g)return}else if(typeof(v=b)!="function"||f.call(v)!=="[object Function]"||!b())return}var v;u?m(d,p,g,!0):m(d,p,g)},h=function(d,p){var g=arguments.length>2?arguments[2]:{},b=a(p);c&&(b=y.call(b,Object.getOwnPropertySymbols(p)));for(var v=0;v<b.length;v+=1)l(d,b[v],p[b[v]],g[b[v]])};h.supportsDescriptors=!!u,r.exports=h},1471:(r,i,o)=>{"use strict";i.utils=o(9473),i.Cipher=o(365),i.DES=o(1048),i.CBC=o(6754),i.EDE=o(1368)},6754:(r,i,o)=>{"use strict";var s=o(3528),a=o(1679),c={};function f(y){s.equal(y.length,8,"Invalid IV length"),this.iv=new Array(8);for(var m=0;m<this.iv.length;m++)this.iv[m]=y[m]}i.instantiate=function(y){function m(d){y.call(this,d),this._cbcInit()}a(m,y);for(var u=Object.keys(c),l=0;l<u.length;l++){var h=u[l];m.prototype[h]=c[h]}return m.create=function(d){return new m(d)},m},c._cbcInit=function(){var y=new f(this.options.iv);this._cbcState=y},c._update=function(y,m,u,l){var h=this._cbcState,d=this.constructor.super_.prototype,p=h.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)p[g]^=y[m+g];for(d._update.call(this,p,0,u,l),g=0;g<this.blockSize;g++)p[g]=u[l+g]}else{for(d._update.call(this,y,m,u,l),g=0;g<this.blockSize;g++)u[l+g]^=p[g];for(g=0;g<this.blockSize;g++)p[g]=y[m+g]}}},365:(r,i,o)=>{"use strict";var s=o(3528);function a(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}r.exports=a,a.prototype._init=function(){},a.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},a.prototype._buffer=function(c,f){for(var y=Math.min(this.buffer.length-this.bufferOff,c.length-f),m=0;m<y;m++)this.buffer[this.bufferOff+m]=c[f+m];return this.bufferOff+=y,y},a.prototype._flushBuffer=function(c,f){return this._update(this.buffer,0,c,f),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(c){var f=0,y=0,m=(this.bufferOff+c.length)/this.blockSize|0,u=new Array(m*this.blockSize);this.bufferOff!==0&&(f+=this._buffer(c,f),this.bufferOff===this.buffer.length&&(y+=this._flushBuffer(u,y)));for(var l=c.length-(c.length-f)%this.blockSize;f<l;f+=this.blockSize)this._update(c,f,u,y),y+=this.blockSize;for(;f<c.length;f++,this.bufferOff++)this.buffer[this.bufferOff]=c[f];return u},a.prototype._updateDecrypt=function(c){for(var f=0,y=0,m=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,u=new Array(m*this.blockSize);m>0;m--)f+=this._buffer(c,f),y+=this._flushBuffer(u,y);return f+=this._buffer(c,f),u},a.prototype.final=function(c){var f,y;return c&&(f=this.update(c)),y=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),f?f.concat(y):y},a.prototype._pad=function(c,f){if(f===0)return!1;for(;f<c.length;)c[f++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},a.prototype._unpad=function(c){return c},a.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},1048:(r,i,o)=>{"use strict";var s=o(3528),a=o(1679),c=o(9473),f=o(365);function y(){this.tmp=new Array(2),this.keys=null}function m(l){f.call(this,l);var h=new y;this._desState=h,this.deriveKeys(h,l.key)}a(m,f),r.exports=m,m.create=function(l){return new m(l)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];m.prototype.deriveKeys=function(l,h){l.keys=new Array(32),s.equal(h.length,this.blockSize,"Invalid key length");var d=c.readUInt32BE(h,0),p=c.readUInt32BE(h,4);c.pc1(d,p,l.tmp,0),d=l.tmp[0],p=l.tmp[1];for(var g=0;g<l.keys.length;g+=2){var b=u[g>>>1];d=c.r28shl(d,b),p=c.r28shl(p,b),c.pc2(d,p,l.keys,g)}},m.prototype._update=function(l,h,d,p){var g=this._desState,b=c.readUInt32BE(l,h),v=c.readUInt32BE(l,h+4);c.ip(b,v,g.tmp,0),b=g.tmp[0],v=g.tmp[1],this.type==="encrypt"?this._encrypt(g,b,v,g.tmp,0):this._decrypt(g,b,v,g.tmp,0),b=g.tmp[0],v=g.tmp[1],c.writeUInt32BE(d,b,p),c.writeUInt32BE(d,v,p+4)},m.prototype._pad=function(l,h){if(this.padding===!1)return!1;for(var d=l.length-h,p=h;p<l.length;p++)l[p]=d;return!0},m.prototype._unpad=function(l){if(this.padding===!1)return l;for(var h=l[l.length-1],d=l.length-h;d<l.length;d++)s.equal(l[d],h);return l.slice(0,l.length-h)},m.prototype._encrypt=function(l,h,d,p,g){for(var b=h,v=d,_=0;_<l.keys.length;_+=2){var S=l.keys[_],w=l.keys[_+1];c.expand(v,l.tmp,0),S^=l.tmp[0],w^=l.tmp[1];var D=c.substitute(S,w),x=v;v=(b^c.permute(D))>>>0,b=x}c.rip(v,b,p,g)},m.prototype._decrypt=function(l,h,d,p,g){for(var b=d,v=h,_=l.keys.length-2;_>=0;_-=2){var S=l.keys[_],w=l.keys[_+1];c.expand(b,l.tmp,0),S^=l.tmp[0],w^=l.tmp[1];var D=c.substitute(S,w),x=b;b=(v^c.permute(D))>>>0,v=x}c.rip(b,v,p,g)}},1368:(r,i,o)=>{"use strict";var s=o(3528),a=o(1679),c=o(365),f=o(1048);function y(u,l){s.equal(l.length,24,"Invalid key length");var h=l.slice(0,8),d=l.slice(8,16),p=l.slice(16,24);this.ciphers=u==="encrypt"?[f.create({type:"encrypt",key:h}),f.create({type:"decrypt",key:d}),f.create({type:"encrypt",key:p})]:[f.create({type:"decrypt",key:p}),f.create({type:"encrypt",key:d}),f.create({type:"decrypt",key:h})]}function m(u){c.call(this,u);var l=new y(this.type,this.options.key);this._edeState=l}a(m,c),r.exports=m,m.create=function(u){return new m(u)},m.prototype._update=function(u,l,h,d){var p=this._edeState;p.ciphers[0]._update(u,l,h,d),p.ciphers[1]._update(h,d,h,d),p.ciphers[2]._update(h,d,h,d)},m.prototype._pad=f.prototype._pad,m.prototype._unpad=f.prototype._unpad},9473:(r,i)=>{"use strict";i.readUInt32BE=function(c,f){return(c[0+f]<<24|c[1+f]<<16|c[2+f]<<8|c[3+f])>>>0},i.writeUInt32BE=function(c,f,y){c[0+y]=f>>>24,c[1+y]=f>>>16&255,c[2+y]=f>>>8&255,c[3+y]=255&f},i.ip=function(c,f,y,m){for(var u=0,l=0,h=6;h>=0;h-=2){for(var d=0;d<=24;d+=8)u<<=1,u|=f>>>d+h&1;for(d=0;d<=24;d+=8)u<<=1,u|=c>>>d+h&1}for(h=6;h>=0;h-=2){for(d=1;d<=25;d+=8)l<<=1,l|=f>>>d+h&1;for(d=1;d<=25;d+=8)l<<=1,l|=c>>>d+h&1}y[m+0]=u>>>0,y[m+1]=l>>>0},i.rip=function(c,f,y,m){for(var u=0,l=0,h=0;h<4;h++)for(var d=24;d>=0;d-=8)u<<=1,u|=f>>>d+h&1,u<<=1,u|=c>>>d+h&1;for(h=4;h<8;h++)for(d=24;d>=0;d-=8)l<<=1,l|=f>>>d+h&1,l<<=1,l|=c>>>d+h&1;y[m+0]=u>>>0,y[m+1]=l>>>0},i.pc1=function(c,f,y,m){for(var u=0,l=0,h=7;h>=5;h--){for(var d=0;d<=24;d+=8)u<<=1,u|=f>>d+h&1;for(d=0;d<=24;d+=8)u<<=1,u|=c>>d+h&1}for(d=0;d<=24;d+=8)u<<=1,u|=f>>d+h&1;for(h=1;h<=3;h++){for(d=0;d<=24;d+=8)l<<=1,l|=f>>d+h&1;for(d=0;d<=24;d+=8)l<<=1,l|=c>>d+h&1}for(d=0;d<=24;d+=8)l<<=1,l|=c>>d+h&1;y[m+0]=u>>>0,y[m+1]=l>>>0},i.r28shl=function(c,f){return c<<f&268435455|c>>>28-f};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(c,f,y,m){for(var u=0,l=0,h=o.length>>>1,d=0;d<h;d++)u<<=1,u|=c>>>o[d]&1;for(d=h;d<o.length;d++)l<<=1,l|=f>>>o[d]&1;y[m+0]=u>>>0,y[m+1]=l>>>0},i.expand=function(c,f,y){var m=0,u=0;m=(1&c)<<5|c>>>27;for(var l=23;l>=15;l-=4)m<<=6,m|=c>>>l&63;for(l=11;l>=3;l-=4)u|=c>>>l&63,u<<=6;u|=(31&c)<<1|c>>>31,f[y+0]=m>>>0,f[y+1]=u>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(c,f){for(var y=0,m=0;m<4;m++)y<<=4,y|=s[64*m+(c>>>18-6*m&63)];for(m=0;m<4;m++)y<<=4,y|=s[256+64*m+(f>>>18-6*m&63)];return y>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(c){for(var f=0,y=0;y<a.length;y++)f<<=1,f|=c>>>a[y]&1;return f>>>0},i.padSplit=function(c,f,y){for(var m=c.toString(2);m.length<f;)m="0"+m;for(var u=[],l=0;l<f;l+=y)u.push(m.slice(l,l+y));return u.join(" ")}},9803:(r,i,o)=>{var s=o(5832).Buffer,a=o(1673),c=o(3241),f=o(8151),y={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(m){var u=new s(c[m].prime,"hex"),l=new s(c[m].gen,"hex");return new f(u,l)},i.createDiffieHellman=i.DiffieHellman=function m(u,l,h,d){return s.isBuffer(l)||y[l]===void 0?m(u,"binary",l,h):(l=l||"binary",d=d||"binary",h=h||new s([2]),s.isBuffer(h)||(h=new s(h,d)),typeof u=="number"?new f(a(u,h),h,!0):(s.isBuffer(u)||(u=new s(u,l)),new f(u,h,!0)))}},8151:(r,i,o)=>{var s=o(5832).Buffer,a=o(7799),c=new(o(1257)),f=new a(24),y=new a(11),m=new a(10),u=new a(3),l=new a(7),h=o(1673),d=o(4276);function p(S,w){return w=w||"utf8",s.isBuffer(S)||(S=new s(S,w)),this._pub=new a(S),this}function g(S,w){return w=w||"utf8",s.isBuffer(S)||(S=new s(S,w)),this._priv=new a(S),this}r.exports=v;var b={};function v(S,w,D){this.setGenerator(w),this.__prime=new a(S),this._prime=a.mont(this.__prime),this._primeLen=S.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=p,this.setPrivateKey=g):this._primeCode=8}function _(S,w){var D=new s(S.toArray());return w?D.toString(w):D}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(S,w){var D=w.toString("hex"),x=[D,S.toString(16)].join("_");if(x in b)return b[x];var M,P=0;if(S.isEven()||!h.simpleSieve||!h.fermatTest(S)||!c.test(S))return P+=1,P+=D==="02"||D==="05"?8:4,b[x]=P,P;switch(c.test(S.shrn(1))||(P+=2),D){case"02":S.mod(f).cmp(y)&&(P+=8);break;case"05":(M=S.mod(m)).cmp(u)&&M.cmp(l)&&(P+=8);break;default:P+=4}return b[x]=P,P}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new a(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(S){var w=(S=(S=new a(S)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new s(w.toArray()),x=this.getPrime();if(D.length<x.length){var M=new s(x.length-D.length);M.fill(0),D=s.concat([M,D])}return D},v.prototype.getPublicKey=function(S){return _(this._pub,S)},v.prototype.getPrivateKey=function(S){return _(this._priv,S)},v.prototype.getPrime=function(S){return _(this.__prime,S)},v.prototype.getGenerator=function(S){return _(this._gen,S)},v.prototype.setGenerator=function(S,w){return w=w||"utf8",s.isBuffer(S)||(S=new s(S,w)),this.__gen=S,this._gen=new a(S),this}},1673:(r,i,o)=>{var s=o(4276);r.exports=S,S.simpleSieve=v,S.fermatTest=_;var a=o(7799),c=new a(24),f=new(o(1257)),y=new a(1),m=new a(2),u=new a(5),l=(new a(16),new a(8),new a(10)),h=new a(3),d=(new a(7),new a(11)),p=new a(4),g=(new a(12),null);function b(){if(g!==null)return g;var w=[];w[0]=2;for(var D=1,x=3;x<1048576;x+=2){for(var M=Math.ceil(Math.sqrt(x)),P=0;P<D&&w[P]<=M&&x%w[P]!=0;P++);D!==P&&w[P]<=M||(w[D++]=x)}return g=w,w}function v(w){for(var D=b(),x=0;x<D.length;x++)if(w.modn(D[x])===0)return w.cmpn(D[x])===0;return!0}function _(w){var D=a.mont(w);return m.toRed(D).redPow(w.subn(1)).fromRed().cmpn(1)===0}function S(w,D){if(w<16)return new a(D===2||D===5?[140,123]:[140,39]);var x,M;for(D=new a(D);;){for(x=new a(s(Math.ceil(w/8)));x.bitLength()>w;)x.ishrn(1);if(x.isEven()&&x.iadd(y),x.testn(1)||x.iadd(m),D.cmp(m)){if(!D.cmp(u))for(;x.mod(l).cmp(h);)x.iadd(p)}else for(;x.mod(c).cmp(d);)x.iadd(p);if(v(M=x.shrn(1))&&v(x)&&_(M)&&_(x)&&f.test(M)&&f.test(x))return x}}},8964:(r,i,o)=>{"use strict";function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(l)}var a,c=o(8863),f=o(1464);try{a=[].__proto__===Array.prototype}catch(l){if(!l||s(l)!=="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var y=!!a&&f&&f(Object.prototype,"__proto__"),m=Object,u=m.getPrototypeOf;r.exports=y&&typeof y.get=="function"?c([y.get]):typeof u=="function"&&function(l){return u(l==null?l:m(l))}},7312:(r,i,o)=>{"use strict";var s=i;s.version=o(1636).rE,s.utils=o(1970),s.rand=o(8904),s.curve=o(5803),s.curves=o(6379),s.ec=o(7416),s.eddsa=o(4919)},3334:(r,i,o)=>{"use strict";var s=o(7799),a=o(1970),c=a.getNAF,f=a.getJSF,y=a.assert;function m(l,h){this.type=l,this.p=new s(h.p,16),this.red=h.prime?s.red(h.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=h.n&&new s(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(l,h){this.curve=l,this.type=h,this.precomputed=null}r.exports=m,m.prototype.point=function(){throw new Error("Not implemented")},m.prototype.validate=function(){throw new Error("Not implemented")},m.prototype._fixedNafMul=function(l,h){y(l.precomputed);var d=l._getDoubles(),p=c(h,1,this._bitLength),g=(1<<d.step+1)-(d.step%2==0?2:1);g/=3;var b,v,_=[];for(b=0;b<p.length;b+=d.step){v=0;for(var S=b+d.step-1;S>=b;S--)v=(v<<1)+p[S];_.push(v)}for(var w=this.jpoint(null,null,null),D=this.jpoint(null,null,null),x=g;x>0;x--){for(b=0;b<_.length;b++)(v=_[b])===x?D=D.mixedAdd(d.points[b]):v===-x&&(D=D.mixedAdd(d.points[b].neg()));w=w.add(D)}return w.toP()},m.prototype._wnafMul=function(l,h){var d=4,p=l._getNAFPoints(d);d=p.wnd;for(var g=p.points,b=c(h,d,this._bitLength),v=this.jpoint(null,null,null),_=b.length-1;_>=0;_--){for(var S=0;_>=0&&b[_]===0;_--)S++;if(_>=0&&S++,v=v.dblp(S),_<0)break;var w=b[_];y(w!==0),v=l.type==="affine"?w>0?v.mixedAdd(g[w-1>>1]):v.mixedAdd(g[-w-1>>1].neg()):w>0?v.add(g[w-1>>1]):v.add(g[-w-1>>1].neg())}return l.type==="affine"?v.toP():v},m.prototype._wnafMulAdd=function(l,h,d,p,g){var b,v,_,S=this._wnafT1,w=this._wnafT2,D=this._wnafT3,x=0;for(b=0;b<p;b++){var M=(_=h[b])._getNAFPoints(l);S[b]=M.wnd,w[b]=M.points}for(b=p-1;b>=1;b-=2){var P=b-1,k=b;if(S[P]===1&&S[k]===1){var B=[h[P],null,null,h[k]];h[P].y.cmp(h[k].y)===0?(B[1]=h[P].add(h[k]),B[2]=h[P].toJ().mixedAdd(h[k].neg())):h[P].y.cmp(h[k].y.redNeg())===0?(B[1]=h[P].toJ().mixedAdd(h[k]),B[2]=h[P].add(h[k].neg())):(B[1]=h[P].toJ().mixedAdd(h[k]),B[2]=h[P].toJ().mixedAdd(h[k].neg()));var L=[-3,-1,-5,-7,0,7,5,1,3],V=f(d[P],d[k]);for(x=Math.max(V[0].length,x),D[P]=new Array(x),D[k]=new Array(x),v=0;v<x;v++){var Q=0|V[0][v],ne=0|V[1][v];D[P][v]=L[3*(Q+1)+(ne+1)],D[k][v]=0,w[P]=B}}else D[P]=c(d[P],S[P],this._bitLength),D[k]=c(d[k],S[k],this._bitLength),x=Math.max(D[P].length,x),x=Math.max(D[k].length,x)}var te=this.jpoint(null,null,null),E=this._wnafT4;for(b=x;b>=0;b--){for(var O=0;b>=0;){var C=!0;for(v=0;v<p;v++)E[v]=0|D[v][b],E[v]!==0&&(C=!1);if(!C)break;O++,b--}if(b>=0&&O++,te=te.dblp(O),b<0)break;for(v=0;v<p;v++){var I=E[v];I!==0&&(I>0?_=w[v][I-1>>1]:I<0&&(_=w[v][-I-1>>1].neg()),te=_.type==="affine"?te.mixedAdd(_):te.add(_))}}for(b=0;b<p;b++)w[b]=null;return g?te:te.toP()},m.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},m.prototype.decodePoint=function(l,h){l=a.toArray(l,h);var d=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1==2*d)return l[0]===6?y(l[l.length-1]%2==0):l[0]===7&&y(l[l.length-1]%2==1),this.point(l.slice(1,1+d),l.slice(1+d,1+2*d));if((l[0]===2||l[0]===3)&&l.length-1===d)return this.pointFromX(l.slice(1,1+d),l[0]===3);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(l){return this.encode(l,!0)},u.prototype._encode=function(l){var h=this.curve.p.byteLength(),d=this.getX().toArray("be",h);return l?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",h))},u.prototype.encode=function(l,h){return a.encode(this._encode(h),l)},u.prototype.precompute=function(l){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,l),h.beta=this._getBeta(),this.precomputed=h,this},u.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((l.bitLength()+1)/h.step)},u.prototype._getDoubles=function(l,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],p=this,g=0;g<h;g+=l){for(var b=0;b<l;b++)p=p.dbl();d.push(p)}return{step:l,points:d}},u.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],d=(1<<l)-1,p=d===1?null:this.dbl(),g=1;g<d;g++)h[g]=h[g-1].add(p);return{wnd:l,points:h}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(l){for(var h=this,d=0;d<l;d++)h=h.dbl();return h}},9723:(r,i,o)=>{"use strict";var s=o(1970),a=o(7799),c=o(1679),f=o(3334),y=s.assert;function m(l){this.twisted=(0|l.a)!=1,this.mOneA=this.twisted&&(0|l.a)==-1,this.extended=this.mOneA,f.call(this,"edwards",l),this.a=new a(l.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(l.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(l.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),y(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|l.c)==1}function u(l,h,d,p,g){f.BasePoint.call(this,l,"projective"),h===null&&d===null&&p===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(h,16),this.y=new a(d,16),this.z=p?new a(p,16):this.curve.one,this.t=g&&new a(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(m,f),r.exports=m,m.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},m.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},m.prototype.jpoint=function(l,h,d,p){return this.point(l,h,d,p)},m.prototype.pointFromX=function(l,h){(l=new a(l,16)).red||(l=l.toRed(this.red));var d=l.redSqr(),p=this.c2.redSub(this.a.redMul(d)),g=this.one.redSub(this.c2.redMul(this.d).redMul(d)),b=p.redMul(g.redInvm()),v=b.redSqrt();if(v.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var _=v.fromRed().isOdd();return(h&&!_||!h&&_)&&(v=v.redNeg()),this.point(l,v)},m.prototype.pointFromY=function(l,h){(l=new a(l,16)).red||(l=l.toRed(this.red));var d=l.redSqr(),p=d.redSub(this.c2),g=d.redMul(this.d).redMul(this.c2).redSub(this.a),b=p.redMul(g.redInvm());if(b.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,l)}var v=b.redSqrt();if(v.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==h&&(v=v.redNeg()),this.point(v,l)},m.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var h=l.x.redSqr(),d=l.y.redSqr(),p=h.redMul(this.a).redAdd(d),g=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(d)));return p.cmp(g)===0},c(u,f.BasePoint),m.prototype.pointFromJSON=function(l){return u.fromJSON(this,l)},m.prototype.point=function(l,h,d,p){return new u(this,l,h,d,p)},u.fromJSON=function(l,h){return new u(l,h[0],h[1],h[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},u.prototype._extDbl=function(){var l=this.x.redSqr(),h=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var p=this.curve._mulA(l),g=this.x.redAdd(this.y).redSqr().redISub(l).redISub(h),b=p.redAdd(h),v=b.redSub(d),_=p.redSub(h),S=g.redMul(v),w=b.redMul(_),D=g.redMul(_),x=v.redMul(b);return this.curve.point(S,w,x,D)},u.prototype._projDbl=function(){var l,h,d,p,g,b,v=this.x.redAdd(this.y).redSqr(),_=this.x.redSqr(),S=this.y.redSqr();if(this.curve.twisted){var w=(p=this.curve._mulA(_)).redAdd(S);this.zOne?(l=v.redSub(_).redSub(S).redMul(w.redSub(this.curve.two)),h=w.redMul(p.redSub(S)),d=w.redSqr().redSub(w).redSub(w)):(g=this.z.redSqr(),b=w.redSub(g).redISub(g),l=v.redSub(_).redISub(S).redMul(b),h=w.redMul(p.redSub(S)),d=w.redMul(b))}else p=_.redAdd(S),g=this.curve._mulC(this.z).redSqr(),b=p.redSub(g).redSub(g),l=this.curve._mulC(v.redISub(p)).redMul(b),h=this.curve._mulC(p).redMul(_.redISub(S)),d=p.redMul(b);return this.curve.point(l,h,d)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(l){var h=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),d=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),p=this.t.redMul(this.curve.dd).redMul(l.t),g=this.z.redMul(l.z.redAdd(l.z)),b=d.redSub(h),v=g.redSub(p),_=g.redAdd(p),S=d.redAdd(h),w=b.redMul(v),D=_.redMul(S),x=b.redMul(S),M=v.redMul(_);return this.curve.point(w,D,M,x)},u.prototype._projAdd=function(l){var h,d,p=this.z.redMul(l.z),g=p.redSqr(),b=this.x.redMul(l.x),v=this.y.redMul(l.y),_=this.curve.d.redMul(b).redMul(v),S=g.redSub(_),w=g.redAdd(_),D=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(b).redISub(v),x=p.redMul(S).redMul(D);return this.curve.twisted?(h=p.redMul(w).redMul(v.redSub(this.curve._mulA(b))),d=S.redMul(w)):(h=p.redMul(w).redMul(v.redSub(b)),d=this.curve._mulC(S).redMul(w)),this.curve.point(x,h,d)},u.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},u.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},u.prototype.mulAdd=function(l,h,d){return this.curve._wnafMulAdd(1,[this,h],[l,d],2,!1)},u.prototype.jmulAdd=function(l,h,d){return this.curve._wnafMulAdd(1,[this,h],[l,d],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},u.prototype.eqXToP=function(l){var h=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var d=l.clone(),p=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(p),this.x.cmp(h)===0)return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},5803:(r,i,o)=>{"use strict";var s=i;s.base=o(3334),s.short=o(5045),s.mont=o(3453),s.edwards=o(9723)},3453:(r,i,o)=>{"use strict";var s=o(7799),a=o(1679),c=o(3334),f=o(1970);function y(u){c.call(this,"mont",u),this.a=new s(u.a,16).toRed(this.red),this.b=new s(u.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function m(u,l,h){c.BasePoint.call(this,u,"projective"),l===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(l,16),this.z=new s(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(y,c),r.exports=y,y.prototype.validate=function(u){var l=u.normalize().x,h=l.redSqr(),d=h.redMul(l).redAdd(h.redMul(this.a)).redAdd(l);return d.redSqrt().redSqr().cmp(d)===0},a(m,c.BasePoint),y.prototype.decodePoint=function(u,l){return this.point(f.toArray(u,l),1)},y.prototype.point=function(u,l){return new m(this,u,l)},y.prototype.pointFromJSON=function(u){return m.fromJSON(this,u)},m.prototype.precompute=function(){},m.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},m.fromJSON=function(u,l){return new m(u,l[0],l[1]||u.one)},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.z.cmpn(0)===0},m.prototype.dbl=function(){var u=this.x.redAdd(this.z).redSqr(),l=this.x.redSub(this.z).redSqr(),h=u.redSub(l),d=u.redMul(l),p=h.redMul(l.redAdd(this.curve.a24.redMul(h)));return this.curve.point(d,p)},m.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},m.prototype.diffAdd=function(u,l){var h=this.x.redAdd(this.z),d=this.x.redSub(this.z),p=u.x.redAdd(u.z),g=u.x.redSub(u.z).redMul(h),b=p.redMul(d),v=l.z.redMul(g.redAdd(b).redSqr()),_=l.x.redMul(g.redISub(b).redSqr());return this.curve.point(v,_)},m.prototype.mul=function(u){for(var l=u.clone(),h=this,d=this.curve.point(null,null),p=[];l.cmpn(0)!==0;l.iushrn(1))p.push(l.andln(1));for(var g=p.length-1;g>=0;g--)p[g]===0?(h=h.diffAdd(d,this),d=d.dbl()):(d=h.diffAdd(d,this),h=h.dbl());return d},m.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},m.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},m.prototype.eq=function(u){return this.getX().cmp(u.getX())===0},m.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},m.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5045:(r,i,o)=>{"use strict";var s=o(1970),a=o(7799),c=o(1679),f=o(3334),y=s.assert;function m(h){f.call(this,"short",h),this.a=new a(h.a,16).toRed(this.red),this.b=new a(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(h,d,p,g){f.BasePoint.call(this,h,"affine"),d===null&&p===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(d,16),this.y=new a(p,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(h,d,p,g){f.BasePoint.call(this,h,"jacobian"),d===null&&p===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(d,16),this.y=new a(p,16),this.z=new a(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(m,f),r.exports=m,m.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var d,p;if(h.beta)d=new a(h.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);d=(d=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(h.lambda)p=new a(h.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(d))===0?p=b[0]:(p=b[1],y(this.g.mul(p).x.cmp(this.g.x.redMul(d))===0))}return{beta:d,lambda:p,basis:h.basis?h.basis.map(function(v){return{a:new a(v.a,16),b:new a(v.b,16)}}):this._getEndoBasis(p)}}},m.prototype._getEndoRoots=function(h){var d=h===this.p?this.red:a.mont(h),p=new a(2).toRed(d).redInvm(),g=p.redNeg(),b=new a(3).toRed(d).redNeg().redSqrt().redMul(p);return[g.redAdd(b).fromRed(),g.redSub(b).fromRed()]},m.prototype._getEndoBasis=function(h){for(var d,p,g,b,v,_,S,w,D,x=this.n.ushrn(Math.floor(this.n.bitLength()/2)),M=h,P=this.n.clone(),k=new a(1),B=new a(0),L=new a(0),V=new a(1),Q=0;M.cmpn(0)!==0;){var ne=P.div(M);w=P.sub(ne.mul(M)),D=L.sub(ne.mul(k));var te=V.sub(ne.mul(B));if(!g&&w.cmp(x)<0)d=S.neg(),p=k,g=w.neg(),b=D;else if(g&&++Q==2)break;S=w,P=M,M=w,L=k,k=D,V=B,B=te}v=w.neg(),_=D;var E=g.sqr().add(b.sqr());return v.sqr().add(_.sqr()).cmp(E)>=0&&(v=d,_=p),g.negative&&(g=g.neg(),b=b.neg()),v.negative&&(v=v.neg(),_=_.neg()),[{a:g,b},{a:v,b:_}]},m.prototype._endoSplit=function(h){var d=this.endo.basis,p=d[0],g=d[1],b=g.b.mul(h).divRound(this.n),v=p.b.neg().mul(h).divRound(this.n),_=b.mul(p.a),S=v.mul(g.a),w=b.mul(p.b),D=v.mul(g.b);return{k1:h.sub(_).sub(S),k2:w.add(D).neg()}},m.prototype.pointFromX=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),g=p.redSqrt();if(g.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var b=g.fromRed().isOdd();return(d&&!b||!d&&b)&&(g=g.redNeg()),this.point(h,g)},m.prototype.validate=function(h){if(h.inf)return!0;var d=h.x,p=h.y,g=this.a.redMul(d),b=d.redSqr().redMul(d).redIAdd(g).redIAdd(this.b);return p.redSqr().redISub(b).cmpn(0)===0},m.prototype._endoWnafMulAdd=function(h,d,p){for(var g=this._endoWnafT1,b=this._endoWnafT2,v=0;v<h.length;v++){var _=this._endoSplit(d[v]),S=h[v],w=S._getBeta();_.k1.negative&&(_.k1.ineg(),S=S.neg(!0)),_.k2.negative&&(_.k2.ineg(),w=w.neg(!0)),g[2*v]=S,g[2*v+1]=w,b[2*v]=_.k1,b[2*v+1]=_.k2}for(var D=this._wnafMulAdd(1,g,b,2*v,p),x=0;x<2*v;x++)g[x]=null,b[x]=null;return D},c(u,f.BasePoint),m.prototype.point=function(h,d,p){return new u(this,h,d,p)},m.prototype.pointFromJSON=function(h,d){return u.fromJSON(this,h,d)},u.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var p=this.curve,g=function(b){return p.point(b.x.redMul(p.endo.beta),b.y)};h.beta=d,d.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(g)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(g)}}}return d}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(h,d,p){typeof d=="string"&&(d=JSON.parse(d));var g=h.point(d[0],d[1],p);if(!d[2])return g;function b(_){return h.point(_[0],_[1],p)}var v=d[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(b))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(b))}},g},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var d=this.y.redSub(h.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(h.x).redInvm()));var p=d.redSqr().redISub(this.x).redISub(h.x),g=d.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,g)},u.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,p=this.x.redSqr(),g=h.redInvm(),b=p.redAdd(p).redIAdd(p).redIAdd(d).redMul(g),v=b.redSqr().redISub(this.x.redAdd(this.x)),_=b.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,_)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(h){return h=new a(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},u.prototype.mulAdd=function(h,d,p){var g=[this,d],b=[h,p];return this.curve.endo?this.curve._endoWnafMulAdd(g,b):this.curve._wnafMulAdd(1,g,b,2)},u.prototype.jmulAdd=function(h,d,p){var g=[this,d],b=[h,p];return this.curve.endo?this.curve._endoWnafMulAdd(g,b,!0):this.curve._wnafMulAdd(1,g,b,2,!0)},u.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},u.prototype.neg=function(h){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var p=this.precomputed,g=function(b){return b.neg()};d.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(g)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(g)}}}return d},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(l,f.BasePoint),m.prototype.jpoint=function(h,d,p){return new l(this,h,d,p)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),d=h.redSqr(),p=this.x.redMul(d),g=this.y.redMul(d).redMul(h);return this.curve.point(p,g)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var d=h.z.redSqr(),p=this.z.redSqr(),g=this.x.redMul(d),b=h.x.redMul(p),v=this.y.redMul(d.redMul(h.z)),_=h.y.redMul(p.redMul(this.z)),S=g.redSub(b),w=v.redSub(_);if(S.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=S.redSqr(),x=D.redMul(S),M=g.redMul(D),P=w.redSqr().redIAdd(x).redISub(M).redISub(M),k=w.redMul(M.redISub(P)).redISub(v.redMul(x)),B=this.z.redMul(h.z).redMul(S);return this.curve.jpoint(P,k,B)},l.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var d=this.z.redSqr(),p=this.x,g=h.x.redMul(d),b=this.y,v=h.y.redMul(d).redMul(this.z),_=p.redSub(g),S=b.redSub(v);if(_.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=_.redSqr(),D=w.redMul(_),x=p.redMul(w),M=S.redSqr().redIAdd(D).redISub(x).redISub(x),P=S.redMul(x.redISub(M)).redISub(b.redMul(D)),k=this.z.redMul(_);return this.curve.jpoint(M,P,k)},l.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var p=this;for(d=0;d<h;d++)p=p.dbl();return p}var g=this.curve.a,b=this.curve.tinv,v=this.x,_=this.y,S=this.z,w=S.redSqr().redSqr(),D=_.redAdd(_);for(d=0;d<h;d++){var x=v.redSqr(),M=D.redSqr(),P=M.redSqr(),k=x.redAdd(x).redIAdd(x).redIAdd(g.redMul(w)),B=v.redMul(M),L=k.redSqr().redISub(B.redAdd(B)),V=B.redISub(L),Q=k.redMul(V);Q=Q.redIAdd(Q).redISub(P);var ne=D.redMul(S);d+1<h&&(w=w.redMul(P)),v=L,S=ne,D=Q}return this.curve.jpoint(v,D.redMul(b),S)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var h,d,p;if(this.zOne){var g=this.x.redSqr(),b=this.y.redSqr(),v=b.redSqr(),_=this.x.redAdd(b).redSqr().redISub(g).redISub(v);_=_.redIAdd(_);var S=g.redAdd(g).redIAdd(g),w=S.redSqr().redISub(_).redISub(_),D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),h=w,d=S.redMul(_.redISub(w)).redISub(D),p=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),M=this.y.redSqr(),P=M.redSqr(),k=this.x.redAdd(M).redSqr().redISub(x).redISub(P);k=k.redIAdd(k);var B=x.redAdd(x).redIAdd(x),L=B.redSqr(),V=P.redIAdd(P);V=(V=V.redIAdd(V)).redIAdd(V),h=L.redISub(k).redISub(k),d=B.redMul(k.redISub(h)).redISub(V),p=(p=this.y.redMul(this.z)).redIAdd(p)}return this.curve.jpoint(h,d,p)},l.prototype._threeDbl=function(){var h,d,p;if(this.zOne){var g=this.x.redSqr(),b=this.y.redSqr(),v=b.redSqr(),_=this.x.redAdd(b).redSqr().redISub(g).redISub(v);_=_.redIAdd(_);var S=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),w=S.redSqr().redISub(_).redISub(_);h=w;var D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),d=S.redMul(_.redISub(w)).redISub(D),p=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),M=this.y.redSqr(),P=this.x.redMul(M),k=this.x.redSub(x).redMul(this.x.redAdd(x));k=k.redAdd(k).redIAdd(k);var B=P.redIAdd(P),L=(B=B.redIAdd(B)).redAdd(B);h=k.redSqr().redISub(L),p=this.y.redAdd(this.z).redSqr().redISub(M).redISub(x);var V=M.redSqr();V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V),d=k.redMul(B.redISub(h)).redISub(V)}return this.curve.jpoint(h,d,p)},l.prototype._dbl=function(){var h=this.curve.a,d=this.x,p=this.y,g=this.z,b=g.redSqr().redSqr(),v=d.redSqr(),_=p.redSqr(),S=v.redAdd(v).redIAdd(v).redIAdd(h.redMul(b)),w=d.redAdd(d),D=(w=w.redIAdd(w)).redMul(_),x=S.redSqr().redISub(D.redAdd(D)),M=D.redISub(x),P=_.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var k=S.redMul(M).redISub(P),B=p.redAdd(p).redMul(g);return this.curve.jpoint(x,k,B)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),d=this.y.redSqr(),p=this.z.redSqr(),g=d.redSqr(),b=h.redAdd(h).redIAdd(h),v=b.redSqr(),_=this.x.redAdd(d).redSqr().redISub(h).redISub(g),S=(_=(_=(_=_.redIAdd(_)).redAdd(_).redIAdd(_)).redISub(v)).redSqr(),w=g.redIAdd(g);w=(w=(w=w.redIAdd(w)).redIAdd(w)).redIAdd(w);var D=b.redIAdd(_).redSqr().redISub(v).redISub(S).redISub(w),x=d.redMul(D);x=(x=x.redIAdd(x)).redIAdd(x);var M=this.x.redMul(S).redISub(x);M=(M=M.redIAdd(M)).redIAdd(M);var P=this.y.redMul(D.redMul(w.redISub(D)).redISub(_.redMul(S)));P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var k=this.z.redAdd(_).redSqr().redISub(p).redISub(S);return this.curve.jpoint(M,P,k)},l.prototype.mul=function(h,d){return h=new a(h,d),this.curve._wnafMul(this,h)},l.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var d=this.z.redSqr(),p=h.z.redSqr();if(this.x.redMul(p).redISub(h.x.redMul(d)).cmpn(0)!==0)return!1;var g=d.redMul(this.z),b=p.redMul(h.z);return this.y.redMul(b).redISub(h.y.redMul(g)).cmpn(0)===0},l.prototype.eqXToP=function(h){var d=this.z.redSqr(),p=h.toRed(this.curve.red).redMul(d);if(this.x.cmp(p)===0)return!0;for(var g=h.clone(),b=this.curve.redN.redMul(d);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(b),this.x.cmp(p)===0)return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},6379:(r,i,o)=>{"use strict";var s,a=i,c=o(2859),f=o(5803),y=o(1970).assert;function m(l){l.type==="short"?this.curve=new f.short(l):l.type==="edwards"?this.curve=new f.edwards(l):this.curve=new f.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,y(this.g.validate(),"Invalid curve"),y(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(l,h){Object.defineProperty(a,l,{configurable:!0,enumerable:!0,get:function(){var d=new m(h);return Object.defineProperty(a,l,{configurable:!0,enumerable:!0,value:d}),d}})}a.PresetCurve=m,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=o(5586)}catch{s=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},7416:(r,i,o)=>{"use strict";function s(p){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},s(p)}var a=o(7799),c=o(6934),f=o(1970),y=o(6379),m=o(8904),u=f.assert,l=o(3643),h=o(3686);function d(p){if(!(this instanceof d))return new d(p);typeof p=="string"&&(u(Object.prototype.hasOwnProperty.call(y,p),"Unknown curve "+p),p=y[p]),p instanceof y.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}r.exports=d,d.prototype.keyPair=function(p){return new l(this,p)},d.prototype.keyFromPrivate=function(p,g){return l.fromPrivate(this,p,g)},d.prototype.keyFromPublic=function(p,g){return l.fromPublic(this,p,g)},d.prototype.genKeyPair=function(p){p||(p={});for(var g=new c({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||m(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),b=this.n.byteLength(),v=this.n.sub(new a(2));;){var _=new a(g.generate(b));if(!(_.cmp(v)>0))return _.iaddn(1),this.keyFromPrivate(_)}},d.prototype._truncateToN=function(p,g,b){var v;if(a.isBN(p)||typeof p=="number")v=(p=new a(p,16)).byteLength();else if(s(p)==="object")v=p.length,p=new a(p,16);else{var _=p.toString();v=_.length+1>>>1,p=new a(_,16)}typeof b!="number"&&(b=8*v);var S=b-this.n.bitLength();return S>0&&(p=p.ushrn(S)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},d.prototype.sign=function(p,g,b,v){if(s(b)==="object"&&(v=b,b=null),v||(v={}),typeof p!="string"&&typeof p!="number"&&!a.isBN(p)){u(s(p)==="object"&&p&&typeof p.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),u(p.length>>>0===p.length);for(var _=0;_<p.length;_++)u((255&p[_])===p[_])}g=this.keyFromPrivate(g,b),p=this._truncateToN(p,!1,v.msgBitLength),u(!p.isNeg(),"Can not sign a negative message");var S=this.n.byteLength(),w=g.getPrivate().toArray("be",S),D=p.toArray("be",S);u(new a(D).eq(p),"Can not sign message");for(var x=new c({hash:this.hash,entropy:w,nonce:D,pers:v.pers,persEnc:v.persEnc||"utf8"}),M=this.n.sub(new a(1)),P=0;;P++){var k=v.k?v.k(P):new a(x.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(M)>=0)){var B=this.g.mul(k);if(!B.isInfinity()){var L=B.getX(),V=L.umod(this.n);if(V.cmpn(0)!==0){var Q=k.invm(this.n).mul(V.mul(g.getPrivate()).iadd(p));if((Q=Q.umod(this.n)).cmpn(0)!==0){var ne=(B.getY().isOdd()?1:0)|(L.cmp(V)!==0?2:0);return v.canonical&&Q.cmp(this.nh)>0&&(Q=this.n.sub(Q),ne^=1),new h({r:V,s:Q,recoveryParam:ne})}}}}}},d.prototype.verify=function(p,g,b,v,_){_||(_={}),p=this._truncateToN(p,!1,_.msgBitLength),b=this.keyFromPublic(b,v);var S=(g=new h(g,"hex")).r,w=g.s;if(S.cmpn(1)<0||S.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var D,x=w.invm(this.n),M=x.mul(p).umod(this.n),P=x.mul(S).umod(this.n);return this.curve._maxwellTrick?!(D=this.g.jmulAdd(M,b.getPublic(),P)).isInfinity()&&D.eqXToP(S):!(D=this.g.mulAdd(M,b.getPublic(),P)).isInfinity()&&D.getX().umod(this.n).cmp(S)===0},d.prototype.recoverPubKey=function(p,g,b,v){u((3&b)===b,"The recovery param is more than two bits"),g=new h(g,v);var _=this.n,S=new a(p),w=g.r,D=g.s,x=1&b,M=b>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&M)throw new Error("Unable to find sencond key candinate");w=M?this.curve.pointFromX(w.add(this.curve.n),x):this.curve.pointFromX(w,x);var P=g.r.invm(_),k=_.sub(S).mul(P).umod(_),B=D.mul(P).umod(_);return this.g.mulAdd(k,w,B)},d.prototype.getKeyRecoveryParam=function(p,g,b,v){if((g=new h(g,v)).recoveryParam!==null)return g.recoveryParam;for(var _=0;_<4;_++){var S;try{S=this.recoverPubKey(p,g,_)}catch{continue}if(S.eq(b))return _}throw new Error("Unable to find valid recovery factor")}},3643:(r,i,o)=>{"use strict";var s=o(7799),a=o(1970).assert;function c(f,y){this.ec=f,this.priv=null,this.pub=null,y.priv&&this._importPrivate(y.priv,y.privEnc),y.pub&&this._importPublic(y.pub,y.pubEnc)}r.exports=c,c.fromPublic=function(f,y,m){return y instanceof c?y:new c(f,{pub:y,pubEnc:m})},c.fromPrivate=function(f,y,m){return y instanceof c?y:new c(f,{priv:y,privEnc:m})},c.prototype.validate=function(){var f=this.getPublic();return f.isInfinity()?{result:!1,reason:"Invalid public key"}:f.validate()?f.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(f,y){return typeof f=="string"&&(y=f,f=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),y?this.pub.encode(y,f):this.pub},c.prototype.getPrivate=function(f){return f==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(f,y){this.priv=new s(f,y||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(f,y){if(f.x||f.y)return this.ec.curve.type==="mont"?a(f.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(f.x&&f.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(f.x,f.y));this.pub=this.ec.curve.decodePoint(f,y)},c.prototype.derive=function(f){return f.validate()||a(f.validate(),"public point not validated"),f.mul(this.priv).getX()},c.prototype.sign=function(f,y,m){return this.ec.sign(f,this,y,m)},c.prototype.verify=function(f,y,m){return this.ec.verify(f,y,this,void 0,m)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},3686:(r,i,o)=>{"use strict";var s=o(7799),a=o(1970),c=a.assert;function f(h,d){if(h instanceof f)return h;this._importDER(h,d)||(c(h.r&&h.s,"Signature without r or s"),this.r=new s(h.r,16),this.s=new s(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function y(){this.place=0}function m(h,d){var p=h[d.place++];if(!(128&p))return p;var g=15&p;if(g===0||g>4||h[d.place]===0)return!1;for(var b=0,v=0,_=d.place;v<g;v++,_++)b<<=8,b|=h[_],b>>>=0;return!(b<=127)&&(d.place=_,b)}function u(h){for(var d=0,p=h.length-1;!h[d]&&!(128&h[d+1])&&d<p;)d++;return d===0?h:h.slice(d)}function l(h,d){if(d<128)h.push(d);else{var p=1+(Math.log(d)/Math.LN2>>>3);for(h.push(128|p);--p;)h.push(d>>>(p<<3)&255);h.push(d)}}r.exports=f,f.prototype._importDER=function(h,d){h=a.toArray(h,d);var p=new y;if(h[p.place++]!==48)return!1;var g=m(h,p);if(g===!1||g+p.place!==h.length||h[p.place++]!==2)return!1;var b=m(h,p);if(b===!1||128&h[p.place])return!1;var v=h.slice(p.place,b+p.place);if(p.place+=b,h[p.place++]!==2)return!1;var _=m(h,p);if(_===!1||h.length!==_+p.place||128&h[p.place])return!1;var S=h.slice(p.place,_+p.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(S[0]===0){if(!(128&S[1]))return!1;S=S.slice(1)}return this.r=new s(v),this.s=new s(S),this.recoveryParam=null,!0},f.prototype.toDER=function(h){var d=this.r.toArray(),p=this.s.toArray();for(128&d[0]&&(d=[0].concat(d)),128&p[0]&&(p=[0].concat(p)),d=u(d),p=u(p);!(p[0]||128&p[1]);)p=p.slice(1);var g=[2];l(g,d.length),(g=g.concat(d)).push(2),l(g,p.length);var b=g.concat(p),v=[48];return l(v,b.length),v=v.concat(b),a.encode(v,h)}},4919:(r,i,o)=>{"use strict";var s=o(2859),a=o(6379),c=o(1970),f=c.assert,y=c.parseBytes,m=o(208),u=o(8433);function l(h){if(f(h==="ed25519","only tested with ed25519 so far"),!(this instanceof l))return new l(h);h=a[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=s.sha512}r.exports=l,l.prototype.sign=function(h,d){h=y(h);var p=this.keyFromSecret(d),g=this.hashInt(p.messagePrefix(),h),b=this.g.mul(g),v=this.encodePoint(b),_=this.hashInt(v,p.pubBytes(),h).mul(p.priv()),S=g.add(_).umod(this.curve.n);return this.makeSignature({R:b,S,Rencoded:v})},l.prototype.verify=function(h,d,p){if(h=y(h),(d=this.makeSignature(d)).S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var g=this.keyFromPublic(p),b=this.hashInt(d.Rencoded(),g.pubBytes(),h),v=this.g.mul(d.S());return d.R().add(g.pub().mul(b)).eq(v)},l.prototype.hashInt=function(){for(var h=this.hash(),d=0;d<arguments.length;d++)h.update(arguments[d]);return c.intFromLE(h.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(h){return m.fromPublic(this,h)},l.prototype.keyFromSecret=function(h){return m.fromSecret(this,h)},l.prototype.makeSignature=function(h){return h instanceof u?h:new u(this,h)},l.prototype.encodePoint=function(h){var d=h.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=h.getX().isOdd()?128:0,d},l.prototype.decodePoint=function(h){var d=(h=c.parseBytes(h)).length-1,p=h.slice(0,d).concat(-129&h[d]),g=!!(128&h[d]),b=c.intFromLE(p);return this.curve.pointFromY(b,g)},l.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(h){return c.intFromLE(h)},l.prototype.isPoint=function(h){return h instanceof this.pointClass}},208:(r,i,o)=>{"use strict";var s=o(1970),a=s.assert,c=s.parseBytes,f=s.cachedProperty;function y(m,u){this.eddsa=m,this._secret=c(u.secret),m.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=c(u.pub)}y.fromPublic=function(m,u){return u instanceof y?u:new y(m,{pub:u})},y.fromSecret=function(m,u){return u instanceof y?u:new y(m,{secret:u})},y.prototype.secret=function(){return this._secret},f(y,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),f(y,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),f(y,"privBytes",function(){var m=this.eddsa,u=this.hash(),l=m.encodingLength-1,h=u.slice(0,m.encodingLength);return h[0]&=248,h[l]&=127,h[l]|=64,h}),f(y,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),f(y,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),f(y,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),y.prototype.sign=function(m){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(m,this)},y.prototype.verify=function(m,u){return this.eddsa.verify(m,u,this)},y.prototype.getSecret=function(m){return a(this._secret,"KeyPair is public only"),s.encode(this.secret(),m)},y.prototype.getPublic=function(m){return s.encode(this.pubBytes(),m)},r.exports=y},8433:(r,i,o)=>{"use strict";function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(l)}var a=o(7799),c=o(1970),f=c.assert,y=c.cachedProperty,m=c.parseBytes;function u(l,h){this.eddsa=l,s(h)!=="object"&&(h=m(h)),Array.isArray(h)&&(f(h.length===2*l.encodingLength,"Signature has invalid size"),h={R:h.slice(0,l.encodingLength),S:h.slice(l.encodingLength)}),f(h.R&&h.S,"Signature without R or S"),l.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}y(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),y(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),y(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),y(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return c.encode(this.toBytes(),"hex").toUpperCase()},r.exports=u},5586:r=>{r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},1970:(r,i,o)=>{"use strict";var s=i,a=o(7799),c=o(3528),f=o(6706);s.assert=c,s.toArray=f.toArray,s.zero2=f.zero2,s.toHex=f.toHex,s.encode=f.encode,s.getNAF=function(y,m,u){var l,h=new Array(Math.max(y.bitLength(),u)+1);for(l=0;l<h.length;l+=1)h[l]=0;var d=1<<m+1,p=y.clone();for(l=0;l<h.length;l++){var g,b=p.andln(d-1);p.isOdd()?(g=b>(d>>1)-1?(d>>1)-b:b,p.isubn(g)):g=0,h[l]=g,p.iushrn(1)}return h},s.getJSF=function(y,m){var u=[[],[]];y=y.clone(),m=m.clone();for(var l,h=0,d=0;y.cmpn(-h)>0||m.cmpn(-d)>0;){var p,g,b=y.andln(3)+h&3,v=m.andln(3)+d&3;b===3&&(b=-1),v===3&&(v=-1),p=1&b?(l=y.andln(7)+h&7)!=3&&l!==5||v!==2?b:-b:0,u[0].push(p),g=1&v?(l=m.andln(7)+d&7)!=3&&l!==5||b!==2?v:-v:0,u[1].push(g),2*h===p+1&&(h=1-h),2*d===g+1&&(d=1-d),y.iushrn(1),m.iushrn(1)}return u},s.cachedProperty=function(y,m,u){var l="_"+m;y.prototype[m]=function(){return this[l]!==void 0?this[l]:this[l]=u.call(this)}},s.parseBytes=function(y){return typeof y=="string"?s.toArray(y,"hex"):y},s.intFromLE=function(y){return new a(y,"hex","le")}},988:r=>{"use strict";var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}r.exports=i},9206:r=>{"use strict";r.exports=EvalError},9870:r=>{"use strict";r.exports=Error},9939:r=>{"use strict";r.exports=RangeError},783:r=>{"use strict";r.exports=ReferenceError},2288:r=>{"use strict";r.exports=SyntaxError},2268:r=>{"use strict";r.exports=TypeError},8188:r=>{"use strict";r.exports=URIError},8093:r=>{"use strict";r.exports=Object},6182:r=>{"use strict";function i(o,s){if(o==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(o),c=1;c<arguments.length;c++){var f=arguments[c];if(f!=null)for(var y=Object.keys(Object(f)),m=0,u=y.length;m<u;m++){var l=y[m],h=Object.getOwnPropertyDescriptor(f,l);h!==void 0&&h.enumerable&&(a[l]=f[l])}}return a}r.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},3550:r=>{"use strict";function i(_){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},i(_)}var o,s=(typeof Reflect>"u"?"undefined":i(Reflect))==="object"?Reflect:null,a=s&&typeof s.apply=="function"?s.apply:function(_,S,w){return Function.prototype.apply.call(_,S,w)};o=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:function(_){return Object.getOwnPropertyNames(_)};var c=Number.isNaN||function(_){return _!=_};function f(){f.init.call(this)}r.exports=f,r.exports.once=function(_,S){return new Promise(function(w,D){function x(P){_.removeListener(S,M),D(P)}function M(){typeof _.removeListener=="function"&&_.removeListener("error",x),w([].slice.call(arguments))}v(_,S,M,{once:!0}),S!=="error"&&function(P,k){typeof P.on=="function"&&v(P,"error",k,{once:!0})}(_,x)})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var y=10;function m(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+i(_))}function u(_){return _._maxListeners===void 0?f.defaultMaxListeners:_._maxListeners}function l(_,S,w,D){var x,M,P,k;if(m(w),(M=_._events)===void 0?(M=_._events=Object.create(null),_._eventsCount=0):(M.newListener!==void 0&&(_.emit("newListener",S,w.listener?w.listener:w),M=_._events),P=M[S]),P===void 0)P=M[S]=w,++_._eventsCount;else if(typeof P=="function"?P=M[S]=D?[w,P]:[P,w]:D?P.unshift(w):P.push(w),(x=u(_))>0&&P.length>x&&!P.warned){P.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=_,B.type=S,B.count=P.length,k=B,console&&console.warn&&console.warn(k)}return _}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(_,S,w){var D={fired:!1,wrapFn:void 0,target:_,type:S,listener:w},x=h.bind(D);return x.listener=w,D.wrapFn=x,x}function p(_,S,w){var D=_._events;if(D===void 0)return[];var x=D[S];return x===void 0?[]:typeof x=="function"?w?[x.listener||x]:[x]:w?function(M){for(var P=new Array(M.length),k=0;k<P.length;++k)P[k]=M[k].listener||M[k];return P}(x):b(x,x.length)}function g(_){var S=this._events;if(S!==void 0){var w=S[_];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function b(_,S){for(var w=new Array(S),D=0;D<S;++D)w[D]=_[D];return w}function v(_,S,w,D){if(typeof _.on=="function")D.once?_.once(S,w):_.on(S,w);else{if(typeof _.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+i(_));_.addEventListener(S,function x(M){D.once&&_.removeEventListener(S,x),w(M)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(_){if(typeof _!="number"||_<0||c(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");y=_}}),f.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||c(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this},f.prototype.getMaxListeners=function(){return u(this)},f.prototype.emit=function(_){for(var S=[],w=1;w<arguments.length;w++)S.push(arguments[w]);var D=_==="error",x=this._events;if(x!==void 0)D=D&&x.error===void 0;else if(!D)return!1;if(D){var M;if(S.length>0&&(M=S[0]),M instanceof Error)throw M;var P=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw P.context=M,P}var k=x[_];if(k===void 0)return!1;if(typeof k=="function")a(k,this,S);else{var B=k.length,L=b(k,B);for(w=0;w<B;++w)a(L[w],this,S)}return!0},f.prototype.addListener=function(_,S){return l(this,_,S,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(_,S){return l(this,_,S,!0)},f.prototype.once=function(_,S){return m(S),this.on(_,d(this,_,S)),this},f.prototype.prependOnceListener=function(_,S){return m(S),this.prependListener(_,d(this,_,S)),this},f.prototype.removeListener=function(_,S){var w,D,x,M,P;if(m(S),(D=this._events)===void 0)return this;if((w=D[_])===void 0)return this;if(w===S||w.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete D[_],D.removeListener&&this.emit("removeListener",_,w.listener||S));else if(typeof w!="function"){for(x=-1,M=w.length-1;M>=0;M--)if(w[M]===S||w[M].listener===S){P=w[M].listener,x=M;break}if(x<0)return this;x===0?w.shift():function(k,B){for(;B+1<k.length;B++)k[B]=k[B+1];k.pop()}(w,x),w.length===1&&(D[_]=w[0]),D.removeListener!==void 0&&this.emit("removeListener",_,P||S)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(_){var S,w,D;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[_]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[_]),this;if(arguments.length===0){var x,M=Object.keys(w);for(D=0;D<M.length;++D)(x=M[D])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(S=w[_])=="function")this.removeListener(_,S);else if(S!==void 0)for(D=S.length-1;D>=0;D--)this.removeListener(_,S[D]);return this},f.prototype.listeners=function(_){return p(this,_,!0)},f.prototype.rawListeners=function(_){return p(this,_,!1)},f.listenerCount=function(_,S){return typeof _.listenerCount=="function"?_.listenerCount(S):g.call(_,S)},f.prototype.listenerCount=g,f.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},1685:(r,i,o)=>{var s=o(9732).Buffer,a=o(2635);r.exports=function(c,f,y,m){if(s.isBuffer(c)||(c=s.from(c,"binary")),f&&(s.isBuffer(f)||(f=s.from(f,"binary")),f.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var u=y/8,l=s.alloc(u),h=s.alloc(m||0),d=s.alloc(0);u>0||m>0;){var p=new a;p.update(d),p.update(c),f&&p.update(f),d=p.digest();var g=0;if(u>0){var b=l.length-u;g=Math.min(u,d.length),d.copy(l,b,0,g),u-=g}if(g<d.length&&m>0){var v=h.length-m,_=Math.min(m,d.length-g);d.copy(h,v,g,g+_),m-=_}}return d.fill(0),{key:l,iv:h}}},3777:(r,i,o)=>{"use strict";var s=o(9809),a=Object.prototype.toString,c=Object.prototype.hasOwnProperty;r.exports=function(f,y,m){if(!s(y))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=m),a.call(f)==="[object Array]"?function(l,h,d){for(var p=0,g=l.length;p<g;p++)c.call(l,p)&&(d==null?h(l[p],p,l):h.call(d,l[p],p,l))}(f,y,u):typeof f=="string"?function(l,h,d){for(var p=0,g=l.length;p<g;p++)d==null?h(l.charAt(p),p,l):h.call(d,l.charAt(p),p,l)}(f,y,u):function(l,h,d){for(var p in l)c.call(l,p)&&(d==null?h(l[p],p,l):h.call(d,l[p],p,l))}(f,y,u)}},6730:r=>{"use strict";var i=Object.prototype.toString,o=Math.max,s=function(a,c){for(var f=[],y=0;y<a.length;y+=1)f[y]=a[y];for(var m=0;m<c.length;m+=1)f[m+a.length]=c[m];return f};r.exports=function(a){var c=this;if(typeof c!="function"||i.apply(c)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var f,y=function(d){for(var p=[],g=1,b=0;g<d.length;g+=1,b+=1)p[b]=d[g];return p}(arguments),m=o(0,c.length-y.length),u=[],l=0;l<m;l++)u[l]="$"+l;if(f=Function("binder","return function ("+function(d){for(var p="",g=0;g<d.length;g+=1)p+=d[g],g+1<d.length&&(p+=",");return p}(u)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var d=c.apply(this,s(y,arguments));return Object(d)===d?d:this}return c.apply(a,s(y,arguments))}),c.prototype){var h=function(){};h.prototype=c.prototype,f.prototype=new h,h.prototype=null}return f}},2354:(r,i,o)=>{"use strict";var s=o(6730);r.exports=Function.prototype.bind||s},6400:(r,i,o)=>{"use strict";function s(ie){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},s(ie)}var a,c=o(8093),f=o(9870),y=o(9206),m=o(9939),u=o(783),l=o(2288),h=o(2268),d=o(8188),p=o(9471),g=o(2401),b=o(1697),v=o(8435),_=o(8633),S=o(2151),w=o(674),D=Function,x=function(ie){try{return D('"use strict"; return ('+ie+").constructor;")()}catch{}},M=o(1464),P=o(988),k=function(){throw new h},B=M?function(){try{return k}catch{try{return M(arguments,"callee").get}catch{return k}}}():k,L=o(5510)(),V=o(209),Q=o(5825),ne=o(2403),te=o(3279),E=o(3123),O={},C=typeof Uint8Array<"u"&&V?V(Uint8Array):a,I={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":L&&V?V([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?a:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":y,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":D,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&V?V(V([][Symbol.iterator]())):a,"%JSON%":(typeof JSON>"u"?"undefined":s(JSON))==="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map<"u"&&L&&V?V(new Map()[Symbol.iterator]()):a,"%Math%":Math,"%Number%":Number,"%Object%":c,"%Object.getOwnPropertyDescriptor%":M,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":m,"%ReferenceError%":u,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set<"u"&&L&&V?V(new Set()[Symbol.iterator]()):a,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&V?V(""[Symbol.iterator]()):a,"%Symbol%":L?Symbol:a,"%SyntaxError%":l,"%ThrowTypeError%":B,"%TypedArray%":C,"%TypeError%":h,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet,"%Function.prototype.call%":E,"%Function.prototype.apply%":te,"%Object.defineProperty%":P,"%Object.getPrototypeOf%":Q,"%Math.abs%":p,"%Math.floor%":g,"%Math.max%":b,"%Math.min%":v,"%Math.pow%":_,"%Math.round%":S,"%Math.sign%":w,"%Reflect.getPrototypeOf%":ne};if(V)try{null.error}catch(ie){var T=V(V(ie));I["%Error.prototype%"]=T}var N=function ie(ae){var le;if(ae==="%AsyncFunction%")le=x("async function () {}");else if(ae==="%GeneratorFunction%")le=x("function* () {}");else if(ae==="%AsyncGeneratorFunction%")le=x("async function* () {}");else if(ae==="%AsyncGenerator%"){var J=ie("%AsyncGeneratorFunction%");J&&(le=J.prototype)}else if(ae==="%AsyncIteratorPrototype%"){var re=ie("%AsyncGenerator%");re&&V&&(le=V(re.prototype))}return I[ae]=le,le},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=o(2354),q=o(5994),X=H.call(E,Array.prototype.concat),z=H.call(te,Array.prototype.splice),U=H.call(E,String.prototype.replace),Z=H.call(E,String.prototype.slice),ee=H.call(E,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,G=function(ie,ae){var le,J=ie;if(q(j,J)&&(J="%"+(le=j[J])[0]+"%"),q(I,J)){var re=I[J];if(re===O&&(re=N(J)),re===void 0&&!ae)throw new h("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:le,name:J,value:re}}throw new l("intrinsic "+ie+" does not exist!")};r.exports=function(ie,ae){if(typeof ie!="string"||ie.length===0)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ae!="boolean")throw new h('"allowMissing" argument must be a boolean');if(ee(/^%?[^%]*%?$/,ie)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var le=function(Le){var at=Z(Le,0,1),Et=Z(Le,-1);if(at==="%"&&Et!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Et==="%"&&at!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var Je=[];return U(Le,R,function(wt,kt,pt,Tt){Je[Je.length]=pt?U(Tt,$,"$1"):kt||wt}),Je}(ie),J=le.length>0?le[0]:"",re=G("%"+J+"%",ae),ue=re.name,fe=re.value,de=!1,se=re.alias;se&&(J=se[0],z(le,X([0,1],se)));for(var Ie=1,Ce=!0;Ie<le.length;Ie+=1){var we=le[Ie],Te=Z(we,0,1),Ne=Z(we,-1);if((Te==='"'||Te==="'"||Te==="`"||Ne==='"'||Ne==="'"||Ne==="`")&&Te!==Ne)throw new l("property names with quotes must have matching quotes");if(we!=="constructor"&&Ce||(de=!0),q(I,ue="%"+(J+="."+we)+"%"))fe=I[ue];else if(fe!=null){if(!(we in fe)){if(!ae)throw new h("base intrinsic for "+ie+" exists, but the property is not available.");return}if(M&&Ie+1>=le.length){var Ye=M(fe,we);fe=(Ce=!!Ye)&&"get"in Ye&&!("originalValue"in Ye.get)?Ye.get:fe[we]}else Ce=q(fe,we),fe=fe[we];Ce&&!de&&(I[ue]=fe)}}return fe}},5825:(r,i,o)=>{"use strict";var s=o(8093);r.exports=s.getPrototypeOf||null},2403:r=>{"use strict";r.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},209:(r,i,o)=>{"use strict";function s(y){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(y)}var a=o(2403),c=o(5825),f=o(8964);r.exports=a?function(y){return a(y)}:c?function(y){if(!y||s(y)!=="object"&&typeof y!="function")throw new TypeError("getProto: not an object");return c(y)}:f?function(y){return f(y)}:null},5807:r=>{"use strict";r.exports=Object.getOwnPropertyDescriptor},1464:(r,i,o)=>{"use strict";var s=o(5807);if(s)try{s([],"length")}catch{s=null}r.exports=s},3191:(r,i,o)=>{"use strict";var s=o(988),a=function(){return!!s};a.hasArrayLengthDefineBug=function(){if(!s)return null;try{return s([],"length",{value:1}).length!==1}catch{return!0}},r.exports=a},5510:(r,i,o)=>{"use strict";function s(f){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s(f)}var a=typeof Symbol<"u"&&Symbol,c=o(5484);r.exports=function(){return typeof a=="function"&&typeof Symbol=="function"&&s(a("foo"))==="symbol"&&s(Symbol("bar"))==="symbol"&&c()}},5484:r=>{"use strict";function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(i(Symbol.iterator)==="symbol")return!0;var o={},s=Symbol("test"),a=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;for(var c in o[s]=42,o)return!1;if(typeof Object.keys=="function"&&Object.keys(o).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(o).length!==0)return!1;var f=Object.getOwnPropertySymbols(o);if(f.length!==1||f[0]!==s||!Object.prototype.propertyIsEnumerable.call(o,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(o,s);if(y.value!==42||y.enumerable!==!0)return!1}return!0}},953:(r,i,o)=>{"use strict";var s=o(5484);r.exports=function(){return s()&&!!Symbol.toStringTag}},6936:(r,i,o)=>{"use strict";var s=o(9732).Buffer,a=o(7775).Transform;function c(m){a.call(this),this._block=s.allocUnsafe(m),this._blockSize=m,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(1679)(c,a),c.prototype._transform=function(m,u,l){var h=null;try{this.update(m,u)}catch(d){h=d}l(h)},c.prototype._flush=function(m){var u=null;try{this.push(this.digest())}catch(l){u=l}m(u)};var f=typeof Uint8Array<"u",y=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(s.prototype instanceof Uint8Array||s.TYPED_ARRAY_SUPPORT);c.prototype.update=function(m,u){if(this._finalized)throw new Error("Digest already called");m=function(b,v){if(b instanceof s)return b;if(typeof b=="string")return s.from(b,v);if(y&&ArrayBuffer.isView(b)){if(b.byteLength===0)return s.alloc(0);var _=s.from(b.buffer,b.byteOffset,b.byteLength);if(_.byteLength===b.byteLength)return _}if(f&&b instanceof Uint8Array||s.isBuffer(b)&&b.constructor&&typeof b.constructor.isBuffer=="function"&&b.constructor.isBuffer(b))return s.from(b);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(m,u);for(var l=this._block,h=0;this._blockOffset+m.length-h>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)l[d++]=m[h++];this._update(),this._blockOffset=0}for(;h<m.length;)l[this._blockOffset++]=m[h++];for(var p=0,g=8*m.length;g>0;++p)this._length[p]+=g,(g=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(m){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();m!==void 0&&(u=u.toString(m)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return u},c.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=c},2859:(r,i,o)=>{var s=i;s.utils=o(4685),s.common=o(7695),s.sha=o(690),s.ripemd=o(601),s.hmac=o(9313),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},7695:(r,i,o)=>{"use strict";var s=o(4685),a=o(3528);function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=c,c.prototype.update=function(f,y){if(f=s.toArray(f,y),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){var m=(f=this.pending).length%this._delta8;this.pending=f.slice(f.length-m,f.length),this.pending.length===0&&(this.pending=null),f=s.join32(f,0,f.length-m,this.endian);for(var u=0;u<f.length;u+=this._delta32)this._update(f,u,u+this._delta32)}return this},c.prototype.digest=function(f){return this.update(this._pad()),a(this.pending===null),this._digest(f)},c.prototype._pad=function(){var f=this.pendingTotal,y=this._delta8,m=y-(f+this.padLength)%y,u=new Array(m+this.padLength);u[0]=128;for(var l=1;l<m;l++)u[l]=0;if(f<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)u[l++]=0;u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=f>>>24&255,u[l++]=f>>>16&255,u[l++]=f>>>8&255,u[l++]=255&f}else for(u[l++]=255&f,u[l++]=f>>>8&255,u[l++]=f>>>16&255,u[l++]=f>>>24&255,u[l++]=0,u[l++]=0,u[l++]=0,u[l++]=0,h=8;h<this.padLength;h++)u[l++]=0;return u}},9313:(r,i,o)=>{"use strict";var s=o(4685),a=o(3528);function c(f,y,m){if(!(this instanceof c))return new c(f,y,m);this.Hash=f,this.blockSize=f.blockSize/8,this.outSize=f.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(y,m))}r.exports=c,c.prototype._init=function(f){f.length>this.blockSize&&(f=new this.Hash().update(f).digest()),a(f.length<=this.blockSize);for(var y=f.length;y<this.blockSize;y++)f.push(0);for(y=0;y<f.length;y++)f[y]^=54;for(this.inner=new this.Hash().update(f),y=0;y<f.length;y++)f[y]^=106;this.outer=new this.Hash().update(f)},c.prototype.update=function(f,y){return this.inner.update(f,y),this},c.prototype.digest=function(f){return this.outer.update(this.inner.digest()),this.outer.digest(f)}},601:(r,i,o)=>{"use strict";var s=o(4685),a=o(7695),c=s.rotl32,f=s.sum32,y=s.sum32_3,m=s.sum32_4,u=a.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(S,w,D,x){return S<=15?w^D^x:S<=31?w&D|~w&x:S<=47?(w|~D)^x:S<=63?w&x|D&~x:w^(D|~x)}function d(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function p(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}s.inherits(l,u),i.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(S,w){for(var D=this.h[0],x=this.h[1],M=this.h[2],P=this.h[3],k=this.h[4],B=D,L=x,V=M,Q=P,ne=k,te=0;te<80;te++){var E=f(c(m(D,h(te,x,M,P),S[g[te]+w],d(te)),v[te]),k);D=k,k=P,P=c(M,10),M=x,x=E,E=f(c(m(B,h(79-te,L,V,Q),S[b[te]+w],p(te)),_[te]),ne),B=ne,ne=Q,Q=c(V,10),V=L,L=E}E=y(this.h[1],M,Q),this.h[1]=y(this.h[2],P,ne),this.h[2]=y(this.h[3],k,B),this.h[3]=y(this.h[4],D,L),this.h[4]=y(this.h[0],x,V),this.h[0]=E},l.prototype._digest=function(S){return S==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},690:(r,i,o)=>{"use strict";i.sha1=o(4042),i.sha224=o(3329),i.sha256=o(2344),i.sha384=o(3420),i.sha512=o(6749)},4042:(r,i,o)=>{"use strict";var s=o(4685),a=o(7695),c=o(4104),f=s.rotl32,y=s.sum32,m=s.sum32_5,u=c.ft_1,l=a.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(d,l),r.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(p,g){for(var b=this.W,v=0;v<16;v++)b[v]=p[g+v];for(;v<b.length;v++)b[v]=f(b[v-3]^b[v-8]^b[v-14]^b[v-16],1);var _=this.h[0],S=this.h[1],w=this.h[2],D=this.h[3],x=this.h[4];for(v=0;v<b.length;v++){var M=~~(v/20),P=m(f(_,5),u(M,S,w,D),x,b[v],h[M]);x=D,D=w,w=f(S,30),S=_,_=P}this.h[0]=y(this.h[0],_),this.h[1]=y(this.h[1],S),this.h[2]=y(this.h[2],w),this.h[3]=y(this.h[3],D),this.h[4]=y(this.h[4],x)},d.prototype._digest=function(p){return p==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},3329:(r,i,o)=>{"use strict";var s=o(4685),a=o(2344);function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(c,a),r.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},2344:(r,i,o)=>{"use strict";var s=o(4685),a=o(7695),c=o(4104),f=o(3528),y=s.sum32,m=s.sum32_4,u=s.sum32_5,l=c.ch32,h=c.maj32,d=c.s0_256,p=c.s1_256,g=c.g0_256,b=c.g1_256,v=a.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}s.inherits(S,v),r.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(w,D){for(var x=this.W,M=0;M<16;M++)x[M]=w[D+M];for(;M<x.length;M++)x[M]=m(b(x[M-2]),x[M-7],g(x[M-15]),x[M-16]);var P=this.h[0],k=this.h[1],B=this.h[2],L=this.h[3],V=this.h[4],Q=this.h[5],ne=this.h[6],te=this.h[7];for(f(this.k.length===x.length),M=0;M<x.length;M++){var E=u(te,p(V),l(V,Q,ne),this.k[M],x[M]),O=y(d(P),h(P,k,B));te=ne,ne=Q,Q=V,V=y(L,E),L=B,B=k,k=P,P=y(E,O)}this.h[0]=y(this.h[0],P),this.h[1]=y(this.h[1],k),this.h[2]=y(this.h[2],B),this.h[3]=y(this.h[3],L),this.h[4]=y(this.h[4],V),this.h[5]=y(this.h[5],Q),this.h[6]=y(this.h[6],ne),this.h[7]=y(this.h[7],te)},S.prototype._digest=function(w){return w==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},3420:(r,i,o)=>{"use strict";var s=o(4685),a=o(6749);function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(c,a),r.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},6749:(r,i,o)=>{"use strict";var s=o(4685),a=o(7695),c=o(3528),f=s.rotr64_hi,y=s.rotr64_lo,m=s.shr64_hi,u=s.shr64_lo,l=s.sum64,h=s.sum64_hi,d=s.sum64_lo,p=s.sum64_4_hi,g=s.sum64_4_lo,b=s.sum64_5_hi,v=s.sum64_5_lo,_=a.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}function D(te,E,O,C,I){var T=te&O^~te&I;return T<0&&(T+=4294967296),T}function x(te,E,O,C,I,T){var N=E&C^~E&T;return N<0&&(N+=4294967296),N}function M(te,E,O,C,I){var T=te&O^te&I^O&I;return T<0&&(T+=4294967296),T}function P(te,E,O,C,I,T){var N=E&C^E&T^C&T;return N<0&&(N+=4294967296),N}function k(te,E){var O=f(te,E,28)^f(E,te,2)^f(E,te,7);return O<0&&(O+=4294967296),O}function B(te,E){var O=y(te,E,28)^y(E,te,2)^y(E,te,7);return O<0&&(O+=4294967296),O}function L(te,E){var O=y(te,E,14)^y(te,E,18)^y(E,te,9);return O<0&&(O+=4294967296),O}function V(te,E){var O=f(te,E,1)^f(te,E,8)^m(te,E,7);return O<0&&(O+=4294967296),O}function Q(te,E){var O=y(te,E,1)^y(te,E,8)^u(te,E,7);return O<0&&(O+=4294967296),O}function ne(te,E){var O=y(te,E,19)^y(E,te,29)^u(te,E,6);return O<0&&(O+=4294967296),O}s.inherits(w,_),r.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(te,E){for(var O=this.W,C=0;C<32;C++)O[C]=te[E+C];for(;C<O.length;C+=2){var I=(U=O[C-4],Z=O[C-3],ee=void 0,(ee=f(U,Z,19)^f(Z,U,29)^m(U,Z,6))<0&&(ee+=4294967296),ee),T=ne(O[C-4],O[C-3]),N=O[C-14],j=O[C-13],H=V(O[C-30],O[C-29]),q=Q(O[C-30],O[C-29]),X=O[C-32],z=O[C-31];O[C]=p(I,T,N,j,H,q,X,z),O[C+1]=g(I,T,N,j,H,q,X,z)}var U,Z,ee},w.prototype._update=function(te,E){this._prepareBlock(te,E);var O,C,I,T=this.W,N=this.h[0],j=this.h[1],H=this.h[2],q=this.h[3],X=this.h[4],z=this.h[5],U=this.h[6],Z=this.h[7],ee=this.h[8],R=this.h[9],$=this.h[10],G=this.h[11],ie=this.h[12],ae=this.h[13],le=this.h[14],J=this.h[15];c(this.k.length===T.length);for(var re=0;re<T.length;re+=2){var ue=le,fe=J,de=(I=void 0,(I=f(O=ee,C=R,14)^f(O,C,18)^f(C,O,9))<0&&(I+=4294967296),I),se=L(ee,R),Ie=D(ee,0,$,0,ie),Ce=x(0,R,0,G,0,ae),we=this.k[re],Te=this.k[re+1],Ne=T[re],Ye=T[re+1],Le=b(ue,fe,de,se,Ie,Ce,we,Te,Ne,Ye),at=v(ue,fe,de,se,Ie,Ce,we,Te,Ne,Ye);ue=k(N,j),fe=B(N,j),de=M(N,0,H,0,X),se=P(0,j,0,q,0,z);var Et=h(ue,fe,de,se),Je=d(ue,fe,de,se);le=ie,J=ae,ie=$,ae=G,$=ee,G=R,ee=h(U,Z,Le,at),R=d(Z,Z,Le,at),U=X,Z=z,X=H,z=q,H=N,q=j,N=h(Le,at,Et,Je),j=d(Le,at,Et,Je)}l(this.h,0,N,j),l(this.h,2,H,q),l(this.h,4,X,z),l(this.h,6,U,Z),l(this.h,8,ee,R),l(this.h,10,$,G),l(this.h,12,ie,ae),l(this.h,14,le,J)},w.prototype._digest=function(te){return te==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},4104:(r,i,o)=>{"use strict";var s=o(4685).rotr32;function a(y,m,u){return y&m^~y&u}function c(y,m,u){return y&m^y&u^m&u}function f(y,m,u){return y^m^u}i.ft_1=function(y,m,u,l){return y===0?a(m,u,l):y===1||y===3?f(m,u,l):y===2?c(m,u,l):void 0},i.ch32=a,i.maj32=c,i.p32=f,i.s0_256=function(y){return s(y,2)^s(y,13)^s(y,22)},i.s1_256=function(y){return s(y,6)^s(y,11)^s(y,25)},i.g0_256=function(y){return s(y,7)^s(y,18)^y>>>3},i.g1_256=function(y){return s(y,17)^s(y,19)^y>>>10}},4685:(r,i,o)=>{"use strict";var s=o(3528),a=o(1679);function c(u,l){return(64512&u.charCodeAt(l))==55296&&!(l<0||l+1>=u.length)&&(64512&u.charCodeAt(l+1))==56320}function f(u){return(u>>>24|u>>>8&65280|u<<8&16711680|(255&u)<<24)>>>0}function y(u){return u.length===1?"0"+u:u}function m(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}i.inherits=a,i.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var h=[];if(typeof u=="string")if(l){if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),p=0;p<u.length;p+=2)h.push(parseInt(u[p]+u[p+1],16))}else for(var d=0,p=0;p<u.length;p++){var g=u.charCodeAt(p);g<128?h[d++]=g:g<2048?(h[d++]=g>>6|192,h[d++]=63&g|128):c(u,p)?(g=65536+((1023&g)<<10)+(1023&u.charCodeAt(++p)),h[d++]=g>>18|240,h[d++]=g>>12&63|128,h[d++]=g>>6&63|128,h[d++]=63&g|128):(h[d++]=g>>12|224,h[d++]=g>>6&63|128,h[d++]=63&g|128)}else for(p=0;p<u.length;p++)h[p]=0|u[p];return h},i.toHex=function(u){for(var l="",h=0;h<u.length;h++)l+=y(u[h].toString(16));return l},i.htonl=f,i.toHex32=function(u,l){for(var h="",d=0;d<u.length;d++){var p=u[d];l==="little"&&(p=f(p)),h+=m(p.toString(16))}return h},i.zero2=y,i.zero8=m,i.join32=function(u,l,h,d){var p=h-l;s(p%4==0);for(var g=new Array(p/4),b=0,v=l;b<g.length;b++,v+=4){var _;_=d==="big"?u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3]:u[v+3]<<24|u[v+2]<<16|u[v+1]<<8|u[v],g[b]=_>>>0}return g},i.split32=function(u,l){for(var h=new Array(4*u.length),d=0,p=0;d<u.length;d++,p+=4){var g=u[d];l==="big"?(h[p]=g>>>24,h[p+1]=g>>>16&255,h[p+2]=g>>>8&255,h[p+3]=255&g):(h[p+3]=g>>>24,h[p+2]=g>>>16&255,h[p+1]=g>>>8&255,h[p]=255&g)}return h},i.rotr32=function(u,l){return u>>>l|u<<32-l},i.rotl32=function(u,l){return u<<l|u>>>32-l},i.sum32=function(u,l){return u+l>>>0},i.sum32_3=function(u,l,h){return u+l+h>>>0},i.sum32_4=function(u,l,h,d){return u+l+h+d>>>0},i.sum32_5=function(u,l,h,d,p){return u+l+h+d+p>>>0},i.sum64=function(u,l,h,d){var p=u[l],g=d+u[l+1]>>>0,b=(g<d?1:0)+h+p;u[l]=b>>>0,u[l+1]=g},i.sum64_hi=function(u,l,h,d){return(l+d>>>0<l?1:0)+u+h>>>0},i.sum64_lo=function(u,l,h,d){return l+d>>>0},i.sum64_4_hi=function(u,l,h,d,p,g,b,v){var _=0,S=l;return _+=(S=S+d>>>0)<l?1:0,_+=(S=S+g>>>0)<g?1:0,u+h+p+b+(_+=(S=S+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(u,l,h,d,p,g,b,v){return l+d+g+v>>>0},i.sum64_5_hi=function(u,l,h,d,p,g,b,v,_,S){var w=0,D=l;return w+=(D=D+d>>>0)<l?1:0,w+=(D=D+g>>>0)<g?1:0,w+=(D=D+v>>>0)<v?1:0,u+h+p+b+_+(w+=(D=D+S>>>0)<S?1:0)>>>0},i.sum64_5_lo=function(u,l,h,d,p,g,b,v,_,S){return l+d+g+v+S>>>0},i.rotr64_hi=function(u,l,h){return(l<<32-h|u>>>h)>>>0},i.rotr64_lo=function(u,l,h){return(u<<32-h|l>>>h)>>>0},i.shr64_hi=function(u,l,h){return u>>>h},i.shr64_lo=function(u,l,h){return(u<<32-h|l>>>h)>>>0}},5994:(r,i,o)=>{"use strict";var s=Function.prototype.call,a=Object.prototype.hasOwnProperty,c=o(2354);r.exports=c.call(s,a)},6934:(r,i,o)=>{"use strict";var s=o(2859),a=o(6706),c=o(3528);function f(y){if(!(this instanceof f))return new f(y);this.hash=y.hash,this.predResist=!!y.predResist,this.outLen=this.hash.outSize,this.minEntropy=y.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var m=a.toArray(y.entropy,y.entropyEnc||"hex"),u=a.toArray(y.nonce,y.nonceEnc||"hex"),l=a.toArray(y.pers,y.persEnc||"hex");c(m.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(m,u,l)}r.exports=f,f.prototype._init=function(y,m,u){var l=y.concat(m).concat(u);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},f.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},f.prototype._update=function(y){var m=this._hmac().update(this.V).update([0]);y&&(m=m.update(y)),this.K=m.digest(),this.V=this._hmac().update(this.V).digest(),y&&(this.K=this._hmac().update(this.V).update([1]).update(y).digest(),this.V=this._hmac().update(this.V).digest())},f.prototype.reseed=function(y,m,u,l){typeof m!="string"&&(l=u,u=m,m=null),y=a.toArray(y,m),u=a.toArray(u,l),c(y.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(y.concat(u||[])),this._reseed=1},f.prototype.generate=function(y,m,u,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof m!="string"&&(l=u,u=m,m=null),u&&(u=a.toArray(u,l||"hex"),this._update(u));for(var h=[];h.length<y;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var d=h.slice(0,y);return this._update(u),this._reseed++,a.encode(d,m)}},2486:(r,i)=>{i.read=function(o,s,a,c,f){var y,m,u=8*f-c-1,l=(1<<u)-1,h=l>>1,d=-7,p=a?f-1:0,g=a?-1:1,b=o[s+p];for(p+=g,y=b&(1<<-d)-1,b>>=-d,d+=u;d>0;y=256*y+o[s+p],p+=g,d-=8);for(m=y&(1<<-d)-1,y>>=-d,d+=c;d>0;m=256*m+o[s+p],p+=g,d-=8);if(y===0)y=1-h;else{if(y===l)return m?NaN:1/0*(b?-1:1);m+=Math.pow(2,c),y-=h}return(b?-1:1)*m*Math.pow(2,y-c)},i.write=function(o,s,a,c,f,y){var m,u,l,h=8*y-f-1,d=(1<<h)-1,p=d>>1,g=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:y-1,v=c?1:-1,_=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(u=isNaN(s)?1:0,m=d):(m=Math.floor(Math.log(s)/Math.LN2),s*(l=Math.pow(2,-m))<1&&(m--,l*=2),(s+=m+p>=1?g/l:g*Math.pow(2,1-p))*l>=2&&(m++,l/=2),m+p>=d?(u=0,m=d):m+p>=1?(u=(s*l-1)*Math.pow(2,f),m+=p):(u=s*Math.pow(2,p-1)*Math.pow(2,f),m=0));f>=8;o[a+b]=255&u,b+=v,u/=256,f-=8);for(m=m<<f|u,h+=f;h>0;o[a+b]=255&m,b+=v,m/=256,h-=8);o[a+b-v]|=128*_}},1679:r=>{typeof Object.create=="function"?r.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(i,o){if(o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i}}},5899:(r,i,o)=>{"use strict";function s(u){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}var a=o(953)(),c=o(3071)("Object.prototype.toString"),f=function(u){return!(a&&u&&s(u)==="object"&&Symbol.toStringTag in u)&&c(u)==="[object Arguments]"},y=function(u){return!!f(u)||u!==null&&s(u)==="object"&&"length"in u&&typeof u.length=="number"&&u.length>=0&&c(u)!=="[object Array]"&&"callee"in u&&c(u.callee)==="[object Function]"},m=function(){return f(arguments)}();f.isLegacyArguments=y,r.exports=m?f:y},9809:r=>{"use strict";function i(g){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},i(g)}var o,s,a=Function.prototype.toString,c=(typeof Reflect>"u"?"undefined":i(Reflect))==="object"&&Reflect!==null&&Reflect.apply;if(typeof c=="function"&&typeof Object.defineProperty=="function")try{o=Object.defineProperty({},"length",{get:function(){throw s}}),s={},c(function(){throw 42},null,o)}catch(g){g!==s&&(c=null)}else c=null;var f=/^\s*class\b/,y=function(g){try{var b=a.call(g);return f.test(b)}catch{return!1}},m=function(g){try{return!y(g)&&(a.call(g),!0)}catch{return!1}},u=Object.prototype.toString,l=typeof Symbol=="function"&&!!Symbol.toStringTag,h=!(0 in[,]),d=function(){return!1};if((typeof document>"u"?"undefined":i(document))==="object"){var p=document.all;u.call(p)===u.call(document.all)&&(d=function(g){if((h||!g)&&(g===void 0||i(g)==="object"))try{var b=u.call(g);return(b==="[object HTMLAllCollection]"||b==="[object HTML document.all class]"||b==="[object HTMLCollection]"||b==="[object Object]")&&g("")==null}catch{}return!1})}r.exports=c?function(g){if(d(g))return!0;if(!g||typeof g!="function"&&i(g)!=="object")return!1;try{c(g,null,o)}catch(b){if(b!==s)return!1}return!y(g)&&m(g)}:function(g){if(d(g))return!0;if(!g||typeof g!="function"&&i(g)!=="object")return!1;if(l)return m(g);if(y(g))return!1;var b=u.call(g);return!(b!=="[object Function]"&&b!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(b))&&m(g)}},1905:(r,i,o)=>{"use strict";var s,a=o(3071),c=o(2724)(/^\s*(?:function)?\*/),f=o(953)(),y=o(209),m=a("Object.prototype.toString"),u=a("Function.prototype.toString");r.exports=function(l){if(typeof l!="function")return!1;if(c(u(l)))return!0;if(!f)return m(l)==="[object GeneratorFunction]";if(!y)return!1;if(s===void 0){var h=function(){if(!f)return!1;try{return Function("return function*() {}")()}catch{}}();s=!!h&&y(h)}return y(l)===s}},118:r=>{"use strict";r.exports=function(i){return i!=i}},6062:(r,i,o)=>{"use strict";var s=o(9122),a=o(2273),c=o(118),f=o(4183),y=o(5497),m=s(f(),Number);a(m,{getPolyfill:f,implementation:c,shim:y}),r.exports=m},4183:(r,i,o)=>{"use strict";var s=o(118);r.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:s}},5497:(r,i,o)=>{"use strict";var s=o(2273),a=o(4183);r.exports=function(){var c=a();return s(Number,{isNaN:c},{isNaN:function(){return Number.isNaN!==c}}),c}},9344:(r,i,o)=>{"use strict";function s(g){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s(g)}var a,c=o(3071),f=o(953)(),y=o(5994),m=o(1464);if(f){var u=c("RegExp.prototype.exec"),l={},h=function(){throw l},d={toString:h,valueOf:h};s(Symbol.toPrimitive)==="symbol"&&(d[Symbol.toPrimitive]=h),a=function(g){if(!g||s(g)!=="object")return!1;var b=m(g,"lastIndex");if(!b||!y(b,"value"))return!1;try{u(g,d)}catch(v){return v===l}}}else{var p=c("Object.prototype.toString");a=function(g){return!(!g||s(g)!=="object"&&typeof g!="function")&&p(g)==="[object RegExp]"}}r.exports=a},7911:(r,i,o)=>{"use strict";var s=o(9834);r.exports=function(a){return!!s(a)}},5455:r=>{var i={}.toString;r.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},8297:r=>{"use strict";function i(b,v){var _=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!_){if(Array.isArray(b)||(_=s(b))||v&&b&&typeof b.length=="number"){_&&(b=_);var S=0,w=function(){};return{s:w,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(P){throw P},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,x=!0,M=!1;return{s:function(){_=_.call(b)},n:function(){var P=_.next();return x=P.done,P},e:function(P){M=!0,D=P},f:function(){try{x||_.return==null||_.return()}finally{if(M)throw D}}}}function o(b){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o(b)}function s(b,v){if(b){if(typeof b=="string")return a(b,v);var _={}.toString.call(b).slice(8,-1);return _==="Object"&&b.constructor&&(_=b.constructor.name),_==="Map"||_==="Set"?Array.from(b):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?a(b,v):void 0}}function a(b,v){(v==null||v>b.length)&&(v=b.length);for(var _=0,S=Array(v);_<v;_++)S[_]=b[_];return S}function c(b,v,_){if(y())return Reflect.construct.apply(null,arguments);var S=[null];S.push.apply(S,v);var w=new(b.bind.apply(b,S));return _&&f(w,_.prototype),w}function f(b,v){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,S){return _.__proto__=S,_},f(b,v)}function y(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!b})()}function m(){this._pres=new Map,this._posts=new Map}function u(b,v,_,S,w,D,x){return D.useErrorHandlers?b.execPost(_,S,w,{error:v},function(M){return typeof x=="function"&&x(M)}):typeof x=="function"&&x(v)}function l(b,v,_,S){var w;try{w=b.apply(v,_)}catch(D){return S(D)}h(w)&&w.then(function(){return S()},function(D){return S(D)})}function h(b){return o(b)==="object"&&b!==null&&typeof b.then=="function"}function d(b){var v=!1,_=this;return function(){var S=arguments;if(!v)return v=!0,p(function(){return b.apply(_,S)})}}m.skipWrappedFunction=function(){if(!(this instanceof m.skipWrappedFunction))return c(m.skipWrappedFunction,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},m.overwriteResult=function(){if(!(this instanceof m.overwriteResult))return c(m.overwriteResult,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},m.prototype.execPre=function(b,v,_,S){arguments.length===3&&(S=_,_=[]);var w=this._pres.get(b)||[],D=w.length,x=w.numAsync||0,M=0,P=x,k=!1,B=_,L=null;if(!D)return p(function(){S(null)});function V(){if(!(M>=D)){var ne=w[M];if(ne.isAsync){var te=[d(Q),d(function(T){if(T){if(k)return;if(!(T instanceof m.skipWrappedFunction))return k=!0,S(T);L=T}if(--P==0&&M>=D)return S(L)})];l(ne.fn,v,te,te[0])}else if(ne.fn.length>0){for(var E=[d(Q)],O=arguments.length>=2?arguments:[null].concat(B),C=1;C<O.length;++C)C===O.length-1&&typeof O[C]=="function"||E.push(O[C]);l(ne.fn,v,E,E[0])}else{var I=null;try{I=ne.fn.call(v)}catch(T){if(T!=null)return S(T)}if(h(I))I.then(function(){return Q()},function(T){return Q(T)});else{if(++M>=D)return P>0?void 0:p(function(){S(L)});V()}}}}function Q(ne){if(ne){if(k)return;if(!(ne instanceof m.skipWrappedFunction))return k=!0,S(ne);L=ne}if(++M>=D)return P>0?void 0:S(L);V.apply(v,arguments)}V.apply(null,[null].concat(_))},m.prototype.execPreSync=function(b,v,_){for(var S=this._pres.get(b)||[],w=S.length,D=0;D<w;++D)S[D].fn.apply(v,_||[])},m.prototype.execPost=function(b,v,_,S,w){arguments.length<5&&(w=S,S=null);var D=this._posts.get(b)||[],x=D.length,M=0,P=null;if(S&&S.error&&(P=S.error),!x)return p(function(){w.apply(null,[P].concat(_))});(function k(){for(var B=D[M].fn,L=0,V=_.length,Q=[],ne=0;ne<V;++ne)L+=_[ne]&&_[ne]._kareemIgnore?0:1,_[ne]&&_[ne]._kareemIgnore||Q.push(_[ne]);if(P)if(g(D[M],L)){var te=d(function(I){if(I){if(I instanceof m.overwriteResult)return _=I.args,++M>=x?w.call(null,P):k();P=I}if(++M>=x)return w.call(null,P);k()});l(B,v,[P].concat(Q).concat([te]),te)}else{if(++M>=x)return w.call(null,P);k()}else{var E=d(function(I){return I?I instanceof m.overwriteResult?(_=I.args,++M>=x?w.apply(null,[null].concat(_)):k()):(P=I,k()):++M>=x?w.apply(null,[null].concat(_)):void k()});if(g(D[M],L))return++M>=x?w.apply(null,[null].concat(_)):k();if(B.length===L+1)l(B,v,Q.concat([E]),E);else{var O,C;try{C=B.apply(v,Q)}catch(I){O=I,P=I}if(h(C))return C.then(function(I){E(I instanceof m.overwriteResult?I:null)},function(I){return E(I)});if(C instanceof m.overwriteResult&&(_=C.args),++M>=x)return w.apply(null,[O].concat(_));k()}}})()},m.prototype.execPostSync=function(b,v,_){for(var S=this._posts.get(b)||[],w=S.length,D=0;D<w;++D){var x=S[D].fn.apply(v,_||[]);x instanceof m.overwriteResult&&(_=x.args)}return _},m.prototype.createWrapperSync=function(b,v){var _=this;return function(){_.execPreSync(b,this,arguments);var S=v.apply(this,arguments);return _.execPostSync(b,this,[S])[0]}},m.prototype.wrap=function(b,v,_,S,w){var D=S.length>0?S[S.length-1]:null,x=Array.from(S);typeof D=="function"&&x.pop();var M=this,P=(w=w||{}).checkForPromise;this.execPre(b,_,S,function(k){if(k&&!(k instanceof m.skipWrappedFunction)){for(var B=w.numCallbackParams||0,L=w.contextParameter?[_]:[],V=L.length;V<B;++V)L.push(null);return u(M,k,b,_,L,w,D)}var Q,ne,te=v.length;if(k instanceof m.skipWrappedFunction)return Q=k.args[0],E.apply(void 0,[null].concat(function(O){if(Array.isArray(O))return a(O)}(ne=k.args)||function(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}(ne)||s(ne)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()));try{Q=v.apply(_,x.concat(E))}catch(O){return E(O)}if(P){if(h(Q))return Q.then(function(O){return E(null,O)},function(O){return E(O)});if(te<x.length+1)return E(null,Q)}function E(){var O=Array.from(arguments);if(O.shift(),w.nullResultByDefault&&O.length===0&&O.push(null),arguments[0])return u(M,arguments[0],b,_,O,w,D);M.execPost(b,_,O,function(){D!==null&&(arguments[0]?D(arguments[0]):D.apply(_,arguments))})}})},m.prototype.filter=function(b){for(var v=this,_=this.clone(),S=Array.from(_._pres.keys()),w=function(){var L=x[D],V=v._pres.get(L).map(function(Q){return Object.assign({},Q,{name:L})}).filter(b);if(V.length===0)return _._pres.delete(L),1;V.numAsync=V.filter(function(Q){return Q.isAsync}).length,_._pres.set(L,V)},D=0,x=S;D<x.length;D++)w();for(var M=Array.from(_._posts.keys()),P=function(){var L=B[k],V=v._posts.get(L).map(function(Q){return Object.assign({},Q,{name:L})}).filter(b);if(V.length===0)return _._posts.delete(L),1;_._posts.set(L,V)},k=0,B=M;k<B.length;k++)P();return _},m.prototype.hasHooks=function(b){return this._pres.has(b)||this._posts.has(b)},m.prototype.createWrapper=function(b,v,_,S){var w=this;return this.hasHooks(b)?function(){var D=_||this;w.wrap(b,v,D,Array.from(arguments),S)}:function(){var D=arguments,x=this;p(function(){return v.apply(x,D)})}},m.prototype.pre=function(b,v,_,S,w){var D={};o(v)==="object"&&v!==null?v=(D=v).isAsync:typeof arguments[1]!="boolean"&&(_=v,v=!1);var x=this._pres.get(b)||[];if(this._pres.set(b,x),v&&(x.numAsync=x.numAsync||0,++x.numAsync),typeof _!="function")throw new Error('pre() requires a function, got "'+o(_)+'"');return w?x.unshift(Object.assign({},D,{fn:_,isAsync:v})):x.push(Object.assign({},D,{fn:_,isAsync:v})),this},m.prototype.post=function(b,v,_,S){var w=this._posts.get(b)||[];if(typeof v=="function"&&(S=!!_,_=v,v={}),typeof _!="function")throw new Error('post() requires a function, got "'+o(_)+'"');return S?w.unshift(Object.assign({},v,{fn:_})):w.push(Object.assign({},v,{fn:_})),this._posts.set(b,w),this},m.prototype.clone=function(){var b,v=new m,_=i(this._pres.keys());try{for(_.s();!(b=_.n()).done;){var S=b.value,w=this._pres.get(S).slice();w.numAsync=this._pres.get(S).numAsync,v._pres.set(S,w)}}catch(P){_.e(P)}finally{_.f()}var D,x=i(this._posts.keys());try{for(x.s();!(D=x.n()).done;){var M=D.value;v._posts.set(M,this._posts.get(M).slice())}}catch(P){x.e(P)}finally{x.f()}return v},m.prototype.merge=function(b,v){var _,S=(v=arguments.length===1||v)?this.clone():this,w=i(b._pres.keys());try{var D=function(){var k=_.value,B=S._pres.get(k)||[],L=b._pres.get(k).filter(function(Q){return B.map(function(ne){return ne.fn}).indexOf(Q.fn)===-1}),V=B.concat(L);V.numAsync=B.numAsync||0,V.numAsync+=L.filter(function(Q){return Q.isAsync}).length,S._pres.set(k,V)};for(w.s();!(_=w.n()).done;)D()}catch(k){w.e(k)}finally{w.f()}var x,M=i(b._posts.keys());try{var P=function(){var k=x.value,B=S._posts.get(k)||[],L=b._posts.get(k).filter(function(V){return B.indexOf(V)===-1});S._posts.set(k,B.concat(L))};for(M.s();!(x=M.n()).done;)P()}catch(k){M.e(k)}finally{M.f()}return S};var p=o({env:{}})==="object"&&{env:{}}!==null&&{env:{}}.nextTick||function(b){setTimeout(b,0)};function g(b,v){return!!b.errorHandler||b.fn.length===v+2}r.exports=m},9471:r=>{"use strict";r.exports=Math.abs},2401:r=>{"use strict";r.exports=Math.floor},3414:r=>{"use strict";r.exports=Number.isNaN||function(i){return i!=i}},1697:r=>{"use strict";r.exports=Math.max},8435:r=>{"use strict";r.exports=Math.min},8633:r=>{"use strict";r.exports=Math.pow},2151:r=>{"use strict";r.exports=Math.round},674:(r,i,o)=>{"use strict";var s=o(3414);r.exports=function(a){return s(a)||a===0?a:a<0?-1:1}},2635:(r,i,o)=>{"use strict";var s=o(1679),a=o(6936),c=o(9732).Buffer,f=new Array(16);function y(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function m(p,g){return p<<g|p>>>32-g}function u(p,g,b,v,_,S,w){return m(p+(g&b|~g&v)+_+S|0,w)+g|0}function l(p,g,b,v,_,S,w){return m(p+(g&v|b&~v)+_+S|0,w)+g|0}function h(p,g,b,v,_,S,w){return m(p+(g^b^v)+_+S|0,w)+g|0}function d(p,g,b,v,_,S,w){return m(p+(b^(g|~v))+_+S|0,w)+g|0}s(y,a),y.prototype._update=function(){for(var p=f,g=0;g<16;++g)p[g]=this._block.readInt32LE(4*g);var b=this._a,v=this._b,_=this._c,S=this._d;b=u(b,v,_,S,p[0],3614090360,7),S=u(S,b,v,_,p[1],3905402710,12),_=u(_,S,b,v,p[2],606105819,17),v=u(v,_,S,b,p[3],3250441966,22),b=u(b,v,_,S,p[4],4118548399,7),S=u(S,b,v,_,p[5],1200080426,12),_=u(_,S,b,v,p[6],2821735955,17),v=u(v,_,S,b,p[7],4249261313,22),b=u(b,v,_,S,p[8],1770035416,7),S=u(S,b,v,_,p[9],2336552879,12),_=u(_,S,b,v,p[10],4294925233,17),v=u(v,_,S,b,p[11],2304563134,22),b=u(b,v,_,S,p[12],1804603682,7),S=u(S,b,v,_,p[13],4254626195,12),_=u(_,S,b,v,p[14],2792965006,17),b=l(b,v=u(v,_,S,b,p[15],1236535329,22),_,S,p[1],4129170786,5),S=l(S,b,v,_,p[6],3225465664,9),_=l(_,S,b,v,p[11],643717713,14),v=l(v,_,S,b,p[0],3921069994,20),b=l(b,v,_,S,p[5],3593408605,5),S=l(S,b,v,_,p[10],38016083,9),_=l(_,S,b,v,p[15],3634488961,14),v=l(v,_,S,b,p[4],3889429448,20),b=l(b,v,_,S,p[9],568446438,5),S=l(S,b,v,_,p[14],3275163606,9),_=l(_,S,b,v,p[3],4107603335,14),v=l(v,_,S,b,p[8],1163531501,20),b=l(b,v,_,S,p[13],2850285829,5),S=l(S,b,v,_,p[2],4243563512,9),_=l(_,S,b,v,p[7],1735328473,14),b=h(b,v=l(v,_,S,b,p[12],2368359562,20),_,S,p[5],4294588738,4),S=h(S,b,v,_,p[8],2272392833,11),_=h(_,S,b,v,p[11],1839030562,16),v=h(v,_,S,b,p[14],4259657740,23),b=h(b,v,_,S,p[1],2763975236,4),S=h(S,b,v,_,p[4],1272893353,11),_=h(_,S,b,v,p[7],4139469664,16),v=h(v,_,S,b,p[10],3200236656,23),b=h(b,v,_,S,p[13],681279174,4),S=h(S,b,v,_,p[0],3936430074,11),_=h(_,S,b,v,p[3],3572445317,16),v=h(v,_,S,b,p[6],76029189,23),b=h(b,v,_,S,p[9],3654602809,4),S=h(S,b,v,_,p[12],3873151461,11),_=h(_,S,b,v,p[15],530742520,16),b=d(b,v=h(v,_,S,b,p[2],3299628645,23),_,S,p[0],4096336452,6),S=d(S,b,v,_,p[7],1126891415,10),_=d(_,S,b,v,p[14],2878612391,15),v=d(v,_,S,b,p[5],4237533241,21),b=d(b,v,_,S,p[12],1700485571,6),S=d(S,b,v,_,p[3],2399980690,10),_=d(_,S,b,v,p[10],4293915773,15),v=d(v,_,S,b,p[1],2240044497,21),b=d(b,v,_,S,p[8],1873313359,6),S=d(S,b,v,_,p[15],4264355552,10),_=d(_,S,b,v,p[6],2734768916,15),v=d(v,_,S,b,p[13],1309151649,21),b=d(b,v,_,S,p[4],4149444226,6),S=d(S,b,v,_,p[11],3174756917,10),_=d(_,S,b,v,p[2],718787259,15),v=d(v,_,S,b,p[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+v|0,this._c=this._c+_|0,this._d=this._d+S|0},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=c.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p},r.exports=y},1257:(r,i,o)=>{var s=o(7799),a=o(8904);function c(f){this.rand=f||new a.Rand}r.exports=c,c.create=function(f){return new c(f)},c.prototype._randbelow=function(f){var y=f.bitLength(),m=Math.ceil(y/8);do var u=new s(this.rand.generate(m));while(u.cmp(f)>=0);return u},c.prototype._randrange=function(f,y){var m=y.sub(f);return f.add(this._randbelow(m))},c.prototype.test=function(f,y,m){var u=f.bitLength(),l=s.mont(f),h=new s(1).toRed(l);y||(y=Math.max(1,u/48|0));for(var d=f.subn(1),p=0;!d.testn(p);p++);for(var g=f.shrn(p),b=d.toRed(l);y>0;y--){var v=this._randrange(new s(2),d);m&&m(v);var _=v.toRed(l).redPow(g);if(_.cmp(h)!==0&&_.cmp(b)!==0){for(var S=1;S<p;S++){if((_=_.redSqr()).cmp(h)===0)return!1;if(_.cmp(b)===0)break}if(S===p)return!1}}return!0},c.prototype.getDivisor=function(f,y){var m=f.bitLength(),u=s.mont(f),l=new s(1).toRed(u);y||(y=Math.max(1,m/48|0));for(var h=f.subn(1),d=0;!h.testn(d);d++);for(var p=f.shrn(d),g=h.toRed(u);y>0;y--){var b=this._randrange(new s(2),h),v=f.gcd(b);if(v.cmpn(1)!==0)return v;var _=b.toRed(u).redPow(p);if(_.cmp(l)!==0&&_.cmp(g)!==0){for(var S=1;S<d;S++){if((_=_.redSqr()).cmp(l)===0)return _.fromRed().subn(1).gcd(f);if(_.cmp(g)===0)break}if(S===d)return(_=_.redSqr()).fromRed().subn(1).gcd(f)}}return!1}},3528:r=>{function i(o,s){if(!o)throw new Error(s||"Assertion failed")}r.exports=i,i.equal=function(o,s,a){if(o!=s)throw new Error(a||"Assertion failed: "+o+" != "+s)}},6706:(r,i)=>{"use strict";var o=i;function s(c){return c.length===1?"0"+c:c}function a(c){for(var f="",y=0;y<c.length;y++)f+=s(c[y].toString(16));return f}o.toArray=function(c,f){if(Array.isArray(c))return c.slice();if(!c)return[];var y=[];if(typeof c!="string"){for(var m=0;m<c.length;m++)y[m]=0|c[m];return y}if(f==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),m=0;m<c.length;m+=2)y.push(parseInt(c[m]+c[m+1],16));else for(m=0;m<c.length;m++){var u=c.charCodeAt(m),l=u>>8,h=255&u;l?y.push(l,h):y.push(h)}return y},o.zero2=s,o.toHex=a,o.encode=function(c,f){return f==="hex"?a(c):c}},5678:(r,i,o)=>{"use strict";r.exports=o(2914)},2914:(r,i,o)=>{function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(m)}var a=o(7860),c=["__proto__","constructor","prototype"];function f(m,u,l,h,d,p){for(var g,b=0;b<m.length&&b<u.length;++b)g=m[b],Array.isArray(g)&&Array.isArray(u[b])?f(g,u[b],l,h,d,p):g&&(h?h(g,l,p(u[b])):(g[d]&&(g=g[d]),g[l]=p(u[b])))}function y(m){return m}i.get=function(m,u,l,h){var d;typeof l=="function"&&(l.length<2?(h=l,l=void 0):(d=l,l=void 0)),h||(h=y);var p=typeof m=="string"?a(m):m;if(!Array.isArray(p))throw new TypeError("Invalid `path`. Must be either string or array");for(var g,b=u,v=0;v<p.length;++v){if(g=p[v],typeof p[v]!="string"&&typeof p[v]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+s(p[v]));if(Array.isArray(b)&&!/^\d+$/.test(g)){var _=p.slice(v);return[].concat(b).map(function(w){return w?i.get(_,w,l||d,h):h(void 0)})}if(d)b=d(b,g);else{var S=l&&b[l]?b[l]:b;b=S instanceof Map?S.get(g):S[g]}if(!b)return h(b)}return h(b)},i.has=function(m,u){var l=typeof m=="string"?a(m):m;if(!Array.isArray(l))throw new TypeError("Invalid `path`. Must be either string or array");for(var h=l.length,d=u,p=0;p<h;++p){if(typeof l[p]!="string"&&typeof l[p]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+s(l[p]));if(d==null||s(d)!=="object"||!(l[p]in d))return!1;d=d[l[p]]}return!0},i.unset=function(m,u){var l=typeof m=="string"?a(m):m;if(!Array.isArray(l))throw new TypeError("Invalid `path`. Must be either string or array");for(var h=l.length,d=u,p=0;p<h;++p){if(d==null||s(d)!=="object"||!(l[p]in d))return!1;if(typeof l[p]!="string"&&typeof l[p]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+s(l[p]));if(c.indexOf(l[p])!==-1)return!1;if(p===h-1)return delete d[l[p]],!0;d=d instanceof Map?d.get(l[p]):d[l[p]]}return!0},i.set=function(m,u,l,h,d,p){var g;typeof h=="function"&&(h.length<2?(d=h,h=void 0):(g=h,h=void 0)),d||(d=y);var b=typeof m=="string"?a(m):m;if(!Array.isArray(b))throw new TypeError("Invalid `path`. Must be either string or array");if(l!=null){for(var v=0;v<b.length;++v){if(typeof b[v]!="string"&&typeof b[v]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+s(b[v]));if(c.indexOf(b[v])!==-1)return}for(var _,S=p||/\$/.test(m)&&p!==!1,w=l,D=(v=0,b.length-1);v<D;++v)if((_=b[v])!="$"){if(Array.isArray(w)&&!/^\d+$/.test(_)){var x=b.slice(v);if(!S&&Array.isArray(u))for(var M=0;M<w.length&&M<u.length;++M)i.set(x,u[M],w[M],h||g,d,S);else for(M=0;M<w.length;++M)i.set(x,u,w[M],h||g,d,S);return}if(g)w=g(w,_);else{var P=h&&w[h]?w[h]:w;w=P instanceof Map?P.get(_):P[_]}if(!w)return}else if(v==D-1)break;if(_=b[D],h&&w[h]&&(w=w[h]),Array.isArray(w)&&!/^\d+$/.test(_))if(!S&&Array.isArray(u))f(w,u,_,g,h,d);else for(M=0;M<w.length;++M){var k=w[M];k&&(g?g(k,_,d(u)):(k[h]&&(k=k[h]),k[_]=d(u)))}else g?g(w,_,d(u)):w instanceof Map?w.set(_,d(u)):w[_]=d(u)}},i.stringToParts=a},7860:r=>{"use strict";r.exports=function(i){for(var o=[],s="",a="DEFAULT",c=0;c<i.length;++c)a!=="IN_SQUARE_BRACKETS"||/\d/.test(i[c])||i[c]==="]"||(a="DEFAULT",s=o[o.length-1]+"["+s,o.splice(o.length-1,1)),i[c]==="["?(a!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(o.push(s),s=""),a="IN_SQUARE_BRACKETS"):i[c]==="]"?a==="IN_SQUARE_BRACKETS"?(a="IMMEDIATELY_AFTER_SQUARE_BRACKETS",o.push(s),s=""):(a="DEFAULT",s+=i[c]):i[c]==="."?(a!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(o.push(s),s=""),a="DEFAULT"):s+=i[c];return a!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&o.push(s),o}},354:r=>{function i(m){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i(m)}var o=1e3,s=60*o,a=60*s,c=24*a,f=7*c;function y(m,u,l,h){var d=u>=1.5*l;return Math.round(m/l)+" "+h+(d?"s":"")}r.exports=function(m,u){u=u||{};var l,h,d=i(m);if(d==="string"&&m.length>0)return function(p){if(!((p=String(p)).length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var b=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*b;case"weeks":case"week":case"w":return b*f;case"days":case"day":case"d":return b*c;case"hours":case"hour":case"hrs":case"hr":case"h":return b*a;case"minutes":case"minute":case"mins":case"min":case"m":return b*s;case"seconds":case"second":case"secs":case"sec":case"s":return b*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}(m);if(d==="number"&&isFinite(m))return u.long?(l=m,(h=Math.abs(l))>=c?y(l,h,c,"day"):h>=a?y(l,h,a,"hour"):h>=s?y(l,h,s,"minute"):h>=o?y(l,h,o,"second"):l+" ms"):function(p){var g=Math.abs(p);return g>=c?Math.round(p/c)+"d":g>=a?Math.round(p/a)+"h":g>=s?Math.round(p/s)+"m":g>=o?Math.round(p/o)+"s":p+"ms"}(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}},4756:r=>{"use strict";var i=function(o){return o!=o};r.exports=function(o,s){return o===0&&s===0?1/o==1/s:o===s||!(!i(o)||!i(s))}},2064:(r,i,o)=>{"use strict";var s=o(2273),a=o(9122),c=o(4756),f=o(2481),y=o(9247),m=a(f(),Object);s(m,{getPolyfill:f,implementation:c,shim:y}),r.exports=m},2481:(r,i,o)=>{"use strict";var s=o(4756);r.exports=function(){return typeof Object.is=="function"?Object.is:s}},9247:(r,i,o)=>{"use strict";var s=o(2481),a=o(2273);r.exports=function(){var c=s();return a(Object,{is:c},{is:function(){return Object.is!==c}}),c}},6544:(r,i,o)=>{"use strict";function s(b){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s(b)}var a;if(!Object.keys){var c=Object.prototype.hasOwnProperty,f=Object.prototype.toString,y=o(6312),m=Object.prototype.propertyIsEnumerable,u=!m.call({toString:null},"toString"),l=m.call(function(){},"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(b){var v=b.constructor;return v&&v.prototype===b},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(typeof window>"u")return!1;for(var b in window)try{if(!p["$"+b]&&c.call(window,b)&&window[b]!==null&&s(window[b])==="object")try{d(window[b])}catch{return!0}}catch{return!0}return!1}();a=function(b){var v=b!==null&&s(b)==="object",_=f.call(b)==="[object Function]",S=y(b),w=v&&f.call(b)==="[object String]",D=[];if(!v&&!_&&!S)throw new TypeError("Object.keys called on a non-object");var x=l&&_;if(w&&b.length>0&&!c.call(b,0))for(var M=0;M<b.length;++M)D.push(String(M));if(S&&b.length>0)for(var P=0;P<b.length;++P)D.push(String(P));else for(var k in b)x&&k==="prototype"||!c.call(b,k)||D.push(String(k));if(u)for(var B=function(V){if(typeof window>"u"||!g)return d(V);try{return d(V)}catch{return!1}}(b),L=0;L<h.length;++L)B&&h[L]==="constructor"||!c.call(b,h[L])||D.push(h[L]);return D}}r.exports=a},668:(r,i,o)=>{"use strict";var s=Array.prototype.slice,a=o(6312),c=Object.keys,f=c?function(m){return c(m)}:o(6544),y=Object.keys;f.shim=function(){if(Object.keys){var m=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);m||(Object.keys=function(u){return a(u)?y(s.call(u)):y(u)})}else Object.keys=f;return Object.keys||f},r.exports=f},6312:r=>{"use strict";function i(s){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i(s)}var o=Object.prototype.toString;r.exports=function(s){var a=o.call(s),c=a==="[object Arguments]";return c||(c=a!=="[object Array]"&&s!==null&&i(s)==="object"&&typeof s.length=="number"&&s.length>=0&&o.call(s.callee)==="[object Function]"),c}},6292:(r,i,o)=>{"use strict";var s=o(1419);i.certificate=o(6170);var a=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=a;var c=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=c;var f=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),y=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(f),this.key("subjectPublicKey").bitstr())});i.PublicKey=y;var m=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(f),this.key("subjectPrivateKey").octstr())});i.PrivateKey=m;var u=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=u;var l=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=l,i.DSAparam=s.define("DSAparam",function(){this.int()});var h=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),d=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=d,i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},6170:(r,i,o)=>{"use strict";var s=o(1419),a=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),f=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),y=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(f),this.key("subjectPublicKey").bitstr())}),m=s.define("RelativeDistinguishedName",function(){this.setof(c)}),u=s.define("RDNSequence",function(){this.seqof(m)}),l=s.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),d=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(f),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(y),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),g=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(f),this.key("signatureValue").bitstr())});r.exports=g},3446:(r,i,o)=>{"use strict";var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,f=o(1685),y=o(2098),m=o(9732).Buffer;r.exports=function(u,l){var h,d=u.toString(),p=d.match(s);if(p){var g="aes"+p[1],b=m.from(p[2],"hex"),v=m.from(p[3].replace(/[\r\n]/g,""),"base64"),_=f(l,b.slice(0,8),parseInt(p[1],10)).key,S=[],w=y.createDecipheriv(g,_,b);S.push(w.update(v)),S.push(w.final()),h=m.concat(S)}else{var D=d.match(c);h=m.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:d.match(a)[1],data:h}}},5053:(r,i,o)=>{"use strict";function s(h){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(h)}var a=o(6292),c=o(5579),f=o(3446),y=o(2098),m=o(8699),u=o(9732).Buffer;function l(h){var d;s(h)!=="object"||u.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var p,g,b=f(h,d),v=b.tag,_=b.data;switch(v){case"CERTIFICATE":g=a.certificate.decode(_,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=a.PublicKey.decode(_,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=a.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":_=function(S,w){var D=S.algorithm.decrypt.kde.kdeparams.salt,x=parseInt(S.algorithm.decrypt.kde.kdeparams.iters.toString(),10),M=c[S.algorithm.decrypt.cipher.algo.join(".")],P=S.algorithm.decrypt.cipher.iv,k=S.subjectPrivateKey,B=parseInt(M.split("-")[1],10)/8,L=m.pbkdf2Sync(w,D,x,B,"sha1"),V=y.createDecipheriv(M,L,P),Q=[];return Q.push(V.update(k)),Q.push(V.final()),u.concat(Q)}(_=a.EncryptedPrivateKey.decode(_,"der"),d);case"PRIVATE KEY":switch(p=(g=a.PrivateKey.decode(_,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:a.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=a.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(_,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(_,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(_,"der")};case"EC PRIVATE KEY":return{curve:(_=a.ECPrivateKey.decode(_,"der")).parameters.value,privateKey:_.privateKey};default:throw new Error("unknown key type "+v)}}l.signature=a.signature,r.exports=l},8699:(r,i,o)=>{i.pbkdf2=o(2367),i.pbkdf2Sync=o(245)},2367:(r,i,o)=>{var s,a,c=o(9732).Buffer,f=o(9217),y=o(594),m=o(245),u=o(6661),l=o.g.crypto&&o.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function p(){return a||(a=o.g.process&&o.g.process.nextTick?o.g.process.nextTick:o.g.queueMicrotask?o.g.queueMicrotask:o.g.setImmediate?o.g.setImmediate:o.g.setTimeout)}function g(b,v,_,S,w){return l.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return l.deriveBits({name:"PBKDF2",salt:v,iterations:_,hash:{name:w}},D,S<<3)}).then(function(D){return c.from(D)})}r.exports=function(b,v,_,S,w,D){typeof w=="function"&&(D=w,w=void 0);var x=h[(w=w||"sha1").toLowerCase()];if(x&&typeof o.g.Promise=="function"){if(f(_,S),b=u(b,y,"Password"),v=u(v,y,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");(function(M,P){M.then(function(k){p()(function(){P(null,k)})},function(k){p()(function(){P(k)})})})(function(M){if(o.g.process&&!o.g.process.browser||!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(d[M]!==void 0)return d[M];var P=g(s=s||c.alloc(8),s,10,128,M).then(function(){return!0}).catch(function(){return!1});return d[M]=P,P}(x).then(function(M){return M?g(b,v,_,S,x):m(b,v,_,S,w)}),D)}else p()(function(){var M;try{M=m(b,v,_,S,w)}catch(P){return D(P)}D(null,M)})}},594:(r,i,o)=>{var s;s=o.g.process&&o.g.process.browser?"utf-8":o.g.process&&o.g.process.version?parseInt({env:{}}.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",r.exports=s},9217:r=>{var i=Math.pow(2,30)-1;r.exports=function(o,s){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>i||s!=s)throw new TypeError("Bad key length")}},245:(r,i,o)=>{var s=o(3989),a=o(1058),c=o(3261),f=o(9732).Buffer,y=o(9217),m=o(594),u=o(6661),l=f.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(p,g,b){var v=function(M){return M==="rmd160"||M==="ripemd160"?function(P){return new a().update(P).digest()}:M==="md5"?s:function(P){return c(M).update(P).digest()}}(p),_=p==="sha512"||p==="sha384"?128:64;g.length>_?g=v(g):g.length<_&&(g=f.concat([g,l],_));for(var S=f.allocUnsafe(_+h[p]),w=f.allocUnsafe(_+h[p]),D=0;D<_;D++)S[D]=54^g[D],w[D]=92^g[D];var x=f.allocUnsafe(_+b+4);S.copy(x,0,0,_),this.ipad1=x,this.ipad2=S,this.opad=w,this.alg=p,this.blocksize=_,this.hash=v,this.size=h[p]}d.prototype.run=function(p,g){return p.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(p,g,b,v,_){y(b,v);var S=new d(_=_||"sha1",p=u(p,m,"Password"),(g=u(g,m,"Salt")).length),w=f.allocUnsafe(v),D=f.allocUnsafe(g.length+4);g.copy(D,0,0,g.length);for(var x=0,M=h[_],P=Math.ceil(v/M),k=1;k<=P;k++){D.writeUInt32BE(k,g.length);for(var B=S.run(D,S.ipad1),L=B,V=1;V<b;V++){L=S.run(L,S.ipad2);for(var Q=0;Q<M;Q++)B[Q]^=L[Q]}B.copy(w,x),x+=M}return w}},6661:(r,i,o)=>{var s=o(9732).Buffer;r.exports=function(a,c,f){if(s.isBuffer(a))return a;if(typeof a=="string")return s.from(a,c);if(ArrayBuffer.isView(a))return s.from(a.buffer);throw new TypeError(f+" must be a string, a Buffer, a typed array or a DataView")}},2653:r=>{"use strict";r.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},4758:r=>{"use strict";!{env:{}}.version||{env:{}}.version.indexOf("v0.")===0||{env:{}}.version.indexOf("v1.")===0&&{env:{}}.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(i,o,s,a){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var c,f,y=arguments.length;switch(y){case 0:case 1:return{env:{}}.nextTick(i);case 2:return{env:{}}.nextTick(function(){i.call(null,o)});case 3:return{env:{}}.nextTick(function(){i.call(null,o,s)});case 4:return{env:{}}.nextTick(function(){i.call(null,o,s,a)});default:for(c=new Array(y-1),f=0;f<c.length;)c[f++]=arguments[f];return{env:{}}.nextTick(function(){i.apply(null,c)})}}}:r.exports={env:{}}},2327:(r,i,o)=>{i.publicEncrypt=o(2937),i.privateDecrypt=o(5443),i.privateEncrypt=function(s,a){return i.publicEncrypt(s,a,!0)},i.publicDecrypt=function(s,a){return i.privateDecrypt(s,a,!0)}},7797:(r,i,o)=>{var s=o(5833),a=o(9732).Buffer;function c(f){var y=a.allocUnsafe(4);return y.writeUInt32BE(f,0),y}r.exports=function(f,y){for(var m,u=a.alloc(0),l=0;u.length<y;)m=c(l++),u=a.concat([u,s("sha1").update(f).update(m).digest()]);return u.slice(0,y)}},5443:(r,i,o)=>{var s=o(5053),a=o(7797),c=o(1190),f=o(7799),y=o(1095),m=o(5833),u=o(5218),l=o(9732).Buffer;r.exports=function(h,d,p){var g;g=h.padding?h.padding:p?1:4;var b,v=s(h),_=v.modulus.byteLength();if(d.length>_||new f(d).cmp(v.modulus)>=0)throw new Error("decryption error");b=p?u(new f(d),v):y(d,v);var S=l.alloc(_-b.length);if(b=l.concat([S,b],_),g===4)return function(w,D){var x=w.modulus.byteLength(),M=m("sha1").update(l.alloc(0)).digest(),P=M.length;if(D[0]!==0)throw new Error("decryption error");var k=D.slice(1,P+1),B=D.slice(P+1),L=c(k,a(B,P)),V=c(B,a(L,x-P-1));if(function(ne,te){ne=l.from(ne),te=l.from(te);var E=0,O=ne.length;ne.length!==te.length&&(E++,O=Math.min(ne.length,te.length));for(var C=-1;++C<O;)E+=ne[C]^te[C];return E}(M,V.slice(0,P)))throw new Error("decryption error");for(var Q=P;V[Q]===0;)Q++;if(V[Q++]!==1)throw new Error("decryption error");return V.slice(Q)}(v,b);if(g===1)return function(w,D,x){for(var M=D.slice(0,2),P=2,k=0;D[P++]!==0;)if(P>=D.length){k++;break}var B=D.slice(2,P-1);if((M.toString("hex")!=="0002"&&!x||M.toString("hex")!=="0001"&&x)&&k++,B.length<8&&k++,k)throw new Error("decryption error");return D.slice(P)}(0,b,p);if(g===3)return b;throw new Error("unknown padding")}},2937:(r,i,o)=>{var s=o(5053),a=o(4276),c=o(5833),f=o(7797),y=o(1190),m=o(7799),u=o(5218),l=o(1095),h=o(9732).Buffer;r.exports=function(d,p,g){var b;b=d.padding?d.padding:g?1:4;var v,_=s(d);if(b===4)v=function(S,w){var D=S.modulus.byteLength(),x=w.length,M=c("sha1").update(h.alloc(0)).digest(),P=M.length,k=2*P;if(x>D-k-2)throw new Error("message too long");var B=h.alloc(D-x-k-2),L=D-P-1,V=a(P),Q=y(h.concat([M,B,h.alloc(1,1),w],L),f(V,L)),ne=y(V,f(Q,P));return new m(h.concat([h.alloc(1),ne,Q],D))}(_,p);else if(b===1)v=function(S,w,D){var x,M=w.length,P=S.modulus.byteLength();if(M>P-11)throw new Error("message too long");return x=D?h.alloc(P-M-3,255):function(k){for(var B,L=h.allocUnsafe(k),V=0,Q=a(2*k),ne=0;V<k;)ne===Q.length&&(Q=a(2*k),ne=0),(B=Q[ne++])&&(L[V++]=B);return L}(P-M-3),new m(h.concat([h.from([0,D?1:2]),x,h.alloc(1),w],P))}(_,p,g);else{if(b!==3)throw new Error("unknown padding");if((v=new m(p)).cmp(_.modulus)>=0)throw new Error("data too long for modulus")}return g?l(v,_):u(v,_)}},5218:(r,i,o)=>{var s=o(7799),a=o(9732).Buffer;r.exports=function(c,f){return a.from(c.toRed(s.mont(f.modulus)).redPow(new s(f.publicExponent)).fromRed().toArray())}},1190:r=>{r.exports=function(i,o){for(var s=i.length,a=-1;++a<s;)i[a]^=o[a];return i}},4276:(r,i,o)=>{"use strict";var s=65536,a=o(9732).Buffer,c=o.g.crypto||o.g.msCrypto;c&&c.getRandomValues?r.exports=function(f,y){if(f>4294967295)throw new RangeError("requested too many random bytes");var m=a.allocUnsafe(f);if(f>0)if(f>s)for(var u=0;u<f;u+=s)c.getRandomValues(m.slice(u,u+s));else c.getRandomValues(m);return typeof y=="function"?{env:{}}.nextTick(function(){y(null,m)}):m}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}},7952:(r,i,o)=>{"use strict";function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=o(9732),c=o(4276),f=a.Buffer,y=a.kMaxLength,m=o.g.crypto||o.g.msCrypto,u=Math.pow(2,32)-1;function l(p,g){if(typeof p!="number"||p!=p)throw new TypeError("offset must be a number");if(p>u||p<0)throw new TypeError("offset must be a uint32");if(p>y||p>g)throw new RangeError("offset out of range")}function h(p,g,b){if(typeof p!="number"||p!=p)throw new TypeError("size must be a number");if(p>u||p<0)throw new TypeError("size must be a uint32");if(p+g>b||p>y)throw new RangeError("buffer too small")}function d(p,g,b,v){if({env:{}}.browser){var _=p.buffer,S=new Uint8Array(_,g,b);return m.getRandomValues(S),v?void{env:{}}.nextTick(function(){v(null,p)}):p}if(!v)return c(b).copy(p,g),p;c(b,function(w,D){if(w)return v(w);D.copy(p,g),v(null,p)})}m&&m.getRandomValues||!{env:{}}.browser?(i.randomFill=function(p,g,b,v){if(!(f.isBuffer(p)||p instanceof o.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")v=g,g=0,b=p.length;else if(typeof b=="function")v=b,b=p.length-g;else if(typeof v!="function")throw new TypeError('"cb" argument must be a function');return l(g,p.length),h(b,g,p.length),d(p,g,b,v)},i.randomFillSync=function(p,g,b){if(g===void 0&&(g=0),!(f.isBuffer(p)||p instanceof o.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(g,p.length),b===void 0&&(b=p.length-g),h(b,g,p.length),d(p,g,b)}):(i.randomFill=s,i.randomFillSync=s)},1313:(r,i,o)=>{"use strict";var s=o(4758),a=Object.keys||function(g){var b=[];for(var v in g)b.push(v);return b};r.exports=h;var c=Object.create(o(7919));c.inherits=o(1679);var f=o(7991),y=o(9147);c.inherits(h,f);for(var m=a(y.prototype),u=0;u<m.length;u++){var l=m[u];h.prototype[l]||(h.prototype[l]=y.prototype[l])}function h(g){if(!(this instanceof h))return new h(g);f.call(this,g),y.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||s.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),h.prototype._destroy=function(g,b){this.push(null),this.end(),s.nextTick(b,g)}},9125:(r,i,o)=>{"use strict";r.exports=c;var s=o(1191),a=Object.create(o(7919));function c(f){if(!(this instanceof c))return new c(f);s.call(this,f)}a.inherits=o(1679),a.inherits(c,s),c.prototype._transform=function(f,y,m){m(null,f)}},7991:(r,i,o)=>{"use strict";var s=o(4758);r.exports=S;var a,c=o(5455);S.ReadableState=_,o(3550).EventEmitter;var f=function(I,T){return I.listeners(T).length},y=o(5864),m=o(8317).Buffer,u=(o.g!==void 0?o.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},l=Object.create(o(7919));l.inherits=o(1679);var h=o(9838),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,g=o(6567),b=o(8639);l.inherits(S,y);var v=["error","close","destroy","pause","resume"];function _(I,T){I=I||{};var N=T instanceof(a=a||o(1313));this.objectMode=!!I.objectMode,N&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var j=I.highWaterMark,H=I.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:N&&(H||H===0)?H:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(p||(p=o(136).I),this.decoder=new p(I.encoding),this.encoding=I.encoding)}function S(I){if(a=a||o(1313),!(this instanceof S))return new S(I);this._readableState=new _(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),y.call(this)}function w(I,T,N,j,H){var q,X=I._readableState;return T===null?(X.reading=!1,function(z,U){if(!U.ended){if(U.decoder){var Z=U.decoder.end();Z&&Z.length&&(U.buffer.push(Z),U.length+=U.objectMode?1:Z.length)}U.ended=!0,P(z)}}(I,X)):(H||(q=function(z,U){var Z,ee;return ee=U,m.isBuffer(ee)||ee instanceof u||typeof U=="string"||U===void 0||z.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z}(X,T)),q?I.emit("error",q):X.objectMode||T&&T.length>0?(typeof T=="string"||X.objectMode||Object.getPrototypeOf(T)===m.prototype||(T=function(z){return m.from(z)}(T)),j?X.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):D(I,X,T,!0):X.ended?I.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!N?(T=X.decoder.write(T),X.objectMode||T.length!==0?D(I,X,T,!1):B(I,X)):D(I,X,T,!1))):j||(X.reading=!1)),function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}(X)}function D(I,T,N,j){T.flowing&&T.length===0&&!T.sync?(I.emit("data",N),I.read(0)):(T.length+=T.objectMode?1:N.length,j?T.buffer.unshift(N):T.buffer.push(N),T.needReadable&&P(I)),B(I,T)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),S.prototype.destroy=b.destroy,S.prototype._undestroy=b.undestroy,S.prototype._destroy=function(I,T){this.push(null),T(I)},S.prototype.push=function(I,T){var N,j=this._readableState;return j.objectMode?N=!0:typeof I=="string"&&((T=T||j.defaultEncoding)!==j.encoding&&(I=m.from(I,T),T=""),N=!0),w(this,I,T,!1,N)},S.prototype.unshift=function(I){return w(this,I,null,!0,!1)},S.prototype.isPaused=function(){return this._readableState.flowing===!1},S.prototype.setEncoding=function(I){return p||(p=o(136).I),this._readableState.decoder=new p(I),this._readableState.encoding=I,this};var x=8388608;function M(I,T){return I<=0||T.length===0&&T.ended?0:T.objectMode?1:I!=I?T.flowing&&T.length?T.buffer.head.data.length:T.length:(I>T.highWaterMark&&(T.highWaterMark=function(N){return N>=x?N=x:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}(I)),I<=T.length?I:T.ended?T.length:(T.needReadable=!0,0))}function P(I){var T=I._readableState;T.needReadable=!1,T.emittedReadable||(d("emitReadable",T.flowing),T.emittedReadable=!0,T.sync?s.nextTick(k,I):k(I))}function k(I){d("emit readable"),I.emit("readable"),ne(I)}function B(I,T){T.readingMore||(T.readingMore=!0,s.nextTick(L,I,T))}function L(I,T){for(var N=T.length;!T.reading&&!T.flowing&&!T.ended&&T.length<T.highWaterMark&&(d("maybeReadMore read 0"),I.read(0),N!==T.length);)N=T.length;T.readingMore=!1}function V(I){d("readable nexttick read 0"),I.read(0)}function Q(I,T){T.reading||(d("resume read 0"),I.read(0)),T.resumeScheduled=!1,T.awaitDrain=0,I.emit("resume"),ne(I),T.flowing&&!T.reading&&I.read(0)}function ne(I){var T=I._readableState;for(d("flow",T.flowing);T.flowing&&I.read()!==null;);}function te(I,T){return T.length===0?null:(T.objectMode?N=T.buffer.shift():!I||I>=T.length?(N=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.head.data:T.buffer.concat(T.length),T.buffer.clear()):N=function(j,H,q){var X;return j<H.head.data.length?(X=H.head.data.slice(0,j),H.head.data=H.head.data.slice(j)):X=j===H.head.data.length?H.shift():q?function(z,U){var Z=U.head,ee=1,R=Z.data;for(z-=R.length;Z=Z.next;){var $=Z.data,G=z>$.length?$.length:z;if(G===$.length?R+=$:R+=$.slice(0,z),(z-=G)==0){G===$.length?(++ee,Z.next?U.head=Z.next:U.head=U.tail=null):(U.head=Z,Z.data=$.slice(G));break}++ee}return U.length-=ee,R}(j,H):function(z,U){var Z=m.allocUnsafe(z),ee=U.head,R=1;for(ee.data.copy(Z),z-=ee.data.length;ee=ee.next;){var $=ee.data,G=z>$.length?$.length:z;if($.copy(Z,Z.length-z,0,G),(z-=G)==0){G===$.length?(++R,ee.next?U.head=ee.next:U.head=U.tail=null):(U.head=ee,ee.data=$.slice(G));break}++R}return U.length-=R,Z}(j,H),X}(I,T.buffer,T.decoder),N);var N}function E(I){var T=I._readableState;if(T.length>0)throw new Error('"endReadable()" called on non-empty stream');T.endEmitted||(T.ended=!0,s.nextTick(O,T,I))}function O(I,T){I.endEmitted||I.length!==0||(I.endEmitted=!0,T.readable=!1,T.emit("end"))}function C(I,T){for(var N=0,j=I.length;N<j;N++)if(I[N]===T)return N;return-1}S.prototype.read=function(I){d("read",I),I=parseInt(I,10);var T=this._readableState,N=I;if(I!==0&&(T.emittedReadable=!1),I===0&&T.needReadable&&(T.length>=T.highWaterMark||T.ended))return d("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?E(this):P(this),null;if((I=M(I,T))===0&&T.ended)return T.length===0&&E(this),null;var j,H=T.needReadable;return d("need readable",H),(T.length===0||T.length-I<T.highWaterMark)&&d("length less than watermark",H=!0),T.ended||T.reading?d("reading or ended",H=!1):H&&(d("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(I=M(N,T))),(j=I>0?te(I,T):null)===null?(T.needReadable=!0,I=0):T.length-=I,T.length===0&&(T.ended||(T.needReadable=!0),N!==I&&T.ended&&E(this)),j!==null&&this.emit("data",j),j},S.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(I,T){var N=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=I;break;case 1:j.pipes=[j.pipes,I];break;default:j.pipes.push(I)}j.pipesCount+=1,d("pipe count=%d opts=%j",j.pipesCount,T);var H=T&&T.end===!1||I==={env:{}}.stdout||I==={env:{}}.stderr?G:q;function q(){d("onend"),I.end()}j.endEmitted?s.nextTick(H):N.once("end",H),I.on("unpipe",function ie(ae,le){d("onunpipe"),ae===N&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,d("cleanup"),I.removeListener("close",R),I.removeListener("finish",$),I.removeListener("drain",X),I.removeListener("error",ee),I.removeListener("unpipe",ie),N.removeListener("end",q),N.removeListener("end",G),N.removeListener("data",Z),z=!0,!j.awaitDrain||I._writableState&&!I._writableState.needDrain||X())});var X=function(ie){return function(){var ae=ie._readableState;d("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&f(ie,"data")&&(ae.flowing=!0,ne(ie))}}(N);I.on("drain",X);var z=!1,U=!1;function Z(ie){d("ondata"),U=!1,I.write(ie)!==!1||U||((j.pipesCount===1&&j.pipes===I||j.pipesCount>1&&C(j.pipes,I)!==-1)&&!z&&(d("false write response, pause",j.awaitDrain),j.awaitDrain++,U=!0),N.pause())}function ee(ie){d("onerror",ie),G(),I.removeListener("error",ee),f(I,"error")===0&&I.emit("error",ie)}function R(){I.removeListener("finish",$),G()}function $(){d("onfinish"),I.removeListener("close",R),G()}function G(){d("unpipe"),N.unpipe(I)}return N.on("data",Z),function(ie,ae,le){if(typeof ie.prependListener=="function")return ie.prependListener(ae,le);ie._events&&ie._events[ae]?c(ie._events[ae])?ie._events[ae].unshift(le):ie._events[ae]=[le,ie._events[ae]]:ie.on(ae,le)}(I,"error",ee),I.once("close",R),I.once("finish",$),I.emit("pipe",N),j.flowing||(d("pipe resume"),N.resume()),I},S.prototype.unpipe=function(I){var T=this._readableState,N={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return I&&I!==T.pipes||(I||(I=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,I&&I.emit("unpipe",this,N)),this;if(!I){var j=T.pipes,H=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var q=0;q<H;q++)j[q].emit("unpipe",this,{hasUnpiped:!1});return this}var X=C(T.pipes,I);return X===-1||(T.pipes.splice(X,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),I.emit("unpipe",this,N)),this},S.prototype.on=function(I,T){var N=y.prototype.on.call(this,I,T);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var j=this._readableState;j.endEmitted||j.readableListening||(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&P(this):s.nextTick(V,this))}return N},S.prototype.addListener=S.prototype.on,S.prototype.resume=function(){var I=this._readableState;return I.flowing||(d("resume"),I.flowing=!0,function(T,N){N.resumeScheduled||(N.resumeScheduled=!0,s.nextTick(Q,T,N))}(this,I)),this},S.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(I){var T=this,N=this._readableState,j=!1;for(var H in I.on("end",function(){if(d("wrapped end"),N.decoder&&!N.ended){var X=N.decoder.end();X&&X.length&&T.push(X)}T.push(null)}),I.on("data",function(X){d("wrapped data"),N.decoder&&(X=N.decoder.write(X)),N.objectMode&&X==null||(N.objectMode||X&&X.length)&&(T.push(X)||(j=!0,I.pause()))}),I)this[H]===void 0&&typeof I[H]=="function"&&(this[H]=function(X){return function(){return I[X].apply(I,arguments)}}(H));for(var q=0;q<v.length;q++)I.on(v[q],this.emit.bind(this,v[q]));return this._read=function(X){d("wrapped _read",X),j&&(j=!1,I.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=te},1191:(r,i,o)=>{"use strict";r.exports=f;var s=o(1313),a=Object.create(o(7919));function c(u,l){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,l!=null&&this.push(l),d(u);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function f(u){if(!(this instanceof f))return new f(u);s.call(this,u),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",y)}function y(){var u=this;typeof this._flush=="function"?this._flush(function(l,h){m(u,l,h)}):m(this,null,null)}function m(u,l,h){if(l)return u.emit("error",l);if(h!=null&&u.push(h),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}a.inherits=o(1679),a.inherits(f,s),f.prototype.push=function(u,l){return this._transformState.needTransform=!1,s.prototype.push.call(this,u,l)},f.prototype._transform=function(u,l,h){throw new Error("_transform() is not implemented")},f.prototype._write=function(u,l,h){var d=this._transformState;if(d.writecb=h,d.writechunk=u,d.writeencoding=l,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},f.prototype._read=function(u){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},f.prototype._destroy=function(u,l){var h=this;s.prototype._destroy.call(this,u,function(d){l(d),h.emit("close")})}},9147:(r,i,o)=>{"use strict";var s=o(4758);function a(P){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(B,L){var V=B.entry;for(B.entry=null;V;){var Q=V.callback;L.pendingcb--,Q(void 0),V=V.next}L.corkedRequestsFree.next=B})(k,P)}}r.exports=v;var c,f=!{env:{}}.browser&&["v0.10","v0.9."].indexOf({env:{}}.version.slice(0,5))>-1?setImmediate:s.nextTick;v.WritableState=b;var y=Object.create(o(7919));y.inherits=o(1679);var m,u={deprecate:o(3340)},l=o(5864),h=o(8317).Buffer,d=(o.g!==void 0?o.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=o(8639);function g(){}function b(P,k){c=c||o(1313),P=P||{};var B=k instanceof c;this.objectMode=!!P.objectMode,B&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var L=P.highWaterMark,V=P.writableHighWaterMark,Q=this.objectMode?16:16384;this.highWaterMark=L||L===0?L:B&&(V||V===0)?V:Q,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=P.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){(function(E,O){var C=E._writableState,I=C.sync,T=C.writecb;if(function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(C),O)(function(j,H,q,X,z){--H.pendingcb,q?(s.nextTick(z,X),s.nextTick(M,j,H),j._writableState.errorEmitted=!0,j.emit("error",X)):(z(X),j._writableState.errorEmitted=!0,j.emit("error",X),M(j,H))})(E,C,I,O,T);else{var N=D(C);N||C.corked||C.bufferProcessing||!C.bufferedRequest||w(E,C),I?f(S,E,C,N,T):S(E,C,N,T)}})(k,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(P){if(c=c||o(1313),!(m.call(v,this)||this instanceof c))return new v(P);this._writableState=new b(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),l.call(this)}function _(P,k,B,L,V,Q,ne){k.writelen=L,k.writecb=ne,k.writing=!0,k.sync=!0,B?P._writev(V,k.onwrite):P._write(V,Q,k.onwrite),k.sync=!1}function S(P,k,B,L){B||function(V,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,V.emit("drain"))}(P,k),k.pendingcb--,L(),M(P,k)}function w(P,k){k.bufferProcessing=!0;var B=k.bufferedRequest;if(P._writev&&B&&B.next){var L=k.bufferedRequestCount,V=new Array(L),Q=k.corkedRequestsFree;Q.entry=B;for(var ne=0,te=!0;B;)V[ne]=B,B.isBuf||(te=!1),B=B.next,ne+=1;V.allBuffers=te,_(P,k,!0,k.length,V,"",Q.finish),k.pendingcb++,k.lastBufferedRequest=null,Q.next?(k.corkedRequestsFree=Q.next,Q.next=null):k.corkedRequestsFree=new a(k),k.bufferedRequestCount=0}else{for(;B;){var E=B.chunk,O=B.encoding,C=B.callback;if(_(P,k,!1,k.objectMode?1:E.length,E,O,C),B=B.next,k.bufferedRequestCount--,k.writing)break}B===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=B,k.bufferProcessing=!1}function D(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function x(P,k){P._final(function(B){k.pendingcb--,B&&P.emit("error",B),k.prefinished=!0,P.emit("prefinish"),M(P,k)})}function M(P,k){var B=D(k);return B&&(function(L,V){V.prefinished||V.finalCalled||(typeof L._final=="function"?(V.pendingcb++,V.finalCalled=!0,s.nextTick(x,L,V)):(V.prefinished=!0,L.emit("prefinish")))}(P,k),k.pendingcb===0&&(k.finished=!0,P.emit("finish"))),B}y.inherits(v,l),b.prototype.getBuffer=function(){for(var P=this.bufferedRequest,k=[];P;)k.push(P),P=P.next;return k},function(){try{Object.defineProperty(b.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(P){return!!m.call(this,P)||this===v&&P&&P._writableState instanceof b}})):m=function(P){return P instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(P,k,B){var L,V=this._writableState,Q=!1,ne=!V.objectMode&&(L=P,h.isBuffer(L)||L instanceof d);return ne&&!h.isBuffer(P)&&(P=function(te){return h.from(te)}(P)),typeof k=="function"&&(B=k,k=null),ne?k="buffer":k||(k=V.defaultEncoding),typeof B!="function"&&(B=g),V.ended?function(te,E){var O=new Error("write after end");te.emit("error",O),s.nextTick(E,O)}(this,B):(ne||function(te,E,O,C){var I=!0,T=!1;return O===null?T=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||E.objectMode||(T=new TypeError("Invalid non-string/buffer chunk")),T&&(te.emit("error",T),s.nextTick(C,T),I=!1),I}(this,V,P,B))&&(V.pendingcb++,Q=function(te,E,O,C,I,T){if(!O){var N=function(X,z,U){return X.objectMode||X.decodeStrings===!1||typeof z!="string"||(z=h.from(z,U)),z}(E,C,I);C!==N&&(O=!0,I="buffer",C=N)}var j=E.objectMode?1:C.length;E.length+=j;var H=E.length<E.highWaterMark;if(H||(E.needDrain=!0),E.writing||E.corked){var q=E.lastBufferedRequest;E.lastBufferedRequest={chunk:C,encoding:I,isBuf:O,callback:T,next:null},q?q.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else _(te,E,!1,j,C,I,T);return H}(this,V,ne,P,k,B)),Q},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||w(this,P))},v.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(P,k,B){B(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(P,k,B){var L=this._writableState;typeof P=="function"?(B=P,P=null,k=null):typeof k=="function"&&(B=k,k=null),P!=null&&this.write(P,k),L.corked&&(L.corked=1,this.uncork()),L.ending||function(V,Q,ne){Q.ending=!0,M(V,Q),ne&&(Q.finished?s.nextTick(ne):V.once("finish",ne)),Q.ended=!0,V.writable=!1}(this,L,B)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(P,k){this.end(),k(P)}},6567:(r,i,o)=>{"use strict";var s=o(8317).Buffer,a=o(5340);r.exports=function(){function c(){(function(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(f){var y={data:f,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length},c.prototype.unshift=function(f){var y={data:f,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length},c.prototype.shift=function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(f){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=f+y.data;return m},c.prototype.concat=function(f){if(this.length===0)return s.alloc(0);for(var y,m,u=s.allocUnsafe(f>>>0),l=this.head,h=0;l;)y=u,m=h,l.data.copy(y,m),h+=l.data.length,l=l.next;return u},c}(),a&&a.inspect&&a.inspect.custom&&(r.exports.prototype[a.inspect.custom]=function(){var c=a.inspect({length:this.length});return this.constructor.name+" "+c})},8639:(r,i,o)=>{"use strict";var s=o(4758);function a(c,f){c.emit("error",f)}r.exports={destroy:function(c,f){var y=this,m=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return m||u?(f?f(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(a,this,c)):s.nextTick(a,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(l){!f&&l?y._writableState?y._writableState.errorEmitted||(y._writableState.errorEmitted=!0,s.nextTick(a,y,l)):s.nextTick(a,y,l):f&&f(l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5864:(r,i,o)=>{r.exports=o(3550).EventEmitter},8317:(r,i,o)=>{var s=o(5832),a=s.Buffer;function c(y,m){for(var u in y)m[u]=y[u]}function f(y,m,u){return a(y,m,u)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=s:(c(s,i),i.Buffer=f),c(a,f),f.from=function(y,m,u){if(typeof y=="number")throw new TypeError("Argument must not be a number");return a(y,m,u)},f.alloc=function(y,m,u){if(typeof y!="number")throw new TypeError("Argument must be a number");var l=a(y);return m!==void 0?typeof u=="string"?l.fill(m,u):l.fill(m):l.fill(0),l},f.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return a(y)},f.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(y)}},3292:(r,i,o)=>{(i=r.exports=o(7991)).Stream=i,i.Readable=i,i.Writable=o(9147),i.Duplex=o(1313),i.Transform=o(1191),i.PassThrough=o(9125)},1058:(r,i,o)=>{"use strict";var s=o(5832).Buffer,a=o(1679),c=o(6936),f=new Array(16),y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function p(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(D,x){return D<<x|D>>>32-x}function b(D,x,M,P,k,B,L,V){return g(D+(x^M^P)+B+L|0,V)+k|0}function v(D,x,M,P,k,B,L,V){return g(D+(x&M|~x&P)+B+L|0,V)+k|0}function _(D,x,M,P,k,B,L,V){return g(D+((x|~M)^P)+B+L|0,V)+k|0}function S(D,x,M,P,k,B,L,V){return g(D+(x&P|M&~P)+B+L|0,V)+k|0}function w(D,x,M,P,k,B,L,V){return g(D+(x^(M|~P))+B+L|0,V)+k|0}a(p,c),p.prototype._update=function(){for(var D=f,x=0;x<16;++x)D[x]=this._block.readInt32LE(4*x);for(var M=0|this._a,P=0|this._b,k=0|this._c,B=0|this._d,L=0|this._e,V=0|this._a,Q=0|this._b,ne=0|this._c,te=0|this._d,E=0|this._e,O=0;O<80;O+=1){var C,I;O<16?(C=b(M,P,k,B,L,D[y[O]],h[0],u[O]),I=w(V,Q,ne,te,E,D[m[O]],d[0],l[O])):O<32?(C=v(M,P,k,B,L,D[y[O]],h[1],u[O]),I=S(V,Q,ne,te,E,D[m[O]],d[1],l[O])):O<48?(C=_(M,P,k,B,L,D[y[O]],h[2],u[O]),I=_(V,Q,ne,te,E,D[m[O]],d[2],l[O])):O<64?(C=S(M,P,k,B,L,D[y[O]],h[3],u[O]),I=v(V,Q,ne,te,E,D[m[O]],d[3],l[O])):(C=w(M,P,k,B,L,D[y[O]],h[4],u[O]),I=b(V,Q,ne,te,E,D[m[O]],d[4],l[O])),M=L,L=B,B=g(k,10),k=P,P=C,V=E,E=te,te=g(ne,10),ne=Q,Q=I}var T=this._b+k+te|0;this._b=this._c+B+E|0,this._c=this._d+L+V|0,this._d=this._e+M+Q|0,this._e=this._a+P+ne|0,this._a=T},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=s.alloc?s.alloc(20):new s(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},r.exports=p},9732:(r,i,o)=>{var s=o(5832),a=s.Buffer;function c(y,m){for(var u in y)m[u]=y[u]}function f(y,m,u){return a(y,m,u)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=s:(c(s,i),i.Buffer=f),f.prototype=Object.create(a.prototype),c(a,f),f.from=function(y,m,u){if(typeof y=="number")throw new TypeError("Argument must not be a number");return a(y,m,u)},f.alloc=function(y,m,u){if(typeof y!="number")throw new TypeError("Argument must be a number");var l=a(y);return m!==void 0?typeof u=="string"?l.fill(m,u):l.fill(m):l.fill(0),l},f.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return a(y)},f.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(y)}},2724:(r,i,o)=>{"use strict";var s=o(3071),a=o(9344),c=s("RegExp.prototype.exec"),f=o(2268);r.exports=function(y){if(!a(y))throw new f("`regex` must be a RegExp");return function(m){return c(y,m)!==null}}},3900:(r,i,o)=>{"use strict";var s=o(6400),a=o(6750),c=o(3191)(),f=o(1464),y=o(2268),m=s("%Math.floor%");r.exports=function(u,l){if(typeof u!="function")throw new y("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||m(l)!==l)throw new y("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],d=!0,p=!0;if("length"in u&&f){var g=f(u,"length");g&&!g.configurable&&(d=!1),g&&!g.writable&&(p=!1)}return(d||p||!h)&&(c?a(u,"length",l,!0,!0):a(u,"length",l)),u}},1485:(r,i,o)=>{var s=o(9732).Buffer;function a(c,f){this._block=s.alloc(c),this._finalSize=f,this._blockSize=c,this._len=0}a.prototype.update=function(c,f){typeof c=="string"&&(f=f||"utf8",c=s.from(c,f));for(var y=this._block,m=this._blockSize,u=c.length,l=this._len,h=0;h<u;){for(var d=l%m,p=Math.min(u-h,m-d),g=0;g<p;g++)y[d+g]=c[h+g];h+=p,(l+=p)%m==0&&this._update(y)}return this._len+=u,this},a.prototype.digest=function(c){var f=this._len%this._blockSize;this._block[f]=128,this._block.fill(0,f+1),f>=this._finalSize&&(this._update(this._block),this._block.fill(0));var y=8*this._len;if(y<=4294967295)this._block.writeUInt32BE(y,this._blockSize-4);else{var m=(4294967295&y)>>>0,u=(y-m)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(m,this._blockSize-4)}this._update(this._block);var l=this._hash();return c?l.toString(c):l},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=a},3261:(r,i,o)=>{var s=r.exports=function(a){a=a.toLowerCase();var c=s[a];if(!c)throw new Error(a+" is not supported (we accept pull requests)");return new c};s.sha=o(2219),s.sha1=o(68),s.sha224=o(3027),s.sha256=o(8890),s.sha384=o(5938),s.sha512=o(6467)},2219:(r,i,o)=>{var s=o(1679),a=o(1485),c=o(9732).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],y=new Array(80);function m(){this.init(),this._w=y,a.call(this,64,56)}function u(h){return h<<30|h>>>2}function l(h,d,p,g){return h===0?d&p|~d&g:h===2?d&p|d&g|p&g:d^p^g}s(m,a),m.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},m.prototype._update=function(h){for(var d,p=this._w,g=0|this._a,b=0|this._b,v=0|this._c,_=0|this._d,S=0|this._e,w=0;w<16;++w)p[w]=h.readInt32BE(4*w);for(;w<80;++w)p[w]=p[w-3]^p[w-8]^p[w-14]^p[w-16];for(var D=0;D<80;++D){var x=~~(D/20),M=0|((d=g)<<5|d>>>27)+l(x,b,v,_)+S+p[D]+f[x];S=_,_=v,v=u(b),b=g,g=M}this._a=g+this._a|0,this._b=b+this._b|0,this._c=v+this._c|0,this._d=_+this._d|0,this._e=S+this._e|0},m.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},r.exports=m},68:(r,i,o)=>{var s=o(1679),a=o(1485),c=o(9732).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],y=new Array(80);function m(){this.init(),this._w=y,a.call(this,64,56)}function u(d){return d<<5|d>>>27}function l(d){return d<<30|d>>>2}function h(d,p,g,b){return d===0?p&g|~p&b:d===2?p&g|p&b|g&b:p^g^b}s(m,a),m.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},m.prototype._update=function(d){for(var p,g=this._w,b=0|this._a,v=0|this._b,_=0|this._c,S=0|this._d,w=0|this._e,D=0;D<16;++D)g[D]=d.readInt32BE(4*D);for(;D<80;++D)g[D]=(p=g[D-3]^g[D-8]^g[D-14]^g[D-16])<<1|p>>>31;for(var x=0;x<80;++x){var M=~~(x/20),P=u(b)+h(M,v,_,S)+w+g[x]+f[M]|0;w=S,S=_,_=l(v),v=b,b=P}this._a=b+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=S+this._d|0,this._e=w+this._e|0},m.prototype._hash=function(){var d=c.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},r.exports=m},3027:(r,i,o)=>{var s=o(1679),a=o(8890),c=o(1485),f=o(9732).Buffer,y=new Array(64);function m(){this.init(),this._w=y,c.call(this,64,56)}s(m,a),m.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},m.prototype._hash=function(){var u=f.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},r.exports=m},8890:(r,i,o)=>{var s=o(1679),a=o(1485),c=o(9732).Buffer,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=new Array(64);function m(){this.init(),this._w=y,a.call(this,64,56)}function u(g,b,v){return v^g&(b^v)}function l(g,b,v){return g&b|v&(g|b)}function h(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function d(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function p(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}s(m,a),m.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},m.prototype._update=function(g){for(var b,v=this._w,_=0|this._a,S=0|this._b,w=0|this._c,D=0|this._d,x=0|this._e,M=0|this._f,P=0|this._g,k=0|this._h,B=0;B<16;++B)v[B]=g.readInt32BE(4*B);for(;B<64;++B)v[B]=0|(((b=v[B-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+v[B-7]+p(v[B-15])+v[B-16];for(var L=0;L<64;++L){var V=k+d(x)+u(x,M,P)+f[L]+v[L]|0,Q=h(_)+l(_,S,w)|0;k=P,P=M,M=x,x=D+V|0,D=w,w=S,S=_,_=V+Q|0}this._a=_+this._a|0,this._b=S+this._b|0,this._c=w+this._c|0,this._d=D+this._d|0,this._e=x+this._e|0,this._f=M+this._f|0,this._g=P+this._g|0,this._h=k+this._h|0},m.prototype._hash=function(){var g=c.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},r.exports=m},5938:(r,i,o)=>{var s=o(1679),a=o(6467),c=o(1485),f=o(9732).Buffer,y=new Array(160);function m(){this.init(),this._w=y,c.call(this,128,112)}s(m,a),m.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},m.prototype._hash=function(){var u=f.allocUnsafe(48);function l(h,d,p){u.writeInt32BE(h,p),u.writeInt32BE(d,p+4)}return l(this._ah,this._al,0),l(this._bh,this._bl,8),l(this._ch,this._cl,16),l(this._dh,this._dl,24),l(this._eh,this._el,32),l(this._fh,this._fl,40),u},r.exports=m},6467:(r,i,o)=>{var s=o(1679),a=o(1485),c=o(9732).Buffer,f=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);function m(){this.init(),this._w=y,a.call(this,128,112)}function u(S,w,D){return D^S&(w^D)}function l(S,w,D){return S&w|D&(S|w)}function h(S,w){return(S>>>28|w<<4)^(w>>>2|S<<30)^(w>>>7|S<<25)}function d(S,w){return(S>>>14|w<<18)^(S>>>18|w<<14)^(w>>>9|S<<23)}function p(S,w){return(S>>>1|w<<31)^(S>>>8|w<<24)^S>>>7}function g(S,w){return(S>>>1|w<<31)^(S>>>8|w<<24)^(S>>>7|w<<25)}function b(S,w){return(S>>>19|w<<13)^(w>>>29|S<<3)^S>>>6}function v(S,w){return(S>>>19|w<<13)^(w>>>29|S<<3)^(S>>>6|w<<26)}function _(S,w){return S>>>0<w>>>0?1:0}s(m,a),m.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},m.prototype._update=function(S){for(var w=this._w,D=0|this._ah,x=0|this._bh,M=0|this._ch,P=0|this._dh,k=0|this._eh,B=0|this._fh,L=0|this._gh,V=0|this._hh,Q=0|this._al,ne=0|this._bl,te=0|this._cl,E=0|this._dl,O=0|this._el,C=0|this._fl,I=0|this._gl,T=0|this._hl,N=0;N<32;N+=2)w[N]=S.readInt32BE(4*N),w[N+1]=S.readInt32BE(4*N+4);for(;N<160;N+=2){var j=w[N-30],H=w[N-30+1],q=p(j,H),X=g(H,j),z=b(j=w[N-4],H=w[N-4+1]),U=v(H,j),Z=w[N-14],ee=w[N-14+1],R=w[N-32],$=w[N-32+1],G=X+ee|0,ie=q+Z+_(G,X)|0;ie=(ie=ie+z+_(G=G+U|0,U)|0)+R+_(G=G+$|0,$)|0,w[N]=ie,w[N+1]=G}for(var ae=0;ae<160;ae+=2){ie=w[ae],G=w[ae+1];var le=l(D,x,M),J=l(Q,ne,te),re=h(D,Q),ue=h(Q,D),fe=d(k,O),de=d(O,k),se=f[ae],Ie=f[ae+1],Ce=u(k,B,L),we=u(O,C,I),Te=T+de|0,Ne=V+fe+_(Te,T)|0;Ne=(Ne=(Ne=Ne+Ce+_(Te=Te+we|0,we)|0)+se+_(Te=Te+Ie|0,Ie)|0)+ie+_(Te=Te+G|0,G)|0;var Ye=ue+J|0,Le=re+le+_(Ye,ue)|0;V=L,T=I,L=B,I=C,B=k,C=O,k=P+Ne+_(O=E+Te|0,E)|0,P=M,E=te,M=x,te=ne,x=D,ne=Q,D=Ne+Le+_(Q=Te+Ye|0,Te)|0}this._al=this._al+Q|0,this._bl=this._bl+ne|0,this._cl=this._cl+te|0,this._dl=this._dl+E|0,this._el=this._el+O|0,this._fl=this._fl+C|0,this._gl=this._gl+I|0,this._hl=this._hl+T|0,this._ah=this._ah+D+_(this._al,Q)|0,this._bh=this._bh+x+_(this._bl,ne)|0,this._ch=this._ch+M+_(this._cl,te)|0,this._dh=this._dh+P+_(this._dl,E)|0,this._eh=this._eh+k+_(this._el,O)|0,this._fh=this._fh+B+_(this._fl,C)|0,this._gh=this._gh+L+_(this._gl,I)|0,this._hh=this._hh+V+_(this._hl,T)|0},m.prototype._hash=function(){var S=c.allocUnsafe(64);function w(D,x,M){S.writeInt32BE(D,M),S.writeInt32BE(x,M+4)}return w(this._ah,this._al,0),w(this._bh,this._bl,8),w(this._ch,this._cl,16),w(this._dh,this._dl,24),w(this._eh,this._el,32),w(this._fh,this._fl,40),w(this._gh,this._gl,48),w(this._hh,this._hl,56),S},r.exports=m},7775:(r,i,o)=>{r.exports=a;var s=o(3550).EventEmitter;function a(){s.call(this)}o(1679)(a,s),a.Readable=o(8134),a.Writable=o(4186),a.Duplex=o(4560),a.Transform=o(8784),a.PassThrough=o(1026),a.finished=o(8500),a.pipeline=o(1144),a.Stream=a,a.prototype.pipe=function(c,f){var y=this;function m(b){c.writable&&c.write(b)===!1&&y.pause&&y.pause()}function u(){y.readable&&y.resume&&y.resume()}y.on("data",m),c.on("drain",u),c._isStdio||f&&f.end===!1||(y.on("end",h),y.on("close",d));var l=!1;function h(){l||(l=!0,c.end())}function d(){l||(l=!0,typeof c.destroy=="function"&&c.destroy())}function p(b){if(g(),s.listenerCount(this,"error")===0)throw b}function g(){y.removeListener("data",m),c.removeListener("drain",u),y.removeListener("end",h),y.removeListener("close",d),y.removeListener("error",p),c.removeListener("error",p),y.removeListener("end",g),y.removeListener("close",g),c.removeListener("close",g)}return y.on("error",p),c.on("error",p),y.on("end",g),y.on("close",g),c.on("close",g),c.emit("pipe",y),c}},198:r=>{"use strict";function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i(c)}var o={};function s(c,f,y){y||(y=Error);var m=function(u){var l,h;function d(p,g,b){return u.call(this,function(v,_,S){return typeof f=="string"?f:f(v,_,S)}(p,g,b))||this}return h=u,(l=d).prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h,d}(y);m.prototype.name=y.name,m.prototype.code=c,o[c]=m}function a(c,f){if(Array.isArray(c)){var y=c.length;return c=c.map(function(m){return String(m)}),y>2?"one of ".concat(f," ").concat(c.slice(0,y-1).join(", "),", or ")+c[y-1]:y===2?"one of ".concat(f," ").concat(c[0]," or ").concat(c[1]):"of ".concat(f," ").concat(c[0])}return"of ".concat(f," ").concat(String(c))}s("ERR_INVALID_OPT_VALUE",function(c,f){return'The value "'+f+'" is invalid for option "'+c+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(c,f,y){var m,u,l,h,d;if(typeof f=="string"&&(u="not ",f.substr(0,4)===u)?(m="must not be",f=f.replace(/^not /,"")):m="must be",function(g,b,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-9,v)===b}(c," argument"))l="The ".concat(c," ").concat(m," ").concat(a(f,"type"));else{var p=(typeof d!="number"&&(d=0),d+1>(h=c).length||h.indexOf(".",d)===-1?"argument":"property");l='The "'.concat(c,'" ').concat(p," ").concat(m," ").concat(a(f,"type"))}return l+". Received type ".concat(i(y))},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.F=o},4560:(r,i,o)=>{"use strict";var s=Object.keys||function(d){var p=[];for(var g in d)p.push(g);return p};r.exports=u;var a=o(8134),c=o(4186);o(1679)(u,a);for(var f=s(c.prototype),y=0;y<f.length;y++){var m=f[y];u.prototype[m]||(u.prototype[m]=c.prototype[m])}function u(d){if(!(this instanceof u))return new u(d);a.call(this,d),c.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||{env:{}}.nextTick(h,this)}function h(d){d.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}})},1026:(r,i,o)=>{"use strict";r.exports=a;var s=o(8784);function a(c){if(!(this instanceof a))return new a(c);s.call(this,c)}o(1679)(a,s),a.prototype._transform=function(c,f,y){y(null,c)}},8134:(r,i,o)=>{"use strict";var s;r.exports=k,k.ReadableState=P,o(3550).EventEmitter;var a,c=function(z,U){return z.listeners(U).length},f=o(6871),y=o(5832).Buffer,m=(o.g!==void 0?o.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u=o(7199);a=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,d,p=o(6811),g=o(6222),b=o(9681).getHighWaterMark,v=o(198).F,_=v.ERR_INVALID_ARG_TYPE,S=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,D=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o(1679)(k,f);var x=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function P(z,U,Z){s=s||o(4560),z=z||{},typeof Z!="boolean"&&(Z=U instanceof s),this.objectMode=!!z.objectMode,Z&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=b(this,z,"readableHighWaterMark",Z),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(l||(l=o(136).I),this.decoder=new l(z.encoding),this.encoding=z.encoding)}function k(z){if(s=s||o(4560),!(this instanceof k))return new k(z);var U=this instanceof s;this._readableState=new P(z,this,U),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),f.call(this)}function B(z,U,Z,ee,R){a("readableAddChunk",U);var $,G=z._readableState;if(U===null)G.reading=!1,function(ie,ae){if(a("onEofChunk"),!ae.ended){if(ae.decoder){var le=ae.decoder.end();le&&le.length&&(ae.buffer.push(le),ae.length+=ae.objectMode?1:le.length)}ae.ended=!0,ae.sync?ne(ie):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,te(ie)))}}(z,G);else if(R||($=function(ie,ae){var le,J;return J=ae,y.isBuffer(J)||J instanceof m||typeof ae=="string"||ae===void 0||ie.objectMode||(le=new _("chunk",["string","Buffer","Uint8Array"],ae)),le}(G,U)),$)x(z,$);else if(G.objectMode||U&&U.length>0)if(typeof U=="string"||G.objectMode||Object.getPrototypeOf(U)===y.prototype||(U=function(ie){return y.from(ie)}(U)),ee)G.endEmitted?x(z,new D):L(z,G,U,!0);else if(G.ended)x(z,new S);else{if(G.destroyed)return!1;G.reading=!1,G.decoder&&!Z?(U=G.decoder.write(U),G.objectMode||U.length!==0?L(z,G,U,!1):E(z,G)):L(z,G,U,!1)}else ee||(G.reading=!1,E(z,G));return!G.ended&&(G.length<G.highWaterMark||G.length===0)}function L(z,U,Z,ee){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,z.emit("data",Z)):(U.length+=U.objectMode?1:Z.length,ee?U.buffer.unshift(Z):U.buffer.push(Z),U.needReadable&&ne(z)),E(z,U)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),k.prototype.destroy=g.destroy,k.prototype._undestroy=g.undestroy,k.prototype._destroy=function(z,U){U(z)},k.prototype.push=function(z,U){var Z,ee=this._readableState;return ee.objectMode?Z=!0:typeof z=="string"&&((U=U||ee.defaultEncoding)!==ee.encoding&&(z=y.from(z,U),U=""),Z=!0),B(this,z,U,!1,Z)},k.prototype.unshift=function(z){return B(this,z,null,!0,!1)},k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(z){l||(l=o(136).I);var U=new l(z);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,ee="";Z!==null;)ee+=U.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var V=1073741824;function Q(z,U){return z<=0||U.length===0&&U.ended?0:U.objectMode?1:z!=z?U.flowing&&U.length?U.buffer.head.data.length:U.length:(z>U.highWaterMark&&(U.highWaterMark=function(Z){return Z>=V?Z=V:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(z)),z<=U.length?z:U.ended?U.length:(U.needReadable=!0,0))}function ne(z){var U=z._readableState;a("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(a("emitReadable",U.flowing),U.emittedReadable=!0,{env:{}}.nextTick(te,z))}function te(z){var U=z._readableState;a("emitReadable_",U.destroyed,U.length,U.ended),U.destroyed||!U.length&&!U.ended||(z.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,N(z)}function E(z,U){U.readingMore||(U.readingMore=!0,{env:{}}.nextTick(O,z,U))}function O(z,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var Z=U.length;if(a("maybeReadMore read 0"),z.read(0),Z===U.length)break}U.readingMore=!1}function C(z){var U=z._readableState;U.readableListening=z.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:z.listenerCount("data")>0&&z.resume()}function I(z){a("readable nexttick read 0"),z.read(0)}function T(z,U){a("resume",U.reading),U.reading||z.read(0),U.resumeScheduled=!1,z.emit("resume"),N(z),U.flowing&&!U.reading&&z.read(0)}function N(z){var U=z._readableState;for(a("flow",U.flowing);U.flowing&&z.read()!==null;);}function j(z,U){return U.length===0?null:(U.objectMode?Z=U.buffer.shift():!z||z>=U.length?(Z=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):Z=U.buffer.consume(z,U.decoder),Z);var Z}function H(z){var U=z._readableState;a("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,{env:{}}.nextTick(q,U,z))}function q(z,U){if(a("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,U.readable=!1,U.emit("end"),z.autoDestroy)){var Z=U._writableState;(!Z||Z.autoDestroy&&Z.finished)&&U.destroy()}}function X(z,U){for(var Z=0,ee=z.length;Z<ee;Z++)if(z[Z]===U)return Z;return-1}k.prototype.read=function(z){a("read",z),z=parseInt(z,10);var U=this._readableState,Z=z;if(z!==0&&(U.emittedReadable=!1),z===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return a("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?H(this):ne(this),null;if((z=Q(z,U))===0&&U.ended)return U.length===0&&H(this),null;var ee,R=U.needReadable;return a("need readable",R),(U.length===0||U.length-z<U.highWaterMark)&&a("length less than watermark",R=!0),U.ended||U.reading?a("reading or ended",R=!1):R&&(a("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(z=Q(Z,U))),(ee=z>0?j(z,U):null)===null?(U.needReadable=U.length<=U.highWaterMark,z=0):(U.length-=z,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),Z!==z&&U.ended&&H(this)),ee!==null&&this.emit("data",ee),ee},k.prototype._read=function(z){x(this,new w("_read()"))},k.prototype.pipe=function(z,U){var Z=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=z;break;case 1:ee.pipes=[ee.pipes,z];break;default:ee.pipes.push(z)}ee.pipesCount+=1,a("pipe count=%d opts=%j",ee.pipesCount,U);var R=U&&U.end===!1||z==={env:{}}.stdout||z==={env:{}}.stderr?ue:$;function $(){a("onend"),z.end()}ee.endEmitted?{env:{}}.nextTick(R):Z.once("end",R),z.on("unpipe",function fe(de,se){a("onunpipe"),de===Z&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,a("cleanup"),z.removeListener("close",J),z.removeListener("finish",re),z.removeListener("drain",G),z.removeListener("error",le),z.removeListener("unpipe",fe),Z.removeListener("end",$),Z.removeListener("end",ue),Z.removeListener("data",ae),ie=!0,!ee.awaitDrain||z._writableState&&!z._writableState.needDrain||G())});var G=function(fe){return function(){var de=fe._readableState;a("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&c(fe,"data")&&(de.flowing=!0,N(fe))}}(Z);z.on("drain",G);var ie=!1;function ae(fe){a("ondata");var de=z.write(fe);a("dest.write",de),de===!1&&((ee.pipesCount===1&&ee.pipes===z||ee.pipesCount>1&&X(ee.pipes,z)!==-1)&&!ie&&(a("false write response, pause",ee.awaitDrain),ee.awaitDrain++),Z.pause())}function le(fe){a("onerror",fe),ue(),z.removeListener("error",le),c(z,"error")===0&&x(z,fe)}function J(){z.removeListener("finish",re),ue()}function re(){a("onfinish"),z.removeListener("close",J),ue()}function ue(){a("unpipe"),Z.unpipe(z)}return Z.on("data",ae),function(fe,de,se){if(typeof fe.prependListener=="function")return fe.prependListener(de,se);fe._events&&fe._events[de]?Array.isArray(fe._events[de])?fe._events[de].unshift(se):fe._events[de]=[se,fe._events[de]]:fe.on(de,se)}(z,"error",le),z.once("close",J),z.once("finish",re),z.emit("pipe",Z),ee.flowing||(a("pipe resume"),Z.resume()),z},k.prototype.unpipe=function(z){var U=this._readableState,Z={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return z&&z!==U.pipes||(z||(z=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,z&&z.emit("unpipe",this,Z)),this;if(!z){var ee=U.pipes,R=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var $=0;$<R;$++)ee[$].emit("unpipe",this,{hasUnpiped:!1});return this}var G=X(U.pipes,z);return G===-1||(U.pipes.splice(G,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),z.emit("unpipe",this,Z)),this},k.prototype.on=function(z,U){var Z=f.prototype.on.call(this,z,U),ee=this._readableState;return z==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):z==="readable"&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,a("on readable",ee.length,ee.reading),ee.length?ne(this):ee.reading||{env:{}}.nextTick(I,this))),Z},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(z,U){var Z=f.prototype.removeListener.call(this,z,U);return z==="readable"&&{env:{}}.nextTick(C,this),Z},k.prototype.removeAllListeners=function(z){var U=f.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||{env:{}}.nextTick(C,this),U},k.prototype.resume=function(){var z=this._readableState;return z.flowing||(a("resume"),z.flowing=!z.readableListening,function(U,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,{env:{}}.nextTick(T,U,Z))}(this,z)),z.paused=!1,this},k.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(z){var U=this,Z=this._readableState,ee=!1;for(var R in z.on("end",function(){if(a("wrapped end"),Z.decoder&&!Z.ended){var G=Z.decoder.end();G&&G.length&&U.push(G)}U.push(null)}),z.on("data",function(G){a("wrapped data"),Z.decoder&&(G=Z.decoder.write(G)),Z.objectMode&&G==null||(Z.objectMode||G&&G.length)&&(U.push(G)||(ee=!0,z.pause()))}),z)this[R]===void 0&&typeof z[R]=="function"&&(this[R]=function(G){return function(){return z[G].apply(z,arguments)}}(R));for(var $=0;$<M.length;$++)z.on(M[$],this.emit.bind(this,M[$]));return this._read=function(G){a("wrapped _read",G),ee&&(ee=!1,z.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return h===void 0&&(h=o(8493)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),k._fromList=j,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(k.from=function(z,U){return d===void 0&&(d=o(9271)),d(k,z,U)})},8784:(r,i,o)=>{"use strict";r.exports=l;var s=o(198).F,a=s.ERR_METHOD_NOT_IMPLEMENTED,c=s.ERR_MULTIPLE_CALLBACK,f=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=s.ERR_TRANSFORM_WITH_LENGTH_0,m=o(4560);function u(p,g){var b=this._transformState;b.transforming=!1;var v=b.writecb;if(v===null)return this.emit("error",new c);b.writechunk=null,b.writecb=null,g!=null&&this.push(g),v(p);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);m.call(this,p),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",h)}function h(){var p=this;typeof this._flush!="function"||this._readableState.destroyed?d(this,null,null):this._flush(function(g,b){d(p,g,b)})}function d(p,g,b){if(g)return p.emit("error",g);if(b!=null&&p.push(b),p._writableState.length)throw new y;if(p._transformState.transforming)throw new f;return p.push(null)}o(1679)(l,m),l.prototype.push=function(p,g){return this._transformState.needTransform=!1,m.prototype.push.call(this,p,g)},l.prototype._transform=function(p,g,b){b(new a("_transform()"))},l.prototype._write=function(p,g,b){var v=this._transformState;if(v.writecb=b,v.writechunk=p,v.writeencoding=g,!v.transforming){var _=this._readableState;(v.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},l.prototype._read=function(p){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},l.prototype._destroy=function(p,g){m.prototype._destroy.call(this,p,function(b){g(b)})}},4186:(r,i,o)=>{"use strict";function s(E){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(C,I){var T=C.entry;for(C.entry=null;T;){var N=T.callback;I.pendingcb--,N(void 0),T=T.next}I.corkedRequestsFree.next=C})(O,E)}}var a;r.exports=k,k.WritableState=P;var c,f={deprecate:o(3340)},y=o(6871),m=o(5832).Buffer,u=(o.g!==void 0?o.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},l=o(6222),h=o(9681).getHighWaterMark,d=o(198).F,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,_=d.ERR_STREAM_DESTROYED,S=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,D=d.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;function M(){}function P(E,O,C){a=a||o(4560),E=E||{},typeof C!="boolean"&&(C=O instanceof a),this.objectMode=!!E.objectMode,C&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=h(this,E,"writableHighWaterMark",C),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=E.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(N,j){var H=N._writableState,q=H.sync,X=H.writecb;if(typeof X!="function")throw new b;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}(H),j)(function(U,Z,ee,R,$){--Z.pendingcb,ee?({env:{}}.nextTick($,R),{env:{}}.nextTick(te,U,Z),U._writableState.errorEmitted=!0,x(U,R)):($(R),U._writableState.errorEmitted=!0,x(U,R),te(U,Z))})(N,H,q,j,X);else{var z=Q(H)||N.destroyed;z||H.corked||H.bufferProcessing||!H.bufferedRequest||V(N,H),q?{env:{}}.nextTick(L,N,H,z,X):L(N,H,z,X)}})(O,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function k(E){var O=this instanceof(a=a||o(4560));if(!O&&!c.call(k,this))return new k(E);this._writableState=new P(E,this,O),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),y.call(this)}function B(E,O,C,I,T,N,j){O.writelen=I,O.writecb=j,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new _("write")):C?E._writev(T,O.onwrite):E._write(T,N,O.onwrite),O.sync=!1}function L(E,O,C,I){C||function(T,N){N.length===0&&N.needDrain&&(N.needDrain=!1,T.emit("drain"))}(E,O),O.pendingcb--,I(),te(E,O)}function V(E,O){O.bufferProcessing=!0;var C=O.bufferedRequest;if(E._writev&&C&&C.next){var I=O.bufferedRequestCount,T=new Array(I),N=O.corkedRequestsFree;N.entry=C;for(var j=0,H=!0;C;)T[j]=C,C.isBuf||(H=!1),C=C.next,j+=1;T.allBuffers=H,B(E,O,!0,O.length,T,"",N.finish),O.pendingcb++,O.lastBufferedRequest=null,N.next?(O.corkedRequestsFree=N.next,N.next=null):O.corkedRequestsFree=new s(O),O.bufferedRequestCount=0}else{for(;C;){var q=C.chunk,X=C.encoding,z=C.callback;if(B(E,O,!1,O.objectMode?1:q.length,q,X,z),C=C.next,O.bufferedRequestCount--,O.writing)break}C===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=C,O.bufferProcessing=!1}function Q(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function ne(E,O){E._final(function(C){O.pendingcb--,C&&x(E,C),O.prefinished=!0,E.emit("prefinish"),te(E,O)})}function te(E,O){var C=Q(O);if(C&&(function(T,N){N.prefinished||N.finalCalled||(typeof T._final!="function"||N.destroyed?(N.prefinished=!0,T.emit("prefinish")):(N.pendingcb++,N.finalCalled=!0,{env:{}}.nextTick(ne,T,N)))}(E,O),O.pendingcb===0&&(O.finished=!0,E.emit("finish"),O.autoDestroy))){var I=E._readableState;(!I||I.autoDestroy&&I.endEmitted)&&E.destroy()}return C}o(1679)(k,y),P.prototype.getBuffer=function(){for(var E=this.bufferedRequest,O=[];E;)O.push(E),E=E.next;return O},function(){try{Object.defineProperty(P.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(E){return!!c.call(this,E)||this===k&&E&&E._writableState instanceof P}})):c=function(E){return E instanceof this},k.prototype.pipe=function(){x(this,new v)},k.prototype.write=function(E,O,C){var I,T=this._writableState,N=!1,j=!T.objectMode&&(I=E,m.isBuffer(I)||I instanceof u);return j&&!m.isBuffer(E)&&(E=function(H){return m.from(H)}(E)),typeof O=="function"&&(C=O,O=null),j?O="buffer":O||(O=T.defaultEncoding),typeof C!="function"&&(C=M),T.ending?function(H,q){var X=new w;x(H,X),{env:{}}.nextTick(q,X)}(this,C):(j||function(H,q,X,z){var U;return X===null?U=new S:typeof X=="string"||q.objectMode||(U=new p("chunk",["string","Buffer"],X)),!U||(x(H,U),{env:{}}.nextTick(z,U),!1)}(this,T,E,C))&&(T.pendingcb++,N=function(H,q,X,z,U,Z){if(!X){var ee=function(ie,ae,le){return ie.objectMode||ie.decodeStrings===!1||typeof ae!="string"||(ae=m.from(ae,le)),ae}(q,z,U);z!==ee&&(X=!0,U="buffer",z=ee)}var R=q.objectMode?1:z.length;q.length+=R;var $=q.length<q.highWaterMark;if($||(q.needDrain=!0),q.writing||q.corked){var G=q.lastBufferedRequest;q.lastBufferedRequest={chunk:z,encoding:U,isBuf:X,callback:Z,next:null},G?G.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else B(H,q,!1,R,z,U,Z);return $}(this,T,j,E,O,C)),N},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||V(this,E))},k.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new D(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(E,O,C){C(new g("_write()"))},k.prototype._writev=null,k.prototype.end=function(E,O,C){var I=this._writableState;return typeof E=="function"?(C=E,E=null,O=null):typeof O=="function"&&(C=O,O=null),E!=null&&this.write(E,O),I.corked&&(I.corked=1,this.uncork()),I.ending||function(T,N,j){N.ending=!0,te(T,N),j&&(N.finished?{env:{}}.nextTick(j):T.once("finish",j)),N.ended=!0,T.writable=!1}(this,I,C),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),k.prototype.destroy=l.destroy,k.prototype._undestroy=l.undestroy,k.prototype._destroy=function(E,O){O(E)}},8493:(r,i,o)=>{"use strict";function s(w){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s(w)}var a;function c(w,D,x){return(D=function(M){var P=function(k){if(s(k)!=="object"||k===null)return k;var B=k[Symbol.toPrimitive];if(B!==void 0){var L=B.call(k,"string");if(s(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(M);return s(P)==="symbol"?P:String(P)}(D))in w?Object.defineProperty(w,D,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[D]=x,w}var f=o(8500),y=Symbol("lastResolve"),m=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function g(w,D){return{value:w,done:D}}function b(w){var D=w[y];if(D!==null){var x=w[p].read();x!==null&&(w[h]=null,w[y]=null,w[m]=null,D(g(x,!1)))}}function v(w){({env:{}}).nextTick(b,w)}var _=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((c(a={get stream(){return this[p]},next:function(){var w=this,D=this[u];if(D!==null)return Promise.reject(D);if(this[l])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(k,B){({env:{}}).nextTick(function(){w[u]?B(w[u]):k(g(void 0,!0))})});var x,M=this[h];if(M)x=new Promise(function(k,B){return function(L,V){k.then(function(){B[l]?L(g(void 0,!0)):B[d](L,V)},V)}}(M,this));else{var P=this[p].read();if(P!==null)return Promise.resolve(g(P,!1));x=new Promise(this[d])}return this[h]=x,x}},Symbol.asyncIterator,function(){return this}),c(a,"return",function(){var w=this;return new Promise(function(D,x){w[p].destroy(null,function(M){M?x(M):D(g(void 0,!0))})})}),a),_);r.exports=function(w){var D,x=Object.create(S,(c(D={},p,{value:w,writable:!0}),c(D,y,{value:null,writable:!0}),c(D,m,{value:null,writable:!0}),c(D,u,{value:null,writable:!0}),c(D,l,{value:w._readableState.endEmitted,writable:!0}),c(D,d,{value:function(M,P){var k=x[p].read();k?(x[h]=null,x[y]=null,x[m]=null,M(g(k,!1))):(x[y]=M,x[m]=P)},writable:!0}),D));return x[h]=null,f(w,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=x[m];return P!==null&&(x[h]=null,x[y]=null,x[m]=null,P(M)),void(x[u]=M)}var k=x[y];k!==null&&(x[h]=null,x[y]=null,x[m]=null,k(g(void 0,!0))),x[l]=!0}),w.on("readable",v.bind(null,x)),x}},6811:(r,i,o)=>{"use strict";function s(d){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(d)}function a(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);p&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable})),g.push.apply(g,b)}return g}function c(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(b){f(d,b,g[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(g,b))})}return d}function f(d,p,g){return(p=m(p))in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function y(d,p){for(var g=0;g<p.length;g++){var b=p[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(d,m(b.key),b)}}function m(d){var p=function(g){if(s(g)!=="object"||g===null)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var v=b.call(g,"string");if(s(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(d);return s(p)==="symbol"?p:String(p)}var u=o(5832).Buffer,l=o(3779).inspect,h=l&&l.custom||"inspect";r.exports=function(){function d(){(function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var p,g;return p=d,(g=[{key:"push",value:function(b){var v={data:b,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(b){var v={data:b,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var v=this.head,_=""+v.data;v=v.next;)_+=b+v.data;return _}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var v,_,S,w=u.allocUnsafe(b>>>0),D=this.head,x=0;D;)v=D.data,_=w,S=x,u.prototype.copy.call(v,_,S),x+=D.data.length,D=D.next;return w}},{key:"consume",value:function(b,v){var _;return b<this.head.data.length?(_=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):_=b===this.head.data.length?this.shift():v?this._getString(b):this._getBuffer(b),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var v=this.head,_=1,S=v.data;for(b-=S.length;v=v.next;){var w=v.data,D=b>w.length?w.length:b;if(D===w.length?S+=w:S+=w.slice(0,b),(b-=D)==0){D===w.length?(++_,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(D));break}++_}return this.length-=_,S}},{key:"_getBuffer",value:function(b){var v=u.allocUnsafe(b),_=this.head,S=1;for(_.data.copy(v),b-=_.data.length;_=_.next;){var w=_.data,D=b>w.length?w.length:b;if(w.copy(v,v.length-b,0,D),(b-=D)==0){D===w.length?(++S,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=w.slice(D));break}++S}return this.length-=S,v}},{key:h,value:function(b,v){return l(this,c(c({},v),{},{depth:0,customInspect:!1}))}}])&&y(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),d}()},6222:r=>{"use strict";function i(a,c){s(a,c),o(a)}function o(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,c){a.emit("error",c)}r.exports={destroy:function(a,c){var f=this,y=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return y||m?(c?c(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,{env:{}}.nextTick(s,this,a)):{env:{}}.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(u){!c&&u?f._writableState?f._writableState.errorEmitted?{env:{}}.nextTick(o,f):(f._writableState.errorEmitted=!0,{env:{}}.nextTick(i,f,u)):{env:{}}.nextTick(i,f,u):c?({env:{}}.nextTick(o,f),c(u)):{env:{}}.nextTick(o,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,c){var f=a._readableState,y=a._writableState;f&&f.autoDestroy||y&&y.autoDestroy?a.destroy(c):a.emit("error",c)}}},8500:(r,i,o)=>{"use strict";var s=o(198).F.ERR_STREAM_PREMATURE_CLOSE;function a(){}r.exports=function c(f,y,m){if(typeof y=="function")return c(f,null,y);y||(y={}),m=function(w){var D=!1;return function(){if(!D){D=!0;for(var x=arguments.length,M=new Array(x),P=0;P<x;P++)M[P]=arguments[P];w.apply(this,M)}}}(m||a);var u=y.readable||y.readable!==!1&&f.readable,l=y.writable||y.writable!==!1&&f.writable,h=function(){f.writable||p()},d=f._writableState&&f._writableState.finished,p=function(){l=!1,d=!0,u||m.call(f)},g=f._readableState&&f._readableState.endEmitted,b=function(){u=!1,g=!0,l||m.call(f)},v=function(w){m.call(f,w)},_=function(){var w;return u&&!g?(f._readableState&&f._readableState.ended||(w=new s),m.call(f,w)):l&&!d?(f._writableState&&f._writableState.ended||(w=new s),m.call(f,w)):void 0},S=function(){f.req.on("finish",p)};return function(w){return w.setHeader&&typeof w.abort=="function"}(f)?(f.on("complete",p),f.on("abort",_),f.req?S():f.on("request",S)):l&&!f._writableState&&(f.on("end",h),f.on("close",h)),f.on("end",b),f.on("finish",p),y.error!==!1&&f.on("error",v),f.on("close",_),function(){f.removeListener("complete",p),f.removeListener("abort",_),f.removeListener("request",S),f.req&&f.req.removeListener("finish",p),f.removeListener("end",h),f.removeListener("close",h),f.removeListener("finish",p),f.removeListener("end",b),f.removeListener("error",v),f.removeListener("close",_)}}},9271:r=>{r.exports=function(){throw new Error("Readable.from is not available in the browser")}},1144:(r,i,o)=>{"use strict";var s,a=o(198).F,c=a.ERR_MISSING_ARGS,f=a.ERR_STREAM_DESTROYED;function y(l){if(l)throw l}function m(l){l()}function u(l,h){return l.pipe(h)}r.exports=function(){for(var l=arguments.length,h=new Array(l),d=0;d<l;d++)h[d]=arguments[d];var p,g=function(v){return v.length?typeof v[v.length-1]!="function"?y:v.pop():y}(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new c("streams");var b=h.map(function(v,_){var S=_<h.length-1;return function(w,D,x,M){M=function(B){var L=!1;return function(){L||(L=!0,B.apply(void 0,arguments))}}(M);var P=!1;w.on("close",function(){P=!0}),s===void 0&&(s=o(8500)),s(w,{readable:D,writable:x},function(B){if(B)return M(B);P=!0,M()});var k=!1;return function(B){if(!P&&!k)return k=!0,function(L){return L.setHeader&&typeof L.abort=="function"}(w)?w.abort():typeof w.destroy=="function"?w.destroy():void M(B||new f("pipe"))}}(v,S,_>0,function(w){p||(p=w),w&&b.forEach(m),S||(b.forEach(m),g(p))})});return h.reduce(u)}},9681:(r,i,o)=>{"use strict";var s=o(198).F.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(a,c,f,y){var m=function(u,l,h){return u.highWaterMark!=null?u.highWaterMark:l?u[h]:null}(c,y,f);if(m!=null){if(!isFinite(m)||Math.floor(m)!==m||m<0)throw new s(y?f:"highWaterMark",m);return Math.floor(m)}return a.objectMode?16:16384}}},6871:(r,i,o)=>{r.exports=o(3550).EventEmitter},136:(r,i,o)=>{"use strict";var s=o(2).Buffer,a=s.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(g){var b;switch(this.encoding=function(v){var _=function(S){if(!S)return"utf8";for(var w;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(w)return;S=(""+S).toLowerCase(),w=!0}}(v);if(typeof _!="string"&&(s.isEncoding===a||!a(v)))throw new Error("Unknown encoding: "+v);return _||v}(g),this.encoding){case"utf16le":this.text=m,this.end=u,b=4;break;case"utf8":this.fillLast=y,b=4;break;case"base64":this.text=l,this.end=h,b=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function f(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function y(g){var b=this.lastTotal-this.lastNeed,v=function(_,S){if((192&S[0])!=128)return _.lastNeed=0,"\uFFFD";if(_.lastNeed>1&&S.length>1){if((192&S[1])!=128)return _.lastNeed=1,"\uFFFD";if(_.lastNeed>2&&S.length>2&&(192&S[2])!=128)return _.lastNeed=2,"\uFFFD"}}(this,g);return v!==void 0?v:this.lastNeed<=g.length?(g.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,b,0,g.length),void(this.lastNeed-=g.length))}function m(g,b){if((g.length-b)%2==0){var v=g.toString("utf16le",b);if(v){var _=v.charCodeAt(v.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",b,g.length-1)}function u(g){var b=g&&g.length?this.write(g):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,v)}return b}function l(g,b){var v=(g.length-b)%3;return v===0?g.toString("base64",b):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",b,g.length-v))}function h(g){var b=g&&g.length?this.write(g):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function d(g){return g.toString(this.encoding)}function p(g){return g&&g.length?this.write(g):""}i.I=c,c.prototype.write=function(g){if(g.length===0)return"";var b,v;if(this.lastNeed){if((b=this.fillLast(g))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<g.length?b?b+this.text(g,v):this.text(g,v):b||""},c.prototype.end=function(g){var b=g&&g.length?this.write(g):"";return this.lastNeed?b+"\uFFFD":b},c.prototype.text=function(g,b){var v=function(S,w,D){var x=w.length-1;if(x<D)return 0;var M=f(w[x]);return M>=0?(M>0&&(S.lastNeed=M-1),M):--x<D||M===-2?0:(M=f(w[x]))>=0?(M>0&&(S.lastNeed=M-2),M):--x<D||M===-2?0:(M=f(w[x]))>=0?(M>0&&(M===2?M=0:S.lastNeed=M-3),M):0}(this,g,b);if(!this.lastNeed)return g.toString("utf8",b);this.lastTotal=v;var _=g.length-(v-this.lastNeed);return g.copy(this.lastChar,0,_),g.toString("utf8",b,_)},c.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},2:(r,i,o)=>{var s=o(5832),a=s.Buffer;function c(y,m){for(var u in y)m[u]=y[u]}function f(y,m,u){return a(y,m,u)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=s:(c(s,i),i.Buffer=f),c(a,f),f.from=function(y,m,u){if(typeof y=="number")throw new TypeError("Argument must not be a number");return a(y,m,u)},f.alloc=function(y,m,u){if(typeof y!="number")throw new TypeError("Argument must be a number");var l=a(y);return m!==void 0?typeof u=="string"?l.fill(m,u):l.fill(m):l.fill(0),l},f.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return a(y)},f.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(y)}},3340:(r,i,o)=>{function s(a){try{if(!o.g.localStorage)return!1}catch{return!1}var c=o.g.localStorage[a];return c!=null&&String(c).toLowerCase()==="true"}r.exports=function(a,c){if(s("noDeprecation"))return a;var f=!1;return function(){if(!f){if(s("throwDeprecation"))throw new Error(c);s("traceDeprecation")?console.trace(c):console.warn(c),f=!0}return a.apply(this,arguments)}}},7944:r=>{function i(o){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}r.exports=function(o){return o&&i(o)==="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},7595:(r,i,o)=>{"use strict";function s(I){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},s(I)}var a=o(5899),c=o(1905),f=o(9834),y=o(7911);function m(I){return I.call.bind(I)}var u=typeof BigInt<"u",l=typeof Symbol<"u",h=m(Object.prototype.toString),d=m(Number.prototype.valueOf),p=m(String.prototype.valueOf),g=m(Boolean.prototype.valueOf);if(u)var b=m(BigInt.prototype.valueOf);if(l)var v=m(Symbol.prototype.valueOf);function _(I,T){if(s(I)!=="object")return!1;try{return T(I),!0}catch{return!1}}function S(I){return h(I)==="[object Map]"}function w(I){return h(I)==="[object Set]"}function D(I){return h(I)==="[object WeakMap]"}function x(I){return h(I)==="[object WeakSet]"}function M(I){return h(I)==="[object ArrayBuffer]"}function P(I){return typeof ArrayBuffer<"u"&&(M.working?M(I):I instanceof ArrayBuffer)}function k(I){return h(I)==="[object DataView]"}function B(I){return typeof DataView<"u"&&(k.working?k(I):I instanceof DataView)}i.isArgumentsObject=a,i.isGeneratorFunction=c,i.isTypedArray=y,i.isPromise=function(I){return typeof Promise<"u"&&I instanceof Promise||I!==null&&s(I)==="object"&&typeof I.then=="function"&&typeof I.catch=="function"},i.isArrayBufferView=function(I){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(I):y(I)||B(I)},i.isUint8Array=function(I){return f(I)==="Uint8Array"},i.isUint8ClampedArray=function(I){return f(I)==="Uint8ClampedArray"},i.isUint16Array=function(I){return f(I)==="Uint16Array"},i.isUint32Array=function(I){return f(I)==="Uint32Array"},i.isInt8Array=function(I){return f(I)==="Int8Array"},i.isInt16Array=function(I){return f(I)==="Int16Array"},i.isInt32Array=function(I){return f(I)==="Int32Array"},i.isFloat32Array=function(I){return f(I)==="Float32Array"},i.isFloat64Array=function(I){return f(I)==="Float64Array"},i.isBigInt64Array=function(I){return f(I)==="BigInt64Array"},i.isBigUint64Array=function(I){return f(I)==="BigUint64Array"},S.working=typeof Map<"u"&&S(new Map),i.isMap=function(I){return typeof Map<"u"&&(S.working?S(I):I instanceof Map)},w.working=typeof Set<"u"&&w(new Set),i.isSet=function(I){return typeof Set<"u"&&(w.working?w(I):I instanceof Set)},D.working=typeof WeakMap<"u"&&D(new WeakMap),i.isWeakMap=function(I){return typeof WeakMap<"u"&&(D.working?D(I):I instanceof WeakMap)},x.working=typeof WeakSet<"u"&&x(new WeakSet),i.isWeakSet=function(I){return x(I)},M.working=typeof ArrayBuffer<"u"&&M(new ArrayBuffer),i.isArrayBuffer=P,k.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&k(new DataView(new ArrayBuffer(1),0,1)),i.isDataView=B;var L=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function V(I){return h(I)==="[object SharedArrayBuffer]"}function Q(I){return L!==void 0&&(V.working===void 0&&(V.working=V(new L)),V.working?V(I):I instanceof L)}function ne(I){return _(I,d)}function te(I){return _(I,p)}function E(I){return _(I,g)}function O(I){return u&&_(I,b)}function C(I){return l&&_(I,v)}i.isSharedArrayBuffer=Q,i.isAsyncFunction=function(I){return h(I)==="[object AsyncFunction]"},i.isMapIterator=function(I){return h(I)==="[object Map Iterator]"},i.isSetIterator=function(I){return h(I)==="[object Set Iterator]"},i.isGeneratorObject=function(I){return h(I)==="[object Generator]"},i.isWebAssemblyCompiledModule=function(I){return h(I)==="[object WebAssembly.Module]"},i.isNumberObject=ne,i.isStringObject=te,i.isBooleanObject=E,i.isBigIntObject=O,i.isSymbolObject=C,i.isBoxedPrimitive=function(I){return ne(I)||te(I)||E(I)||O(I)||C(I)},i.isAnyArrayBuffer=function(I){return typeof Uint8Array<"u"&&(P(I)||Q(I))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(I){Object.defineProperty(i,I,{enumerable:!1,value:function(){throw new Error(I+" is not supported in userland")}})})},7352:(r,i,o)=>{function s(O){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},s(O)}var a=Object.getOwnPropertyDescriptors||function(O){for(var C=Object.keys(O),I={},T=0;T<C.length;T++)I[C[T]]=Object.getOwnPropertyDescriptor(O,C[T]);return I},c=/%[sdj%]/g;i.format=function(O){if(!w(O)){for(var C=[],I=0;I<arguments.length;I++)C.push(u(arguments[I]));return C.join(" ")}I=1;for(var T=arguments,N=T.length,j=String(O).replace(c,function(q){if(q==="%%")return"%";if(I>=N)return q;switch(q){case"%s":return String(T[I++]);case"%d":return Number(T[I++]);case"%j":try{return JSON.stringify(T[I++])}catch{return"[Circular]"}default:return q}}),H=T[I];I<N;H=T[++I])_(H)||!M(H)?j+=" "+H:j+=" "+u(H);return j},i.deprecate=function(O,C){if({env:{}}.noDeprecation===!0)return O;var I=!1;return function(){if(!I){if({env:{}}.throwDeprecation)throw new Error(C);({env:{}}).traceDeprecation?console.trace(C):console.error(C),I=!0}return O.apply(this,arguments)}};var f={},y=/^$/;if({}.NODE_DEBUG){var m={}.NODE_DEBUG;m=m.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+m+"$","i")}function u(O,C){var I={seen:[],stylize:h};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),v(C)?I.showHidden=C:C&&i._extend(I,C),D(I.showHidden)&&(I.showHidden=!1),D(I.depth)&&(I.depth=2),D(I.colors)&&(I.colors=!1),D(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=l),d(I,O,I.depth)}function l(O,C){var I=u.styles[C];return I?"\x1B["+u.colors[I][0]+"m"+O+"\x1B["+u.colors[I][1]+"m":O}function h(O,C){return O}function d(O,C,I){if(O.customInspect&&C&&B(C.inspect)&&C.inspect!==i.inspect&&(!C.constructor||C.constructor.prototype!==C)){var T=C.inspect(I,O);return w(T)||(T=d(O,T,I)),T}var N=function(ee,R){if(D(R))return ee.stylize("undefined","undefined");if(w(R)){var $="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize($,"string")}return S(R)?ee.stylize(""+R,"number"):v(R)?ee.stylize(""+R,"boolean"):_(R)?ee.stylize("null","null"):void 0}(O,C);if(N)return N;var j=Object.keys(C),H=function(ee){var R={};return ee.forEach(function($,G){R[$]=!0}),R}(j);if(O.showHidden&&(j=Object.getOwnPropertyNames(C)),k(C)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return p(C);if(j.length===0){if(B(C)){var q=C.name?": "+C.name:"";return O.stylize("[Function"+q+"]","special")}if(x(C))return O.stylize(RegExp.prototype.toString.call(C),"regexp");if(P(C))return O.stylize(Date.prototype.toString.call(C),"date");if(k(C))return p(C)}var X,z="",U=!1,Z=["{","}"];return b(C)&&(U=!0,Z=["[","]"]),B(C)&&(z=" [Function"+(C.name?": "+C.name:"")+"]"),x(C)&&(z=" "+RegExp.prototype.toString.call(C)),P(C)&&(z=" "+Date.prototype.toUTCString.call(C)),k(C)&&(z=" "+p(C)),j.length!==0||U&&C.length!=0?I<0?x(C)?O.stylize(RegExp.prototype.toString.call(C),"regexp"):O.stylize("[Object]","special"):(O.seen.push(C),X=U?function(ee,R,$,G,ie){for(var ae=[],le=0,J=R.length;le<J;++le)ne(R,String(le))?ae.push(g(ee,R,$,G,String(le),!0)):ae.push("");return ie.forEach(function(re){re.match(/^\d+$/)||ae.push(g(ee,R,$,G,re,!0))}),ae}(O,C,I,H,j):j.map(function(ee){return g(O,C,I,H,ee,U)}),O.seen.pop(),function(ee,R,$){return ee.reduce(function(G,ie){return ie.indexOf(`
`),G+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(R===""?"":R+`
 `)+" "+ee.join(`,
  `)+" "+$[1]:$[0]+R+" "+ee.join(", ")+" "+$[1]}(X,z,Z)):Z[0]+z+Z[1]}function p(O){return"["+Error.prototype.toString.call(O)+"]"}function g(O,C,I,T,N,j){var H,q,X;if((X=Object.getOwnPropertyDescriptor(C,N)||{value:C[N]}).get?q=X.set?O.stylize("[Getter/Setter]","special"):O.stylize("[Getter]","special"):X.set&&(q=O.stylize("[Setter]","special")),ne(T,N)||(H="["+N+"]"),q||(O.seen.indexOf(X.value)<0?(q=_(I)?d(O,X.value,null):d(O,X.value,I-1)).indexOf(`
`)>-1&&(q=j?q.split(`
`).map(function(z){return"  "+z}).join(`
`).slice(2):`
`+q.split(`
`).map(function(z){return"   "+z}).join(`
`)):q=O.stylize("[Circular]","special")),D(H)){if(j&&N.match(/^\d+$/))return q;(H=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=O.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=O.stylize(H,"string"))}return H+": "+q}function b(O){return Array.isArray(O)}function v(O){return typeof O=="boolean"}function _(O){return O===null}function S(O){return typeof O=="number"}function w(O){return typeof O=="string"}function D(O){return O===void 0}function x(O){return M(O)&&L(O)==="[object RegExp]"}function M(O){return s(O)==="object"&&O!==null}function P(O){return M(O)&&L(O)==="[object Date]"}function k(O){return M(O)&&(L(O)==="[object Error]"||O instanceof Error)}function B(O){return typeof O=="function"}function L(O){return Object.prototype.toString.call(O)}function V(O){return O<10?"0"+O.toString(10):O.toString(10)}i.debuglog=function(O){if(O=O.toUpperCase(),!f[O])if(y.test(O)){var C={env:{}}.pid;f[O]=function(){var I=i.format.apply(i,arguments);console.error("%s %d: %s",O,C,I)}}else f[O]=function(){};return f[O]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.types=o(7595),i.isArray=b,i.isBoolean=v,i.isNull=_,i.isNullOrUndefined=function(O){return O==null},i.isNumber=S,i.isString=w,i.isSymbol=function(O){return s(O)==="symbol"},i.isUndefined=D,i.isRegExp=x,i.types.isRegExp=x,i.isObject=M,i.isDate=P,i.types.isDate=P,i.isError=k,i.types.isNativeError=k,i.isFunction=B,i.isPrimitive=function(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||s(O)==="symbol"||O===void 0},i.isBuffer=o(7944);var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(O,C){return Object.prototype.hasOwnProperty.call(O,C)}i.log=function(){var O,C;console.log("%s - %s",(C=[V((O=new Date).getHours()),V(O.getMinutes()),V(O.getSeconds())].join(":"),[O.getDate(),Q[O.getMonth()],C].join(" ")),i.format.apply(i,arguments))},i.inherits=o(1679),i._extend=function(O,C){if(!C||!M(C))return O;for(var I=Object.keys(C),T=I.length;T--;)O[I[T]]=C[I[T]];return O};var te=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function E(O,C){if(!O){var I=new Error("Promise was rejected with a falsy value");I.reason=O,O=I}return C(O)}i.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(te&&O[te]){var C;if(typeof(C=O[te])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(C,te,{value:C,enumerable:!1,writable:!1,configurable:!0}),C}function C(){for(var I,T,N=new Promise(function(q,X){I=q,T=X}),j=[],H=0;H<arguments.length;H++)j.push(arguments[H]);j.push(function(q,X){q?T(q):I(X)});try{O.apply(this,j)}catch(q){T(q)}return N}return Object.setPrototypeOf(C,Object.getPrototypeOf(O)),te&&Object.defineProperty(C,te,{value:C,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(C,a(O))},i.promisify.custom=te,i.callbackify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var I=[],T=0;T<arguments.length;T++)I.push(arguments[T]);var N=I.pop();if(typeof N!="function")throw new TypeError("The last argument must be of type Function");var j=this,H=function(){return N.apply(j,arguments)};O.apply(this,I).then(function(q){({env:{}}).nextTick(H.bind(null,null,q))},function(q){({env:{}}).nextTick(E.bind(null,q,H))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(O)),Object.defineProperties(C,a(O)),C}},9834:(r,i,o)=>{"use strict";function s(_){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},s(_)}var a=o(3777),c=o(3426),f=o(9122),y=o(3071),m=o(1464),u=y("Object.prototype.toString"),l=o(953)(),h=typeof globalThis>"u"?o.g:globalThis,d=c(),p=y("String.prototype.slice"),g=Object.getPrototypeOf,b=y("Array.prototype.indexOf",!0)||function(_,S){for(var w=0;w<_.length;w+=1)if(_[w]===S)return w;return-1},v={__proto__:null};a(d,l&&m&&g?function(_){var S=new h[_];if(Symbol.toStringTag in S){var w=g(S),D=m(w,Symbol.toStringTag);if(!D){var x=g(w);D=m(x,Symbol.toStringTag)}v["$"+_]=f(D.get)}}:function(_){var S=new h[_],w=S.slice||S.set;w&&(v["$"+_]=f(w))}),r.exports=function(_){if(!_||s(_)!=="object")return!1;if(!l){var S=p(u(_),8,-1);return b(d,S)>-1?S:S==="Object"&&function(w){var D=!1;return a(v,function(x,M){if(!D)try{x(w),D=p(M,1)}catch{}}),D}(_)}return m?function(w){var D=!1;return a(v,function(x,M){if(!D)try{"$"+x(w)===M&&(D=p(M,1))}catch{}}),D}(_):null}},7790:()=>{},3776:()=>{},5340:()=>{},9838:()=>{},3779:()=>{},7199:()=>{},3426:(r,i,o)=>{"use strict";var s=o(2653),a=typeof globalThis>"u"?o.g:globalThis;r.exports=function(){for(var c=[],f=0;f<s.length;f++)typeof a[s[f]]=="function"&&(c[c.length]=s[f]);return c}},3633:(r,i,o)=>{"use strict";var s=o(5832).Buffer;let a=(()=>{let F=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return A=>F.call(A)})();function c(F){return a(F)==="Uint8Array"}function f(F){return typeof F=="object"&&F!=null&&Symbol.toStringTag in F&&(F[Symbol.toStringTag]==="ArrayBuffer"||F[Symbol.toStringTag]==="SharedArrayBuffer")}function y(F){return F instanceof RegExp||Object.prototype.toString.call(F)==="[object RegExp]"}function m(F){return typeof F=="object"&&F!=null&&Symbol.toStringTag in F&&F[Symbol.toStringTag]==="Map"}function u(F){return F instanceof Date||Object.prototype.toString.call(F)==="[object Date]"}function l(F,A){return JSON.stringify(F,(Y,W)=>typeof W=="bigint"?{$numberLong:`${W}`}:m(W)?Object.fromEntries(W):W)}let h=Symbol.for("@@mdb.bson.version"),d=2147483647,p=-2147483648,g=Math.pow(2,63)-1,b=-Math.pow(2,63),v=Math.pow(2,53),_=-Math.pow(2,53),S=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class w extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(A,Y){super(A,Y)}static isBSONError(A){return A!=null&&typeof A=="object"&&"bsonError"in A&&A.bsonError===!0&&"name"in A&&"message"in A&&"stack"in A}}class D extends w{get name(){return"BSONVersionError"}constructor(){super("Unsupported BSON version, bson types must be from bson 6.x.x")}}class x extends w{get name(){return"BSONRuntimeError"}constructor(A){super(A)}}class M extends w{get name(){return"BSONOffsetError"}constructor(A,Y,W){super(`${A}. offset: ${Y}`,W),this.offset=Y}}let P,k;function B(F,A,Y,W){if(W){P??=new TextDecoder("utf8",{fatal:!0});try{return P.decode(F.subarray(A,Y))}catch(ye){throw new w("Invalid UTF-8 string in BSON document",{cause:ye})}}return k??=new TextDecoder("utf8",{fatal:!1}),k.decode(F.subarray(A,Y))}function L(F,A,Y){if(F.length===0)return"";let W=Y-A;if(W===0)return"";if(W>20)return null;if(W===1&&F[A]<128)return String.fromCharCode(F[A]);if(W===2&&F[A]<128&&F[A+1]<128)return String.fromCharCode(F[A])+String.fromCharCode(F[A+1]);if(W===3&&F[A]<128&&F[A+1]<128&&F[A+2]<128)return String.fromCharCode(F[A])+String.fromCharCode(F[A+1])+String.fromCharCode(F[A+2]);let ye=[];for(let ge=A;ge<Y;ge++){let Ue=F[ge];if(Ue>127)return null;ye.push(Ue)}return String.fromCharCode(...ye)}function V(F){return ne.fromNumberArray(Array.from({length:F},()=>Math.floor(256*Math.random())))}let Q=(()=>{try{return o(8872).po}catch{return V}})(),ne={toLocalBufferType(F){if(s.isBuffer(F))return F;if(ArrayBuffer.isView(F))return s.from(F.buffer,F.byteOffset,F.byteLength);let A=F?.[Symbol.toStringTag]??Object.prototype.toString.call(F);if(A==="ArrayBuffer"||A==="SharedArrayBuffer"||A==="[object ArrayBuffer]"||A==="[object SharedArrayBuffer]")return s.from(F);throw new w("Cannot create Buffer from the passed potentialBuffer.")},allocate:F=>s.alloc(F),allocateUnsafe:F=>s.allocUnsafe(F),equals:(F,A)=>ne.toLocalBufferType(F).equals(A),fromNumberArray:F=>s.from(F),fromBase64:F=>s.from(F,"base64"),toBase64:F=>ne.toLocalBufferType(F).toString("base64"),fromISO88591:F=>s.from(F,"binary"),toISO88591:F=>ne.toLocalBufferType(F).toString("binary"),fromHex:F=>s.from(F,"hex"),toHex:F=>ne.toLocalBufferType(F).toString("hex"),toUTF8(F,A,Y,W){let ye=Y-A<=20?L(F,A,Y):null;if(ye!=null)return ye;let ge=ne.toLocalBufferType(F).toString("utf8",A,Y);if(W){for(let Ue=0;Ue<ge.length;Ue++)if(ge.charCodeAt(Ue)===65533){B(F,A,Y,!0);break}}return ge},utf8ByteLength:F=>s.byteLength(F,"utf8"),encodeUTF8Into(F,A,Y){let W=function(ye,ge,Ue){if(ge.length===0)return 0;if(ge.length>25||ye.length-Ue<ge.length)return null;for(let Be=0,ve=Ue;Be<ge.length;Be++,ve++){let lt=ge.charCodeAt(Be);if(lt>127)return null;ye[ve]=lt}return ge.length}(F,A,Y);return W??ne.toLocalBufferType(F).write(A,Y,void 0,"utf8")},randomBytes:Q,swap32:F=>ne.toLocalBufferType(F).swap32()};function te(F){if(F<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${F}`);return C.fromNumberArray(Array.from({length:F},()=>Math.floor(256*Math.random())))}let E=(()=>{let{crypto:F}=globalThis;if(F!=null&&typeof F.getRandomValues=="function")return A=>F.getRandomValues(C.allocate(A));if(function(){let{navigator:A}=globalThis;return typeof A=="object"&&A.product==="ReactNative"}()){let{console:A}=globalThis;A?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return te})(),O=/(\d|[a-f])/i,C={toLocalBufferType(F){let A=F?.[Symbol.toStringTag]??Object.prototype.toString.call(F);if(A==="Uint8Array")return F;if(ArrayBuffer.isView(F))return new Uint8Array(F.buffer.slice(F.byteOffset,F.byteOffset+F.byteLength));if(A==="ArrayBuffer"||A==="SharedArrayBuffer"||A==="[object ArrayBuffer]"||A==="[object SharedArrayBuffer]")return new Uint8Array(F);throw new w("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(F){if(typeof F!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(F)}`);return new Uint8Array(F)},allocateUnsafe:F=>C.allocate(F),equals(F,A){if(F.byteLength!==A.byteLength)return!1;for(let Y=0;Y<F.byteLength;Y++)if(F[Y]!==A[Y])return!1;return!0},fromNumberArray:F=>Uint8Array.from(F),fromBase64:F=>Uint8Array.from(atob(F),A=>A.charCodeAt(0)),toBase64:F=>btoa(C.toISO88591(F)),fromISO88591:F=>Uint8Array.from(F,A=>255&A.charCodeAt(0)),toISO88591:F=>Array.from(Uint16Array.from(F),A=>String.fromCharCode(A)).join(""),fromHex(F){let A=F.length%2==0?F:F.slice(0,F.length-1),Y=[];for(let W=0;W<A.length;W+=2){let ye=A[W],ge=A[W+1];if(!O.test(ye)||!O.test(ge))break;let Ue=Number.parseInt(`${ye}${ge}`,16);Y.push(Ue)}return Uint8Array.from(Y)},toHex:F=>Array.from(F,A=>A.toString(16).padStart(2,"0")).join(""),toUTF8(F,A,Y,W){let ye=Y-A<=20?L(F,A,Y):null;return ye??B(F,A,Y,W)},utf8ByteLength:F=>new TextEncoder().encode(F).byteLength,encodeUTF8Into(F,A,Y){let W=new TextEncoder().encode(A);return F.set(W,Y),W.byteLength},randomBytes:E,swap32(F){if(F.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<F.length;A+=4){let Y=F[A],W=F[A+1],ye=F[A+2],ge=F[A+3];F[A]=ge,F[A+1]=ye,F[A+2]=W,F[A+3]=Y}return F}},I=typeof s=="function"&&s.prototype?._isBuffer!==!0?ne:C;class T{get[h](){return 6}[Symbol.for("nodejs.util.inspect.custom")](A,Y,W){return this.inspect(A,Y,W)}}let N=new Float64Array(1),j=new Uint8Array(N.buffer,0,8);N[0]=-1;let H=j[7]===0,q={isBigEndian:H,getNonnegativeInt32LE(F,A){if(F[A+3]>127)throw new RangeError(`Size cannot be negative at offset: ${A}`);return F[A]|F[A+1]<<8|F[A+2]<<16|F[A+3]<<24},getInt32LE:(F,A)=>F[A]|F[A+1]<<8|F[A+2]<<16|F[A+3]<<24,getUint32LE:(F,A)=>F[A]+256*F[A+1]+65536*F[A+2]+16777216*F[A+3],getUint32BE:(F,A)=>F[A+3]+256*F[A+2]+65536*F[A+1]+16777216*F[A],getBigInt64LE(F,A){let Y=q.getUint32LE(F,A),W=q.getUint32LE(F,A+4);return(BigInt(W)<<BigInt(32))+BigInt(Y)},getFloat64LE:H?(F,A)=>(j[7]=F[A],j[6]=F[A+1],j[5]=F[A+2],j[4]=F[A+3],j[3]=F[A+4],j[2]=F[A+5],j[1]=F[A+6],j[0]=F[A+7],N[0]):(F,A)=>(j[0]=F[A],j[1]=F[A+1],j[2]=F[A+2],j[3]=F[A+3],j[4]=F[A+4],j[5]=F[A+5],j[6]=F[A+6],j[7]=F[A+7],N[0]),setInt32BE:(F,A,Y)=>(F[A+3]=Y,Y>>>=8,F[A+2]=Y,Y>>>=8,F[A+1]=Y,Y>>>=8,F[A]=Y,4),setInt32LE:(F,A,Y)=>(F[A]=Y,Y>>>=8,F[A+1]=Y,Y>>>=8,F[A+2]=Y,Y>>>=8,F[A+3]=Y,4),setBigInt64LE(F,A,Y){let W=BigInt(4294967295),ye=Number(Y&W);F[A]=ye,ye>>=8,F[A+1]=ye,ye>>=8,F[A+2]=ye,ye>>=8,F[A+3]=ye;let ge=Number(Y>>BigInt(32)&W);return F[A+4]=ge,ge>>=8,F[A+5]=ge,ge>>=8,F[A+6]=ge,ge>>=8,F[A+7]=ge,8},setFloat64LE:H?(F,A,Y)=>(N[0]=Y,F[A]=j[7],F[A+1]=j[6],F[A+2]=j[5],F[A+3]=j[4],F[A+4]=j[3],F[A+5]=j[2],F[A+6]=j[1],F[A+7]=j[0],8):(F,A,Y)=>(N[0]=Y,F[A]=j[0],F[A+1]=j[1],F[A+2]=j[2],F[A+3]=j[3],F[A+4]=j[4],F[A+5]=j[5],F[A+6]=j[6],F[A+7]=j[7],8)};class X extends T{get _bsontype(){return"Binary"}constructor(A,Y){if(super(),A!=null&&typeof A=="string"&&!ArrayBuffer.isView(A)&&!f(A)&&!Array.isArray(A))throw new w("Binary can only be constructed from Uint8Array or number[]");this.sub_type=Y??X.BSON_BINARY_SUBTYPE_DEFAULT,A==null?(this.buffer=I.allocate(X.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(A)?I.fromNumberArray(A):I.toLocalBufferType(A),this.position=this.buffer.byteLength)}put(A){if(typeof A=="string"&&A.length!==1)throw new w("only accepts single character String");if(typeof A!="number"&&A.length!==1)throw new w("only accepts single character Uint8Array or Array");let Y;if(Y=typeof A=="string"?A.charCodeAt(0):typeof A=="number"?A:A[0],Y<0||Y>255)throw new w("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=Y;else{let W=I.allocate(X.BUFFER_SIZE+this.buffer.length);W.set(this.buffer,0),this.buffer=W,this.buffer[this.position++]=Y}}write(A,Y){if(Y=typeof Y=="number"?Y:this.position,this.buffer.byteLength<Y+A.length){let W=I.allocate(this.buffer.byteLength+A.length);W.set(this.buffer,0),this.buffer=W}if(ArrayBuffer.isView(A))this.buffer.set(I.toLocalBufferType(A),Y),this.position=Y+A.byteLength>this.position?Y+A.length:this.position;else if(typeof A=="string")throw new w("input cannot be string")}read(A,Y){let W=A+(Y=Y&&Y>0?Y:this.position);return this.buffer.subarray(A,W>this.position?this.position:W)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return I.toBase64(this.buffer.subarray(0,this.position))}toString(A){return A==="hex"?I.toHex(this.buffer.subarray(0,this.position)):A==="base64"?I.toBase64(this.buffer.subarray(0,this.position)):I.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(A){A=A||{},this.sub_type===X.SUBTYPE_VECTOR&&z(this);let Y=I.toBase64(this.buffer),W=Number(this.sub_type).toString(16);return A.legacy?{$binary:Y,$type:W.length===1?"0"+W:W}:{$binary:{base64:Y,subType:W.length===1?"0"+W:W}}}toUUID(){if(this.sub_type===X.SUBTYPE_UUID)return new ee(this.buffer.subarray(0,this.position));throw new w(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${X.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(A,Y){return new X(I.fromHex(A),Y)}static createFromBase64(A,Y){return new X(I.fromBase64(A),Y)}static fromExtendedJSON(A,Y){let W,ye;if(Y=Y||{},"$binary"in A?Y.legacy&&typeof A.$binary=="string"&&"$type"in A?(ye=A.$type?parseInt(A.$type,16):0,W=I.fromBase64(A.$binary)):typeof A.$binary!="string"&&(ye=A.$binary.subType?parseInt(A.$binary.subType,16):0,W=I.fromBase64(A.$binary.base64)):"$uuid"in A&&(ye=4,W=ee.bytesFromString(A.$uuid)),!W)throw new w(`Unexpected Binary Extended JSON format ${JSON.stringify(A)}`);return ye===4?new ee(W):new X(W,ye)}inspect(A,Y,W){return W??=l,`Binary.createFromBase64(${W(I.toBase64(this.buffer.subarray(0,this.position)),Y)}, ${W(this.sub_type,Y)})`}toInt8Array(){if(this.sub_type!==X.SUBTYPE_VECTOR)throw new w("Binary sub_type is not Vector");if(this.buffer[0]!==X.VECTOR_TYPE.Int8)throw new w("Binary datatype field is not Int8");return new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==X.SUBTYPE_VECTOR)throw new w("Binary sub_type is not Vector");if(this.buffer[0]!==X.VECTOR_TYPE.Float32)throw new w("Binary datatype field is not Float32");let A=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return q.isBigEndian&&I.swap32(A),new Float32Array(A.buffer)}toPackedBits(){if(this.sub_type!==X.SUBTYPE_VECTOR)throw new w("Binary sub_type is not Vector");if(this.buffer[0]!==X.VECTOR_TYPE.PackedBit)throw new w("Binary datatype field is not packed bit");return new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==X.SUBTYPE_VECTOR)throw new w("Binary sub_type is not Vector");if(this.buffer[0]!==X.VECTOR_TYPE.PackedBit)throw new w("Binary datatype field is not packed bit");let A=8*(this.length()-2)-this.buffer[1],Y=new Int8Array(A);for(let W=0;W<Y.length;W++){let ye=W/8|0,ge=this.buffer[ye+2]>>7-W%8&1;Y[W]=ge}return Y}static fromInt8Array(A){let Y=I.allocate(A.byteLength+2);Y[0]=X.VECTOR_TYPE.Int8,Y[1]=0;let W=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);return Y.set(W,2),new this(Y,this.SUBTYPE_VECTOR)}static fromFloat32Array(A){let Y=I.allocate(A.byteLength+2);Y[0]=X.VECTOR_TYPE.Float32,Y[1]=0;let W=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);return Y.set(W,2),q.isBigEndian&&I.swap32(new Uint8Array(Y.buffer,2)),new this(Y,this.SUBTYPE_VECTOR)}static fromPackedBits(A,Y=0){let W=I.allocate(A.byteLength+2);return W[0]=X.VECTOR_TYPE.PackedBit,W[1]=Y,W.set(A,2),new this(W,this.SUBTYPE_VECTOR)}static fromBits(A){let Y=A.length+7>>>3,W=new Uint8Array(Y+2);W[0]=X.VECTOR_TYPE.PackedBit;let ye=A.length%8;W[1]=ye===0?0:8-ye;for(let ge=0;ge<A.length;ge++){let Ue=ge>>>3,Be=A[ge];if(Be!==0&&Be!==1)throw new w(`Invalid bit value at ${ge}: must be 0 or 1, found ${A[ge]}`);if(Be===0)continue;let ve=7-ge%8;W[Ue+2]|=Be<<ve}return new this(W,X.SUBTYPE_VECTOR)}}function z(F){if(F.sub_type!==X.SUBTYPE_VECTOR)return;let A=F.position,Y=F.buffer[0],W=F.buffer[1];if((Y===X.VECTOR_TYPE.Float32||Y===X.VECTOR_TYPE.Int8)&&W!==0)throw new w("Invalid Vector: padding must be zero for int8 and float32 vectors");if(Y===X.VECTOR_TYPE.PackedBit&&W!==0&&A===2)throw new w("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(Y===X.VECTOR_TYPE.PackedBit&&W>7)throw new w(`Invalid Vector: padding must be a value between 0 and 7. found: ${W}`)}X.BSON_BINARY_SUBTYPE_DEFAULT=0,X.BUFFER_SIZE=256,X.SUBTYPE_DEFAULT=0,X.SUBTYPE_FUNCTION=1,X.SUBTYPE_BYTE_ARRAY=2,X.SUBTYPE_UUID_OLD=3,X.SUBTYPE_UUID=4,X.SUBTYPE_MD5=5,X.SUBTYPE_ENCRYPTED=6,X.SUBTYPE_COLUMN=7,X.SUBTYPE_SENSITIVE=8,X.SUBTYPE_VECTOR=9,X.SUBTYPE_USER_DEFINED=128,X.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});let U=/^[0-9A-F]{32}$/i,Z=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class ee extends X{constructor(A){let Y;if(A==null)Y=ee.generate();else if(A instanceof ee)Y=I.toLocalBufferType(new Uint8Array(A.buffer));else if(ArrayBuffer.isView(A)&&A.byteLength===16)Y=I.toLocalBufferType(A);else{if(typeof A!="string")throw new w("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");Y=ee.bytesFromString(A)}super(Y,4)}get id(){return this.buffer}set id(A){this.buffer=A}toHexString(A=!0){return A?[I.toHex(this.buffer.subarray(0,4)),I.toHex(this.buffer.subarray(4,6)),I.toHex(this.buffer.subarray(6,8)),I.toHex(this.buffer.subarray(8,10)),I.toHex(this.buffer.subarray(10,16))].join("-"):I.toHex(this.buffer)}toString(A){return A==="hex"?I.toHex(this.id):A==="base64"?I.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(A){if(!A)return!1;if(A instanceof ee)return I.equals(A.id,this.id);try{return I.equals(new ee(A).id,this.id)}catch{return!1}}toBinary(){return new X(this.id,X.SUBTYPE_UUID)}static generate(){let A=I.randomBytes(16);return A[6]=15&A[6]|64,A[8]=63&A[8]|128,A}static isValid(A){return!!A&&(typeof A=="string"?ee.isValidUUIDString(A):c(A)?A.byteLength===16:A._bsontype==="Binary"&&A.sub_type===this.SUBTYPE_UUID&&A.buffer.byteLength===16)}static createFromHexString(A){let Y=ee.bytesFromString(A);return new ee(Y)}static createFromBase64(A){return new ee(I.fromBase64(A))}static bytesFromString(A){if(!ee.isValidUUIDString(A))throw new w("UUID string representation must be 32 hex digits or canonical hyphenated representation");return I.fromHex(A.replace(/-/g,""))}static isValidUUIDString(A){return U.test(A)||Z.test(A)}inspect(A,Y,W){return W??=l,`new UUID(${W(this.toHexString(),Y)})`}}class R extends T{get _bsontype(){return"Code"}constructor(A,Y){super(),this.code=A.toString(),this.scope=Y??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(A){return new R(A.$code,A.$scope)}inspect(A,Y,W){W??=l;let ye=W(this.code,Y),ge=ye.includes(`
`);return this.scope!=null&&(ye+=`,${ge?`
`:" "}${W(this.scope,Y)}`),`new Code(${ge?`
`:""}${ye}${ge&&this.scope===null?`
`:""})`}}function $(F){return F!=null&&typeof F=="object"&&"$id"in F&&F.$id!=null&&"$ref"in F&&typeof F.$ref=="string"&&(!("$db"in F)||"$db"in F&&typeof F.$db=="string")}class G extends T{get _bsontype(){return"DBRef"}constructor(A,Y,W,ye){super();let ge=A.split(".");ge.length===2&&(W=ge.shift(),A=ge.shift()),this.collection=A,this.oid=Y,this.db=W,this.fields=ye||{}}get namespace(){return this.collection}set namespace(A){this.collection=A}toJSON(){let A=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(A.$db=this.db),A}toExtendedJSON(A){A=A||{};let Y={$ref:this.collection,$id:this.oid};return A.legacy||(this.db&&(Y.$db=this.db),Y=Object.assign(Y,this.fields)),Y}static fromExtendedJSON(A){let Y=Object.assign({},A);return delete Y.$ref,delete Y.$id,delete Y.$db,new G(A.$ref,A.$id,A.$db,Y)}inspect(A,Y,W){W??=l;let ye=[W(this.namespace,Y),W(this.oid,Y),...this.db?[W(this.db,Y)]:[],...Object.keys(this.fields).length>0?[W(this.fields,Y)]:[]];return ye[1]=W===l?`new ObjectId(${ye[1]})`:ye[1],`new DBRef(${ye.join(", ")})`}}function ie(F){if(F==="")return F;let A=0,Y=F[A]==="-",W=F[A]==="+";(W||Y)&&(A+=1);let ye=!1;for(;A<F.length&&F[A]==="0";++A)ye=!0;return ye?`${Y?"-":""}${F.length===A?"0":F.slice(A)}`:W?F.slice(1):F}let ae;try{ae=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}let le=4294967296,J=18446744073709552e3,re=J/2,ue={},fe={},de=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class se extends T{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(A=0,Y,W){super();let ye=typeof Y=="boolean"?Y:!!W,ge=typeof Y=="number"?Y:0,Ue=typeof A=="string"?se.fromString(A,ye):typeof A=="bigint"?se.fromBigInt(A,ye):{low:0|A,high:0|ge,unsigned:ye};this.low=Ue.low,this.high=Ue.high,this.unsigned=Ue.unsigned}static fromBits(A,Y,W){return new se(A,Y,W)}static fromInt(A,Y){let W,ye,ge;return Y?(ge=0<=(A>>>=0)&&A<256)&&(ye=fe[A],ye)?ye:(W=se.fromBits(A,(0|A)<0?-1:0,!0),ge&&(fe[A]=W),W):(ge=-128<=(A|=0)&&A<128)&&(ye=ue[A],ye)?ye:(W=se.fromBits(A,A<0?-1:0,!1),ge&&(ue[A]=W),W)}static fromNumber(A,Y){if(isNaN(A))return Y?se.UZERO:se.ZERO;if(Y){if(A<0)return se.UZERO;if(A>=J)return se.MAX_UNSIGNED_VALUE}else{if(A<=-re)return se.MIN_VALUE;if(A+1>=re)return se.MAX_VALUE}return A<0?se.fromNumber(-A,Y).neg():se.fromBits(A%le|0,A/le|0,Y)}static fromBigInt(A,Y){let W=BigInt(4294967295),ye=BigInt(32);return new se(Number(A&W),Number(A>>ye&W),Y)}static _fromString(A,Y,W){if(A.length===0)throw new w("empty string");if(W<2||36<W)throw new w("radix");let ye;if((ye=A.indexOf("-"))>0)throw new w("interior hyphen");if(ye===0)return se._fromString(A.substring(1),Y,W).neg();let ge=se.fromNumber(Math.pow(W,8)),Ue=se.ZERO;for(let Be=0;Be<A.length;Be+=8){let ve=Math.min(8,A.length-Be),lt=parseInt(A.substring(Be,Be+ve),W);if(ve<8){let Ge=se.fromNumber(Math.pow(W,ve));Ue=Ue.mul(Ge).add(se.fromNumber(lt))}else Ue=Ue.mul(ge),Ue=Ue.add(se.fromNumber(lt))}return Ue.unsigned=Y,Ue}static fromStringStrict(A,Y,W){let ye=!1;if(typeof Y=="number"?(W=Y,Y=!1):ye=!!Y,W??=10,A.trim()!==A)throw new w(`Input: '${A}' contains leading and/or trailing whitespace`);if(!function(Be,ve){let lt="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,ve=ve??10);return!new RegExp(`[^-+${lt}]`,"i").test(Be)&&Be}(A,W))throw new w(`Input: '${A}' contains invalid characters for radix: ${W}`);let ge=ie(A),Ue=se._fromString(ge,ye,W);if(Ue.toString(W).toLowerCase()!==ge.toLowerCase())throw new w(`Input: ${A} is not representable as ${Ue.unsigned?"an unsigned":"a signed"} 64-bit Long ${W!=null?`with radix: ${W}`:""}`);return Ue}static fromString(A,Y,W){let ye=!1;return typeof Y=="number"?(W=Y,Y=!1):ye=!!Y,W??=10,A==="NaN"&&W<24||(A==="Infinity"||A==="+Infinity"||A==="-Infinity")&&W<35?se.ZERO:se._fromString(A,ye,W)}static fromBytes(A,Y,W){return W?se.fromBytesLE(A,Y):se.fromBytesBE(A,Y)}static fromBytesLE(A,Y){return new se(A[0]|A[1]<<8|A[2]<<16|A[3]<<24,A[4]|A[5]<<8|A[6]<<16|A[7]<<24,Y)}static fromBytesBE(A,Y){return new se(A[4]<<24|A[5]<<16|A[6]<<8|A[7],A[0]<<24|A[1]<<16|A[2]<<8|A[3],Y)}static isLong(A){return A!=null&&typeof A=="object"&&"__isLong__"in A&&A.__isLong__===!0}static fromValue(A,Y){return typeof A=="number"?se.fromNumber(A,Y):typeof A=="string"?se.fromString(A,Y):se.fromBits(A.low,A.high,typeof Y=="boolean"?Y:A.unsigned)}add(A){se.isLong(A)||(A=se.fromValue(A));let Y=this.high>>>16,W=65535&this.high,ye=this.low>>>16,ge=65535&this.low,Ue=A.high>>>16,Be=65535&A.high,ve=A.low>>>16,lt=0,Ge=0,Re=0,We=0;return We+=ge+(65535&A.low),Re+=We>>>16,We&=65535,Re+=ye+ve,Ge+=Re>>>16,Re&=65535,Ge+=W+Be,lt+=Ge>>>16,Ge&=65535,lt+=Y+Ue,lt&=65535,se.fromBits(Re<<16|We,lt<<16|Ge,this.unsigned)}and(A){return se.isLong(A)||(A=se.fromValue(A)),se.fromBits(this.low&A.low,this.high&A.high,this.unsigned)}compare(A){if(se.isLong(A)||(A=se.fromValue(A)),this.eq(A))return 0;let Y=this.isNegative(),W=A.isNegative();return Y&&!W?-1:!Y&&W?1:this.unsigned?A.high>>>0>this.high>>>0||A.high===this.high&&A.low>>>0>this.low>>>0?-1:1:this.sub(A).isNegative()?-1:1}comp(A){return this.compare(A)}divide(A){if(se.isLong(A)||(A=se.fromValue(A)),A.isZero())throw new w("division by zero");if(ae){if(!this.unsigned&&this.high===-2147483648&&A.low===-1&&A.high===-1)return this;let ge=(this.unsigned?ae.div_u:ae.div_s)(this.low,this.high,A.low,A.high);return se.fromBits(ge,ae.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?se.UZERO:se.ZERO;let Y,W,ye;if(this.unsigned){if(A.unsigned||(A=A.toUnsigned()),A.gt(this))return se.UZERO;if(A.gt(this.shru(1)))return se.UONE;ye=se.UZERO}else{if(this.eq(se.MIN_VALUE))return A.eq(se.ONE)||A.eq(se.NEG_ONE)?se.MIN_VALUE:A.eq(se.MIN_VALUE)?se.ONE:(Y=this.shr(1).div(A).shl(1),Y.eq(se.ZERO)?A.isNegative()?se.ONE:se.NEG_ONE:(W=this.sub(A.mul(Y)),ye=Y.add(W.div(A)),ye));if(A.eq(se.MIN_VALUE))return this.unsigned?se.UZERO:se.ZERO;if(this.isNegative())return A.isNegative()?this.neg().div(A.neg()):this.neg().div(A).neg();if(A.isNegative())return this.div(A.neg()).neg();ye=se.ZERO}for(W=this;W.gte(A);){Y=Math.max(1,Math.floor(W.toNumber()/A.toNumber()));let ge=Math.ceil(Math.log(Y)/Math.LN2),Ue=ge<=48?1:Math.pow(2,ge-48),Be=se.fromNumber(Y),ve=Be.mul(A);for(;ve.isNegative()||ve.gt(W);)Y-=Ue,Be=se.fromNumber(Y,this.unsigned),ve=Be.mul(A);Be.isZero()&&(Be=se.ONE),ye=ye.add(Be),W=W.sub(ve)}return ye}div(A){return this.divide(A)}equals(A){return se.isLong(A)||(A=se.fromValue(A)),(this.unsigned===A.unsigned||this.high>>>31!=1||A.high>>>31!=1)&&this.high===A.high&&this.low===A.low}eq(A){return this.equals(A)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(se.MIN_VALUE)?64:this.neg().getNumBitsAbs();let A=this.high!==0?this.high:this.low,Y;for(Y=31;Y>0&&!(A&1<<Y);Y--);return this.high!==0?Y+33:Y+1}greaterThan(A){return this.comp(A)>0}gt(A){return this.greaterThan(A)}greaterThanOrEqual(A){return this.comp(A)>=0}gte(A){return this.greaterThanOrEqual(A)}ge(A){return this.greaterThanOrEqual(A)}isEven(){return!(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return!(1&~this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(A){return this.comp(A)<0}lt(A){return this.lessThan(A)}lessThanOrEqual(A){return this.comp(A)<=0}lte(A){return this.lessThanOrEqual(A)}modulo(A){if(se.isLong(A)||(A=se.fromValue(A)),ae){let Y=(this.unsigned?ae.rem_u:ae.rem_s)(this.low,this.high,A.low,A.high);return se.fromBits(Y,ae.get_high(),this.unsigned)}return this.sub(this.div(A).mul(A))}mod(A){return this.modulo(A)}rem(A){return this.modulo(A)}multiply(A){if(this.isZero())return se.ZERO;if(se.isLong(A)||(A=se.fromValue(A)),ae){let ht=ae.mul(this.low,this.high,A.low,A.high);return se.fromBits(ht,ae.get_high(),this.unsigned)}if(A.isZero())return se.ZERO;if(this.eq(se.MIN_VALUE))return A.isOdd()?se.MIN_VALUE:se.ZERO;if(A.eq(se.MIN_VALUE))return this.isOdd()?se.MIN_VALUE:se.ZERO;if(this.isNegative())return A.isNegative()?this.neg().mul(A.neg()):this.neg().mul(A).neg();if(A.isNegative())return this.mul(A.neg()).neg();if(this.lt(se.TWO_PWR_24)&&A.lt(se.TWO_PWR_24))return se.fromNumber(this.toNumber()*A.toNumber(),this.unsigned);let Y=this.high>>>16,W=65535&this.high,ye=this.low>>>16,ge=65535&this.low,Ue=A.high>>>16,Be=65535&A.high,ve=A.low>>>16,lt=65535&A.low,Ge=0,Re=0,We=0,ft=0;return ft+=ge*lt,We+=ft>>>16,ft&=65535,We+=ye*lt,Re+=We>>>16,We&=65535,We+=ge*ve,Re+=We>>>16,We&=65535,Re+=W*lt,Ge+=Re>>>16,Re&=65535,Re+=ye*ve,Ge+=Re>>>16,Re&=65535,Re+=ge*Be,Ge+=Re>>>16,Re&=65535,Ge+=Y*lt+W*ve+ye*Be+ge*Ue,Ge&=65535,se.fromBits(We<<16|ft,Ge<<16|Re,this.unsigned)}mul(A){return this.multiply(A)}negate(){return!this.unsigned&&this.eq(se.MIN_VALUE)?se.MIN_VALUE:this.not().add(se.ONE)}neg(){return this.negate()}not(){return se.fromBits(~this.low,~this.high,this.unsigned)}notEquals(A){return!this.equals(A)}neq(A){return this.notEquals(A)}ne(A){return this.notEquals(A)}or(A){return se.isLong(A)||(A=se.fromValue(A)),se.fromBits(this.low|A.low,this.high|A.high,this.unsigned)}shiftLeft(A){return se.isLong(A)&&(A=A.toInt()),(A&=63)==0?this:A<32?se.fromBits(this.low<<A,this.high<<A|this.low>>>32-A,this.unsigned):se.fromBits(0,this.low<<A-32,this.unsigned)}shl(A){return this.shiftLeft(A)}shiftRight(A){return se.isLong(A)&&(A=A.toInt()),(A&=63)==0?this:A<32?se.fromBits(this.low>>>A|this.high<<32-A,this.high>>A,this.unsigned):se.fromBits(this.high>>A-32,this.high>=0?0:-1,this.unsigned)}shr(A){return this.shiftRight(A)}shiftRightUnsigned(A){if(se.isLong(A)&&(A=A.toInt()),(A&=63)==0)return this;{let Y=this.high;if(A<32){let W=this.low;return se.fromBits(W>>>A|Y<<32-A,Y>>>A,this.unsigned)}return A===32?se.fromBits(Y,0,this.unsigned):se.fromBits(Y>>>A-32,0,this.unsigned)}}shr_u(A){return this.shiftRightUnsigned(A)}shru(A){return this.shiftRightUnsigned(A)}subtract(A){return se.isLong(A)||(A=se.fromValue(A)),this.add(A.neg())}sub(A){return this.subtract(A)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*le+(this.low>>>0):this.high*le+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(A){return A?this.toBytesLE():this.toBytesBE()}toBytesLE(){let A=this.high,Y=this.low;return[255&Y,Y>>>8&255,Y>>>16&255,Y>>>24,255&A,A>>>8&255,A>>>16&255,A>>>24]}toBytesBE(){let A=this.high,Y=this.low;return[A>>>24,A>>>16&255,A>>>8&255,255&A,Y>>>24,Y>>>16&255,Y>>>8&255,255&Y]}toSigned(){return this.unsigned?se.fromBits(this.low,this.high,!1):this}toString(A){if((A=A||10)<2||36<A)throw new w("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(se.MIN_VALUE)){let ge=se.fromNumber(A),Ue=this.div(ge),Be=Ue.mul(ge).sub(this);return Ue.toString(A)+Be.toInt().toString(A)}return"-"+this.neg().toString(A)}let Y=se.fromNumber(Math.pow(A,6),this.unsigned),W=this,ye="";for(;;){let ge=W.div(Y),Ue=(W.sub(ge.mul(Y)).toInt()>>>0).toString(A);if(W=ge,W.isZero())return Ue+ye;for(;Ue.length<6;)Ue="0"+Ue;ye=""+Ue+ye}}toUnsigned(){return this.unsigned?this:se.fromBits(this.low,this.high,!0)}xor(A){return se.isLong(A)||(A=se.fromValue(A)),se.fromBits(this.low^A.low,this.high^A.high,this.unsigned)}eqz(){return this.isZero()}le(A){return this.lessThanOrEqual(A)}toExtendedJSON(A){return A&&A.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(A,Y){let{useBigInt64:W=!1,relaxed:ye=!0}=ke({},Y);if(A.$numberLong.length>20)throw new w("$numberLong string is too long");if(!de.test(A.$numberLong))throw new w(`$numberLong string "${A.$numberLong}" is in an invalid format`);if(W){let Ue=BigInt(A.$numberLong);return BigInt.asIntN(64,Ue)}let ge=se.fromString(A.$numberLong);return ye?ge.toNumber():ge}inspect(A,Y,W){return W??=l,`new Long(${W(this.toString(),Y)}${this.unsigned?`, ${W(this.unsigned,Y)}`:""})`}}se.TWO_PWR_24=se.fromInt(16777216),se.MAX_UNSIGNED_VALUE=se.fromBits(-1,-1,!0),se.ZERO=se.fromInt(0),se.UZERO=se.fromInt(0,!0),se.ONE=se.fromInt(1),se.UONE=se.fromInt(1,!0),se.NEG_ONE=se.fromInt(-1),se.MAX_VALUE=se.fromBits(-1,2147483647,!1),se.MIN_VALUE=se.fromBits(0,-2147483648,!1);let Ie=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Ce=/^(\+|-)?(Infinity|inf)$/i,we=/^(\+|-)?NaN$/i,Te=6111,Ne=-6176,Ye=I.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Le=I.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),at=I.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Et=/^([-+])?(\d+)?$/;function Je(F){return!isNaN(parseInt(F,10))}function wt(F){let A=se.fromNumber(1e9),Y=se.fromNumber(0);if(!(F.parts[0]||F.parts[1]||F.parts[2]||F.parts[3]))return{quotient:F,rem:Y};for(let W=0;W<=3;W++)Y=Y.shiftLeft(32),Y=Y.add(new se(F.parts[W],0)),F.parts[W]=Y.div(A).low,Y=Y.modulo(A);return{quotient:F,rem:Y}}function kt(F,A){throw new w(`"${F}" is not a valid Decimal128 string - ${A}`)}class pt extends T{get _bsontype(){return"Decimal128"}constructor(A){if(super(),typeof A=="string")this.bytes=pt.fromString(A).bytes;else{if(!(A instanceof Uint8Array||c(A)))throw new w("Decimal128 must take a Buffer or string");if(A.byteLength!==16)throw new w("Decimal128 must take a Buffer of 16 bytes");this.bytes=A}}static fromString(A){return pt._fromString(A,{allowRounding:!1})}static fromStringWithRounding(A){return pt._fromString(A,{allowRounding:!0})}static _fromString(A,Y){let W=!1,ye=!1,ge=!1,Ue=!1,Be=0,ve=0,lt=0,Ge=0,Re=0,We=[0],ft=0,ht=0,tn=0,Tn=0,In=new se(0,0),qn=new se(0,0),mn=0,tt=0;if(A.length>=7e3)throw new w(A+" not a valid Decimal128 string");let At=A.match(Ie),Sr=A.match(Ce),on=A.match(we);if(!At&&!Sr&&!on||A.length===0)throw new w(A+" not a valid Decimal128 string");if(At){let ut=At[2],vn=At[4],fn=At[5],dn=At[6];vn&&dn===void 0&&kt(A,"missing exponent power"),vn&&ut===void 0&&kt(A,"missing exponent base"),vn===void 0&&(fn||dn)&&kt(A,"missing e before exponent")}if(A[tt]!=="+"&&A[tt]!=="-"||(ye=!0,W=A[tt++]==="-"),!Je(A[tt])&&A[tt]!=="."){if(A[tt]==="i"||A[tt]==="I")return new pt(W?Le:at);if(A[tt]==="N")return new pt(Ye)}for(;Je(A[tt])||A[tt]===".";)A[tt]!=="."?(ft<34&&(A[tt]!=="0"||Ue)&&(Ue||(Re=ve),Ue=!0,We[ht++]=parseInt(A[tt],10),ft+=1),Ue&&(lt+=1),ge&&(Ge+=1),ve+=1,tt+=1):(ge&&kt(A,"contains multiple periods"),ge=!0,tt+=1);if(ge&&!ve)throw new w(A+" not a valid Decimal128 string");if(A[tt]==="e"||A[tt]==="E"){let ut=A.substr(++tt).match(Et);if(!ut||!ut[2])return new pt(Ye);Tn=parseInt(ut[0],10),tt+=ut[0].length}if(A[tt])return new pt(Ye);if(ft){if(tn=ft-1,Be=lt,Be!==1)for(;A[Re+Be-1+Number(ye)+Number(ge)]==="0";)Be-=1}else We[0]=0,lt=1,ft=1,Be=0;for(Tn<=Ge&&Ge>Tn+16384?Tn=Ne:Tn-=Ge;Tn>Te;){if(tn+=1,tn>=34){if(Be===0){Tn=Te;break}kt(A,"overflow")}Tn-=1}if(Y.allowRounding){for(;Tn<Ne||ft<lt;){if(tn===0&&Be<ft){Tn=Ne,Be=0;break}if(ft<lt?lt-=1:tn-=1,Tn<Te)Tn+=1;else{if(We.join("").match(/^0+$/)){Tn=Te;break}kt(A,"overflow")}}if(tn+1<Be){let ut=ve;ge&&(Re+=1,ut+=1),ye&&(Re+=1,ut+=1);let vn=parseInt(A[Re+tn+1],10),fn=0;if(vn>=5&&(fn=1,vn===5)){fn=We[tn]%2==1?1:0;for(let dn=Re+tn+2;dn<ut;dn++)if(parseInt(A[dn],10)){fn=1;break}}if(fn){let dn=tn;for(;dn>=0&&++We[dn]>9;dn--)if(We[dn]=0,dn===0){if(!(Tn<Te))return new pt(W?Le:at);Tn+=1,We[dn]=1}}}}else{for(;Tn<Ne||ft<lt;){if(tn===0){if(Be===0){Tn=Ne;break}kt(A,"exponent underflow")}ft<lt?(A[lt-1+Number(ye)+Number(ge)]!=="0"&&Be!==0&&kt(A,"inexact rounding"),lt-=1):(We[tn]!==0&&kt(A,"inexact rounding"),tn-=1),Tn<Te?Tn+=1:kt(A,"overflow")}tn+1<Be&&(ge&&(Re+=1),ye&&(Re+=1),parseInt(A[Re+tn+1],10)!==0&&kt(A,"inexact rounding"))}if(In=se.fromNumber(0),qn=se.fromNumber(0),Be===0)In=se.fromNumber(0),qn=se.fromNumber(0);else if(tn<17){let ut=0;for(qn=se.fromNumber(We[ut++]),In=new se(0,0);ut<=tn;ut++)qn=qn.multiply(se.fromNumber(10)),qn=qn.add(se.fromNumber(We[ut]))}else{let ut=0;for(In=se.fromNumber(We[ut++]);ut<=tn-17;ut++)In=In.multiply(se.fromNumber(10)),In=In.add(se.fromNumber(We[ut]));for(qn=se.fromNumber(We[ut++]);ut<=tn;ut++)qn=qn.multiply(se.fromNumber(10)),qn=qn.add(se.fromNumber(We[ut]))}let nr=function(ut,vn){if(!ut&&!vn)return{high:se.fromNumber(0),low:se.fromNumber(0)};let fn=ut.shiftRightUnsigned(32),dn=new se(ut.getLowBits(),0),Ns=vn.shiftRightUnsigned(32),pu=new se(vn.getLowBits(),0),Ho=fn.multiply(Ns),Ps=fn.multiply(pu),Rx=dn.multiply(Ns),yf=dn.multiply(pu);return Ho=Ho.add(Ps.shiftRightUnsigned(32)),Ps=new se(Ps.getLowBits(),0).add(Rx).add(yf.shiftRightUnsigned(32)),Ho=Ho.add(Ps.shiftRightUnsigned(32)),yf=Ps.shiftLeft(32).add(new se(yf.getLowBits(),0)),{high:Ho,low:yf}}(In,se.fromString("100000000000000000"));nr.low=nr.low.add(qn),function(ut,vn){let fn=ut.high>>>0,dn=vn.high>>>0;return fn<dn||fn===dn&&ut.low>>>0<vn.low>>>0}(nr.low,qn)&&(nr.high=nr.high.add(se.fromNumber(1))),mn=Tn+6176;let nt={low:se.fromNumber(0),high:se.fromNumber(0)};nr.high.shiftRightUnsigned(49).and(se.fromNumber(1)).equals(se.fromNumber(1))?(nt.high=nt.high.or(se.fromNumber(3).shiftLeft(61)),nt.high=nt.high.or(se.fromNumber(mn).and(se.fromNumber(16383).shiftLeft(47))),nt.high=nt.high.or(nr.high.and(se.fromNumber(0x7fffffffffff)))):(nt.high=nt.high.or(se.fromNumber(16383&mn).shiftLeft(49)),nt.high=nt.high.or(nr.high.and(se.fromNumber(562949953421311)))),nt.low=nr.low,W&&(nt.high=nt.high.or(se.fromString("9223372036854775808")));let Ke=I.allocateUnsafe(16);return tt=0,Ke[tt++]=255&nt.low.low,Ke[tt++]=nt.low.low>>8&255,Ke[tt++]=nt.low.low>>16&255,Ke[tt++]=nt.low.low>>24&255,Ke[tt++]=255&nt.low.high,Ke[tt++]=nt.low.high>>8&255,Ke[tt++]=nt.low.high>>16&255,Ke[tt++]=nt.low.high>>24&255,Ke[tt++]=255&nt.high.low,Ke[tt++]=nt.high.low>>8&255,Ke[tt++]=nt.high.low>>16&255,Ke[tt++]=nt.high.low>>24&255,Ke[tt++]=255&nt.high.high,Ke[tt++]=nt.high.high>>8&255,Ke[tt++]=nt.high.high>>16&255,Ke[tt++]=nt.high.high>>24&255,new pt(Ke)}toString(){let A,Y=0,W=new Array(36);for(let mn=0;mn<W.length;mn++)W[mn]=0;let ye,ge,Ue,Be=0,ve=!1,lt={parts:[0,0,0,0]},Ge=[];Be=0;let Re=this.bytes,We=Re[Be++]|Re[Be++]<<8|Re[Be++]<<16|Re[Be++]<<24,ft=Re[Be++]|Re[Be++]<<8|Re[Be++]<<16|Re[Be++]<<24,ht=Re[Be++]|Re[Be++]<<8|Re[Be++]<<16|Re[Be++]<<24,tn=Re[Be++]|Re[Be++]<<8|Re[Be++]<<16|Re[Be++]<<24;Be=0,(new se(We,ft),new se(ht,tn)).lessThan(se.ZERO)&&Ge.push("-");let Tn=tn>>26&31;if(Tn>>3==3){if(Tn===30)return Ge.join("")+"Infinity";if(Tn===31)return"NaN";A=tn>>15&16383,ye=8+(tn>>14&1)}else ye=tn>>14&7,A=tn>>17&16383;let In=A-6176;if(lt.parts[0]=(16383&tn)+((15&ye)<<14),lt.parts[1]=ht,lt.parts[2]=ft,lt.parts[3]=We,lt.parts[0]===0&&lt.parts[1]===0&&lt.parts[2]===0&&lt.parts[3]===0)ve=!0;else for(Ue=3;Ue>=0;Ue--){let mn=0,tt=wt(lt);if(lt=tt.quotient,mn=tt.rem.low,mn)for(ge=8;ge>=0;ge--)W[9*Ue+ge]=mn%10,mn=Math.floor(mn/10)}if(ve)Y=1,W[Be]=0;else for(Y=36;!W[Be];)Y-=1,Be+=1;let qn=Y-1+In;if(qn>=34||qn<=-7||In>0){if(Y>34)return Ge.push("0"),In>0?Ge.push(`E+${In}`):In<0&&Ge.push(`E${In}`),Ge.join("");Ge.push(`${W[Be++]}`),Y-=1,Y&&Ge.push(".");for(let mn=0;mn<Y;mn++)Ge.push(`${W[Be++]}`);Ge.push("E"),qn>0?Ge.push(`+${qn}`):Ge.push(`${qn}`)}else if(In>=0)for(let mn=0;mn<Y;mn++)Ge.push(`${W[Be++]}`);else{let mn=Y+In;if(mn>0)for(let tt=0;tt<mn;tt++)Ge.push(`${W[Be++]}`);else Ge.push("0");for(Ge.push(".");mn++<0;)Ge.push("0");for(let tt=0;tt<Y-Math.max(mn-1,0);tt++)Ge.push(`${W[Be++]}`)}return Ge.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(A){return pt.fromString(A.$numberDecimal)}inspect(A,Y,W){return W??=l,`new Decimal128(${W(this.toString(),Y)})`}}class Tt extends T{get _bsontype(){return"Double"}constructor(A){super(),A instanceof Number&&(A=A.valueOf()),this.value=+A}static fromString(A){let Y=Number(A);if(A==="NaN")return new Tt(NaN);if(A==="Infinity")return new Tt(1/0);if(A==="-Infinity")return new Tt(-1/0);if(!Number.isFinite(Y))throw new w(`Input: ${A} is not representable as a Double`);if(A.trim()!==A)throw new w(`Input: '${A}' contains whitespace`);if(A==="")throw new w("Input is an empty string");if(/[^-0-9.+eE]/.test(A))throw new w(`Input: '${A}' is not in decimal or exponential notation`);return new Tt(Y)}valueOf(){return this.value}toJSON(){return this.value}toString(A){return this.value.toString(A)}toExtendedJSON(A){return A&&(A.legacy||A.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(A,Y){let W=parseFloat(A.$numberDouble);return Y&&Y.relaxed?W:new Tt(W)}inspect(A,Y,W){return W??=l,`new Double(${W(this.value,Y)})`}}class an extends T{get _bsontype(){return"Int32"}constructor(A){super(),A instanceof Number&&(A=A.valueOf()),this.value=0|+A}static fromString(A){let Y=ie(A),W=Number(A);if(d<W)throw new w(`Input: '${A}' is larger than the maximum value for Int32`);if(p>W)throw new w(`Input: '${A}' is smaller than the minimum value for Int32`);if(!Number.isSafeInteger(W))throw new w(`Input: '${A}' is not a safe integer`);if(W.toString()!==Y)throw new w(`Input: '${A}' is not a valid Int32 string`);return new an(W)}valueOf(){return this.value}toString(A){return this.value.toString(A)}toJSON(){return this.value}toExtendedJSON(A){return A&&(A.relaxed||A.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(A,Y){return Y&&Y.relaxed?parseInt(A.$numberInt,10):new an(A.$numberInt)}inspect(A,Y,W){return W??=l,`new Int32(${W(this.value,Y)})`}}class Rt extends T{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Rt}inspect(){return"new MaxKey()"}}class It extends T{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new It}inspect(){return"new MinKey()"}}let xe=null,Kt=new WeakMap;class yt extends T{get _bsontype(){return"ObjectId"}constructor(A){let Y;if(super(),typeof A=="object"&&A&&"id"in A){if(typeof A.id!="string"&&!ArrayBuffer.isView(A.id))throw new w("Argument passed in must have an id that is of type string or Buffer");Y="toHexString"in A&&typeof A.toHexString=="function"?I.fromHex(A.toHexString()):A.id}else Y=A;if(Y==null||typeof Y=="number")this.buffer=yt.generate(typeof Y=="number"?Y:void 0);else if(ArrayBuffer.isView(Y)&&Y.byteLength===12)this.buffer=I.toLocalBufferType(Y);else{if(typeof Y!="string")throw new w("Argument passed in does not match the accepted types");if(!yt.validateHexString(Y))throw new w("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");this.buffer=I.fromHex(Y),yt.cacheHexString&&Kt.set(this,Y)}}get id(){return this.buffer}set id(A){this.buffer=A,yt.cacheHexString&&Kt.set(this,I.toHex(A))}static validateHexString(A){if(A?.length!==24)return!1;for(let Y=0;Y<24;Y++){let W=A.charCodeAt(Y);if(!(W>=48&&W<=57||W>=97&&W<=102||W>=65&&W<=70))return!1}return!0}toHexString(){if(yt.cacheHexString){let Y=Kt.get(this);if(Y)return Y}let A=I.toHex(this.id);return yt.cacheHexString&&Kt.set(this,A),A}static getInc(){return yt.index=(yt.index+1)%16777215}static generate(A){typeof A!="number"&&(A=Math.floor(Date.now()/1e3));let Y=yt.getInc(),W=I.allocateUnsafe(12);return q.setInt32BE(W,0,A),xe===null&&(xe=I.randomBytes(5)),W[4]=xe[0],W[5]=xe[1],W[6]=xe[2],W[7]=xe[3],W[8]=xe[4],W[11]=255&Y,W[10]=Y>>8&255,W[9]=Y>>16&255,W}toString(A){return A==="base64"?I.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}static is(A){return A!=null&&typeof A=="object"&&"_bsontype"in A&&A._bsontype==="ObjectId"}equals(A){if(A==null)return!1;if(yt.is(A))return this.buffer[11]===A.buffer[11]&&I.equals(this.buffer,A.buffer);if(typeof A=="string")return A.toLowerCase()===this.toHexString();if(typeof A=="object"&&typeof A.toHexString=="function"){let Y=A.toHexString(),W=this.toHexString();return typeof Y=="string"&&Y.toLowerCase()===W}return!1}getTimestamp(){let A=new Date,Y=q.getUint32BE(this.buffer,0);return A.setTime(1e3*Math.floor(Y)),A}static createPk(){return new yt}serializeInto(A,Y){return A[Y]=this.buffer[0],A[Y+1]=this.buffer[1],A[Y+2]=this.buffer[2],A[Y+3]=this.buffer[3],A[Y+4]=this.buffer[4],A[Y+5]=this.buffer[5],A[Y+6]=this.buffer[6],A[Y+7]=this.buffer[7],A[Y+8]=this.buffer[8],A[Y+9]=this.buffer[9],A[Y+10]=this.buffer[10],A[Y+11]=this.buffer[11],12}static createFromTime(A){let Y=I.allocate(12);for(let W=11;W>=4;W--)Y[W]=0;return q.setInt32BE(Y,0,A),new yt(Y)}static createFromHexString(A){if(A?.length!==24)throw new w("hex string must be 24 characters");return new yt(I.fromHex(A))}static createFromBase64(A){if(A?.length!==16)throw new w("base64 string must be 16 characters");return new yt(I.fromBase64(A))}static isValid(A){if(A==null)return!1;if(typeof A=="string")return yt.validateHexString(A);try{return new yt(A),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(A){return new yt(A.$oid)}isCached(){return yt.cacheHexString&&Kt.has(this)}inspect(A,Y,W){return W??=l,`new ObjectId(${W(this.toHexString(),Y)})`}}function wn(F,A,Y){let W=5;if(Array.isArray(F))for(let ye=0;ye<F.length;ye++)W+=cn(ye.toString(),F[ye],A,!0,Y);else{typeof F?.toBSON=="function"&&(F=F.toBSON());for(let ye of Object.keys(F))W+=cn(ye,F[ye],A,!1,Y)}return W}function cn(F,A,Y=!1,W=!1,ye=!1){switch(typeof A?.toBSON=="function"&&(A=A.toBSON()),typeof A){case"string":return 1+I.utf8ByteLength(F)+1+4+I.utf8ByteLength(A)+1;case"number":return Math.floor(A)===A&&A>=_&&A<=v&&A>=p&&A<=d?(F!=null?I.utf8ByteLength(F)+1:0)+5:(F!=null?I.utf8ByteLength(F)+1:0)+9;case"undefined":return W||!ye?(F!=null?I.utf8ByteLength(F)+1:0)+1:0;case"boolean":return(F!=null?I.utf8ByteLength(F)+1:0)+2;case"object":if(A!=null&&typeof A._bsontype=="string"&&A[h]!==6)throw new D;if(A==null||A._bsontype==="MinKey"||A._bsontype==="MaxKey")return(F!=null?I.utf8ByteLength(F)+1:0)+1;if(A._bsontype==="ObjectId")return(F!=null?I.utf8ByteLength(F)+1:0)+13;if(A instanceof Date||u(A))return(F!=null?I.utf8ByteLength(F)+1:0)+9;if(ArrayBuffer.isView(A)||A instanceof ArrayBuffer||f(A))return(F!=null?I.utf8ByteLength(F)+1:0)+6+A.byteLength;if(A._bsontype==="Long"||A._bsontype==="Double"||A._bsontype==="Timestamp")return(F!=null?I.utf8ByteLength(F)+1:0)+9;if(A._bsontype==="Decimal128")return(F!=null?I.utf8ByteLength(F)+1:0)+17;if(A._bsontype==="Code")return A.scope!=null&&Object.keys(A.scope).length>0?(F!=null?I.utf8ByteLength(F)+1:0)+1+4+4+I.utf8ByteLength(A.code.toString())+1+wn(A.scope,Y,ye):(F!=null?I.utf8ByteLength(F)+1:0)+1+4+I.utf8ByteLength(A.code.toString())+1;if(A._bsontype==="Binary"){let ge=A;return ge.sub_type===X.SUBTYPE_BYTE_ARRAY?(F!=null?I.utf8ByteLength(F)+1:0)+(ge.position+1+4+1+4):(F!=null?I.utf8ByteLength(F)+1:0)+(ge.position+1+4+1)}if(A._bsontype==="Symbol")return(F!=null?I.utf8ByteLength(F)+1:0)+I.utf8ByteLength(A.value)+4+1+1;if(A._bsontype==="DBRef"){let ge=Object.assign({$ref:A.collection,$id:A.oid},A.fields);return A.db!=null&&(ge.$db=A.db),(F!=null?I.utf8ByteLength(F)+1:0)+1+wn(ge,Y,ye)}return A instanceof RegExp||y(A)?(F!=null?I.utf8ByteLength(F)+1:0)+1+I.utf8ByteLength(A.source)+1+(A.global?1:0)+(A.ignoreCase?1:0)+(A.multiline?1:0)+1:A._bsontype==="BSONRegExp"?(F!=null?I.utf8ByteLength(F)+1:0)+1+I.utf8ByteLength(A.pattern)+1+I.utf8ByteLength(A.options)+1:(F!=null?I.utf8ByteLength(F)+1:0)+wn(A,Y,ye)+1;case"function":if(Y)return(F!=null?I.utf8ByteLength(F)+1:0)+1+4+I.utf8ByteLength(A.toString())+1}return 0}yt.index=Math.floor(16777215*Math.random());class jt extends T{get _bsontype(){return"BSONRegExp"}constructor(A,Y){if(super(),this.pattern=A,this.options=(Y??"").split("").sort().join(""),this.pattern.indexOf("\0")!==-1)throw new w(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new w(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let W=0;W<this.options.length;W++)if(this.options[W]!=="i"&&this.options[W]!=="m"&&this.options[W]!=="x"&&this.options[W]!=="l"&&this.options[W]!=="s"&&this.options[W]!=="u")throw new w(`The regular expression option [${this.options[W]}] is not supported`)}static parseOptions(A){return A?A.split("").sort().join(""):""}toExtendedJSON(A){return(A=A||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(A){if("$regex"in A){if(typeof A.$regex=="string")return new jt(A.$regex,jt.parseOptions(A.$options));if(A.$regex._bsontype==="BSONRegExp")return A}if("$regularExpression"in A)return new jt(A.$regularExpression.pattern,jt.parseOptions(A.$regularExpression.options));throw new w(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(A)}`)}inspect(A,Y,W){let ye=function(ge){if(ge!=null&&typeof ge=="object"&&"stylize"in ge&&typeof ge.stylize=="function")return ge.stylize}(Y)??(ge=>ge);return W??=l,`new BSONRegExp(${ye(W(this.pattern),"regexp")}, ${ye(W(this.options),"regexp")})`}}class Qn extends T{get _bsontype(){return"BSONSymbol"}constructor(A){super(),this.value=A}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(A){return new Qn(A.$symbol)}inspect(A,Y,W){return W??=l,`new BSONSymbol(${W(this.value,Y)})`}}let zt=se;class Ut extends zt{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(A){if(A==null)super(0,0,!0);else if(typeof A=="bigint")super(A,!0);else if(se.isLong(A))super(A.low,A.high,!0);else{if(typeof A!="object"||!("t"in A)||!("i"in A))throw new w("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if(typeof A.t!="number"&&(typeof A.t!="object"||A.t._bsontype!=="Int32"))throw new w("Timestamp constructed from { t, i } must provide t as a number");if(typeof A.i!="number"&&(typeof A.i!="object"||A.i._bsontype!=="Int32"))throw new w("Timestamp constructed from { t, i } must provide i as a number");let Y=Number(A.t),W=Number(A.i);if(Y<0||Number.isNaN(Y))throw new w("Timestamp constructed from { t, i } must provide a positive t");if(W<0||Number.isNaN(W))throw new w("Timestamp constructed from { t, i } must provide a positive i");if(Y>4294967295)throw new w("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(W>4294967295)throw new w("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(W,Y,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(A){return new Ut(se.fromInt(A,!0))}static fromNumber(A){return new Ut(se.fromNumber(A,!0))}static fromBits(A,Y){return new Ut({i:A,t:Y})}static fromString(A,Y){return new Ut(se.fromString(A,!0,Y))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(A){let Y=se.isLong(A.$timestamp.i)?A.$timestamp.i.getLowBitsUnsigned():A.$timestamp.i,W=se.isLong(A.$timestamp.t)?A.$timestamp.t.getLowBitsUnsigned():A.$timestamp.t;return new Ut({t:W,i:Y})}inspect(A,Y,W){return W??=l,`new Timestamp({ t: ${W(this.t,Y)}, i: ${W(this.i,Y)} })`}}Ut.MAX_VALUE=se.MAX_UNSIGNED_VALUE;let Jr=se.fromNumber(v),pn=se.fromNumber(_);function Mn(F,A,Y){let W=(A=A??{})&&A.index?A.index:0,ye=q.getInt32LE(F,W);if(ye<5)throw new w(`bson size must be >= 5, is ${ye}`);if(A.allowObjectSmallerThanBufferSize&&F.length<ye)throw new w(`buffer length ${F.length} must be >= bson size ${ye}`);if(!A.allowObjectSmallerThanBufferSize&&F.length!==ye)throw new w(`buffer length ${F.length} must === bson size ${ye}`);if(ye+W>F.byteLength)throw new w(`(bson size ${ye} + options.index ${W} must be <= buffer length ${F.byteLength})`);if(F[W+ye-1]!==0)throw new w("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return oe(F,W,A,Y)}let K=/^\$ref$|^\$id$|^\$db$/;function oe(F,A,Y,W=!1){let ye=Y.fieldsAsRaw==null?null:Y.fieldsAsRaw,ge=Y.raw!=null&&Y.raw,Ue=typeof Y.bsonRegExp=="boolean"&&Y.bsonRegExp,Be=Y.promoteBuffers??!1,ve=Y.promoteLongs??!0,lt=Y.promoteValues??!0,Ge=Y.useBigInt64??!1;if(Ge&&!lt)throw new w("Must either request bigint or Long for int64 deserialization");if(Ge&&!ve)throw new w("Must either request bigint or Long for int64 deserialization");let Re,We,ft=!0,ht=(Y.validation==null?{utf8:!0}:Y.validation).utf8;if(typeof ht=="boolean")Re=ht;else{ft=!1;let tt=Object.keys(ht).map(function(At){return ht[At]});if(tt.length===0)throw new w("UTF-8 validation setting cannot be empty");if(typeof tt[0]!="boolean")throw new w("Invalid UTF-8 validation option, must specify boolean values");if(Re=tt[0],!tt.every(At=>At===Re))throw new w("Invalid UTF-8 validation option - keys must be all true or all false")}if(!ft){We=new Set;for(let tt of Object.keys(ht))We.add(tt)}let tn=A;if(F.length<5)throw new w("corrupt bson message < 5 bytes long");let Tn=q.getInt32LE(F,A);if(A+=4,Tn<5||Tn>F.length)throw new w("corrupt bson message");let In=W?[]:{},qn=0,mn=!W&&null;for(;;){let tt=F[A++];if(tt===0)break;let At=A;for(;F[At]!==0&&At<F.length;)At++;if(At>=F.byteLength)throw new w("Bad BSON Document: illegal CString");let Sr=W?qn++:I.toUTF8(F,A,At,!1),on,nr=!0;if(nr=ft||We?.has(Sr)?Re:!Re,mn!==!1&&Sr[0]==="$"&&(mn=K.test(Sr)),A=At+1,tt===2){let nt=q.getInt32LE(F,A);if(A+=4,nt<=0||nt>F.length-A||F[A+nt-1]!==0)throw new w("bad string length in bson");on=I.toUTF8(F,A,A+nt-1,nr),A+=nt}else if(tt===7){let nt=I.allocateUnsafe(12);for(let Ke=0;Ke<12;Ke++)nt[Ke]=F[A+Ke];on=new yt(nt),A+=12}else if(tt===16&&lt===!1)on=new an(q.getInt32LE(F,A)),A+=4;else if(tt===16)on=q.getInt32LE(F,A),A+=4;else if(tt===1)on=q.getFloat64LE(F,A),A+=8,lt===!1&&(on=new Tt(on));else if(tt===9){let nt=q.getInt32LE(F,A),Ke=q.getInt32LE(F,A+4);A+=8,on=new Date(new se(nt,Ke).toNumber())}else if(tt===8){if(F[A]!==0&&F[A]!==1)throw new w("illegal boolean type value");on=F[A++]===1}else if(tt===3){let nt=A,Ke=q.getInt32LE(F,A);if(Ke<=0||Ke>F.length-A)throw new w("bad embedded document length in bson");if(ge)on=F.subarray(A,A+Ke);else{let ut=Y;ft||(ut=Mt(ke({},Y),{validation:{utf8:nr}})),on=oe(F,nt,ut,!1)}A+=Ke}else if(tt===4){let nt=A,Ke=q.getInt32LE(F,A),ut=Y,vn=A+Ke;if(ye&&ye[Sr]&&(ut=Mt(ke({},Y),{raw:!0})),ft||(ut=Mt(ke({},ut),{validation:{utf8:nr}})),on=oe(F,nt,ut,!0),F[(A+=Ke)-1]!==0)throw new w("invalid array terminator byte");if(A!==vn)throw new w("corrupted array bson")}else if(tt===6)on=void 0;else if(tt===10)on=null;else if(tt===18)if(Ge)on=q.getBigInt64LE(F,A),A+=8;else{let nt=q.getInt32LE(F,A),Ke=q.getInt32LE(F,A+4);A+=8;let ut=new se(nt,Ke);on=ve&&lt===!0&&ut.lessThanOrEqual(Jr)&&ut.greaterThanOrEqual(pn)?ut.toNumber():ut}else if(tt===19){let nt=I.allocateUnsafe(16);for(let Ke=0;Ke<16;Ke++)nt[Ke]=F[A+Ke];A+=16,on=new pt(nt)}else if(tt===5){let nt=q.getInt32LE(F,A);A+=4;let Ke=nt,ut=F[A++];if(nt<0)throw new w("Negative binary type element size found");if(nt>F.byteLength)throw new w("Binary type size larger than document size");if(ut===X.SUBTYPE_BYTE_ARRAY){if(nt=q.getInt32LE(F,A),A+=4,nt<0)throw new w("Negative binary type element size found for subtype 0x02");if(nt>Ke-4)throw new w("Binary type with subtype 0x02 contains too long binary size");if(nt<Ke-4)throw new w("Binary type with subtype 0x02 contains too short binary size")}Be&&lt?on=I.toLocalBufferType(F.subarray(A,A+nt)):(on=new X(F.subarray(A,A+nt),ut),ut===4&&ee.isValid(on)&&(on=on.toUUID())),A+=nt}else if(tt===11&&Ue===!1){for(At=A;F[At]!==0&&At<F.length;)At++;if(At>=F.length)throw new w("Bad BSON Document: illegal CString");let nt=I.toUTF8(F,A,At,!1);for(At=A=At+1;F[At]!==0&&At<F.length;)At++;if(At>=F.length)throw new w("Bad BSON Document: illegal CString");let Ke=I.toUTF8(F,A,At,!1);A=At+1;let ut=new Array(Ke.length);for(At=0;At<Ke.length;At++)switch(Ke[At]){case"m":ut[At]="m";break;case"s":ut[At]="g";break;case"i":ut[At]="i"}on=new RegExp(nt,ut.join(""))}else if(tt===11&&Ue===!0){for(At=A;F[At]!==0&&At<F.length;)At++;if(At>=F.length)throw new w("Bad BSON Document: illegal CString");let nt=I.toUTF8(F,A,At,!1);for(At=A=At+1;F[At]!==0&&At<F.length;)At++;if(At>=F.length)throw new w("Bad BSON Document: illegal CString");let Ke=I.toUTF8(F,A,At,!1);A=At+1,on=new jt(nt,Ke)}else if(tt===14){let nt=q.getInt32LE(F,A);if(A+=4,nt<=0||nt>F.length-A||F[A+nt-1]!==0)throw new w("bad string length in bson");let Ke=I.toUTF8(F,A,A+nt-1,nr);on=lt?Ke:new Qn(Ke),A+=nt}else if(tt===17)on=new Ut({i:q.getUint32LE(F,A),t:q.getUint32LE(F,A+4)}),A+=8;else if(tt===255)on=new It;else if(tt===127)on=new Rt;else if(tt===13){let nt=q.getInt32LE(F,A);if(A+=4,nt<=0||nt>F.length-A||F[A+nt-1]!==0)throw new w("bad string length in bson");let Ke=I.toUTF8(F,A,A+nt-1,nr);on=new R(Ke),A+=nt}else if(tt===15){let nt=q.getInt32LE(F,A);if(A+=4,nt<13)throw new w("code_w_scope total size shorter minimum expected length");let Ke=q.getInt32LE(F,A);if(A+=4,Ke<=0||Ke>F.length-A||F[A+Ke-1]!==0)throw new w("bad string length in bson");let ut=I.toUTF8(F,A,A+Ke-1,nr),vn=A+=Ke,fn=q.getInt32LE(F,A),dn=oe(F,vn,Y,!1);if(A+=fn,nt<8+fn+Ke)throw new w("code_w_scope total size is too short, truncating scope");if(nt>8+fn+Ke)throw new w("code_w_scope total size is too long, clips outer document");on=new R(ut,dn)}else{if(tt!==12)throw new w(`Detected unknown BSON type ${tt.toString(16)} for fieldname "${Sr}"`);{let nt=q.getInt32LE(F,A);if(A+=4,nt<=0||nt>F.length-A||F[A+nt-1]!==0)throw new w("bad string length in bson");let Ke=I.toUTF8(F,A,A+nt-1,nr);A+=nt;let ut=I.allocateUnsafe(12);for(let fn=0;fn<12;fn++)ut[fn]=F[A+fn];let vn=new yt(ut);A+=12,on=new G(Ke,vn)}}Sr==="__proto__"?Object.defineProperty(In,Sr,{value:on,writable:!0,enumerable:!0,configurable:!0}):In[Sr]=on}if(Tn!==A-tn)throw W?new w("corrupt array bson"):new w("corrupt object bson");if(!mn)return In;if($(In)){let tt=Object.assign({},In);return delete tt.$ref,delete tt.$id,delete tt.$db,new G(In.$ref,In.$id,In.$db,tt)}return In}let ce=/\x00/,he=new Set(["$db","$ref","$id","$clusterTime"]);function pe(F,A,Y,W){F[W++]=2,F[(W=W+I.encodeUTF8Into(F,A,W)+1)-1]=0;let ye=I.encodeUTF8Into(F,Y,W+4);return q.setInt32LE(F,W,ye+1),W=W+4+ye,F[W++]=0,W}function me(F,A,Y,W){let ye=!Object.is(Y,-0)&&Number.isSafeInteger(Y)&&Y<=d&&Y>=p?16:1;return F[W++]=ye,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W+(ye===16?q.setInt32LE(F,W,Y):q.setFloat64LE(F,W,Y))}function Ee(F,A,Y,W){return F[W++]=18,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W+q.setBigInt64LE(F,W,Y)}function be(F,A,Y,W){return F[W++]=10,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W}function Pe(F,A,Y,W){return F[W++]=8,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,F[W++]=Y?1:0,W}function De(F,A,Y,W){F[W++]=9,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let ye=se.fromNumber(Y.getTime()),ge=ye.getLowBits(),Ue=ye.getHighBits();return(W+=q.setInt32LE(F,W,ge))+q.setInt32LE(F,W,Ue)}function Ae(F,A,Y,W){if(F[W++]=11,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,Y.source&&Y.source.match(ce)!=null)throw new w("value "+Y.source+" must not contain null bytes");return W+=I.encodeUTF8Into(F,Y.source,W),F[W++]=0,Y.ignoreCase&&(F[W++]=105),Y.global&&(F[W++]=115),Y.multiline&&(F[W++]=109),F[W++]=0,W}function Oe(F,A,Y,W){if(F[W++]=11,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,Y.pattern.match(ce)!=null)throw new w("pattern "+Y.pattern+" must not contain null bytes");W+=I.encodeUTF8Into(F,Y.pattern,W),F[W++]=0;let ye=Y.options.split("").sort().join("");return W+=I.encodeUTF8Into(F,ye,W),F[W++]=0,W}function He(F,A,Y,W){return Y===null?F[W++]=10:Y._bsontype==="MinKey"?F[W++]=255:F[W++]=127,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W}function $e(F,A,Y,W){return F[W++]=7,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W+Y.serializeInto(F,W)}function ze(F,A,Y,W){F[W++]=5,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let ye=Y.length;if(W+=q.setInt32LE(F,W,ye),F[W++]=0,ye<=16)for(let ge=0;ge<ye;ge++)F[W+ge]=Y[ge];else F.set(Y,W);return W+ye}function et(F,A,Y,W,ye,ge,Ue,Be,ve){if(ve.has(Y))throw new w("Cannot convert circular structure to BSON");ve.add(Y),F[W++]=Array.isArray(Y)?4:3,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let lt=Dn(F,Y,ye,W,ge+1,Ue,Be,ve);return ve.delete(Y),lt}function st(F,A,Y,W){F[W++]=19,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;for(let ye=0;ye<16;ye++)F[W+ye]=Y.bytes[ye];return W+16}function gt(F,A,Y,W){F[W++]=Y._bsontype==="Long"?18:17,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let ye=Y.getLowBits(),ge=Y.getHighBits();return(W+=q.setInt32LE(F,W,ye))+q.setInt32LE(F,W,ge)}function _t(F,A,Y,W){return Y=Y.valueOf(),F[W++]=16,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W+q.setInt32LE(F,W,Y)}function dt(F,A,Y,W){return F[W++]=1,W+=I.encodeUTF8Into(F,A,W),F[W++]=0,W+q.setFloat64LE(F,W,Y.value)}function Lt(F,A,Y,W){F[W++]=13,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let ye=Y.toString(),ge=I.encodeUTF8Into(F,ye,W+4)+1;return q.setInt32LE(F,W,ge),W=W+4+ge-1,F[W++]=0,W}function qt(F,A,Y,W,ye=!1,ge=0,Ue=!1,Be=!0,ve){if(Y.scope&&typeof Y.scope=="object"){F[W++]=15,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let lt=W,Ge=Y.code;W+=4;let Re=I.encodeUTF8Into(F,Ge,W+4)+1;q.setInt32LE(F,W,Re),F[W+4+Re-1]=0,W=W+Re+4;let We=Dn(F,Y.scope,ye,W,ge+1,Ue,Be,ve);W=We-1;let ft=We-lt;lt+=q.setInt32LE(F,lt,ft),F[W++]=0}else{F[W++]=13,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let lt=Y.code.toString(),Ge=I.encodeUTF8Into(F,lt,W+4)+1;q.setInt32LE(F,W,Ge),W=W+4+Ge-1,F[W++]=0}return W}function Nn(F,A,Y,W){F[W++]=5,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let ye=Y.buffer,ge=Y.position;if(Y.sub_type===X.SUBTYPE_BYTE_ARRAY&&(ge+=4),W+=q.setInt32LE(F,W,ge),F[W++]=Y.sub_type,Y.sub_type===X.SUBTYPE_BYTE_ARRAY&&(ge-=4,W+=q.setInt32LE(F,W,ge)),Y.sub_type===X.SUBTYPE_VECTOR&&z(Y),ge<=16)for(let Ue=0;Ue<ge;Ue++)F[W+Ue]=ye[Ue];else F.set(ye,W);return W+Y.position}function un(F,A,Y,W){F[W++]=14,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let ye=I.encodeUTF8Into(F,Y.value,W+4)+1;return q.setInt32LE(F,W,ye),W=W+4+ye-1,F[W++]=0,W}function Rn(F,A,Y,W,ye,ge,Ue){F[W++]=3,W+=I.encodeUTF8Into(F,A,W),F[W++]=0;let Be=W,ve={$ref:Y.collection||Y.namespace,$id:Y.oid};Y.db!=null&&(ve.$db=Y.db),ve=Object.assign(ve,Y.fields);let lt=Dn(F,ve,!1,W,ye+1,ge,!0,Ue),Ge=lt-Be;return Be+=q.setInt32LE(F,W,Ge),lt}function Dn(F,A,Y,W,ye,ge,Ue,Be){if(Be==null){if(A==null)return F[0]=5,F[1]=0,F[2]=0,F[3]=0,F[4]=0,5;if(Array.isArray(A))throw new w("serialize does not support an array as the root input");if(typeof A!="object")throw new w("serialize does not support non-object as the root input");if("_bsontype"in A&&typeof A._bsontype=="string")throw new w("BSON types cannot be serialized as a document");if(u(A)||y(A)||c(A)||f(A))throw new w("date, regexp, typedarray, and arraybuffer cannot be BSON documents");Be=new Set}Be.add(A);let ve=W+4;if(Array.isArray(A))for(let Ge=0;Ge<A.length;Ge++){let Re=`${Ge}`,We=A[Ge];typeof We?.toBSON=="function"&&(We=We.toBSON());let ft=typeof We;if(We===void 0)ve=be(F,Re,0,ve);else if(We===null)ve=be(F,Re,0,ve);else if(ft==="string")ve=pe(F,Re,We,ve);else if(ft==="number")ve=me(F,Re,We,ve);else if(ft==="bigint")ve=Ee(F,Re,We,ve);else if(ft==="boolean")ve=Pe(F,Re,We,ve);else if(ft==="object"&&We._bsontype==null)ve=We instanceof Date||u(We)?De(F,Re,We,ve):We instanceof Uint8Array||c(We)?ze(F,Re,We,ve):We instanceof RegExp||y(We)?Ae(F,Re,We,ve):et(F,Re,We,ve,Y,ye,ge,Ue,Be);else if(ft==="object"){if(We[h]!==6)throw new D;if(We._bsontype==="ObjectId")ve=$e(F,Re,We,ve);else if(We._bsontype==="Decimal128")ve=st(F,Re,We,ve);else if(We._bsontype==="Long"||We._bsontype==="Timestamp")ve=gt(F,Re,We,ve);else if(We._bsontype==="Double")ve=dt(F,Re,We,ve);else if(We._bsontype==="Code")ve=qt(F,Re,We,ve,Y,ye,ge,Ue,Be);else if(We._bsontype==="Binary")ve=Nn(F,Re,We,ve);else if(We._bsontype==="BSONSymbol")ve=un(F,Re,We,ve);else if(We._bsontype==="DBRef")ve=Rn(F,Re,We,ve,ye,ge,Be);else if(We._bsontype==="BSONRegExp")ve=Oe(F,Re,We,ve);else if(We._bsontype==="Int32")ve=_t(F,Re,We,ve);else if(We._bsontype==="MinKey"||We._bsontype==="MaxKey")ve=He(F,Re,We,ve);else if(We._bsontype!==void 0)throw new w(`Unrecognized or invalid _bsontype: ${String(We._bsontype)}`)}else ft==="function"&&ge&&(ve=Lt(F,Re,We,ve))}else if(A instanceof Map||m(A)){let Ge=A.entries(),Re=!1;for(;!Re;){let We=Ge.next();if(Re=!!We.done,Re)continue;let ft=We.value[0],ht=We.value[1];typeof ht?.toBSON=="function"&&(ht=ht.toBSON());let tn=typeof ht;if(typeof ft=="string"&&!he.has(ft)){if(ft.match(ce)!=null)throw new w("key "+ft+" must not contain null bytes");if(Y){if(ft[0]==="$")throw new w("key "+ft+" must not start with '$'");if(ft.includes("."))throw new w("key "+ft+" must not contain '.'")}}if(ht===void 0)Ue===!1&&(ve=be(F,ft,0,ve));else if(ht===null)ve=be(F,ft,0,ve);else if(tn==="string")ve=pe(F,ft,ht,ve);else if(tn==="number")ve=me(F,ft,ht,ve);else if(tn==="bigint")ve=Ee(F,ft,ht,ve);else if(tn==="boolean")ve=Pe(F,ft,ht,ve);else if(tn==="object"&&ht._bsontype==null)ve=ht instanceof Date||u(ht)?De(F,ft,ht,ve):ht instanceof Uint8Array||c(ht)?ze(F,ft,ht,ve):ht instanceof RegExp||y(ht)?Ae(F,ft,ht,ve):et(F,ft,ht,ve,Y,ye,ge,Ue,Be);else if(tn==="object"){if(ht[h]!==6)throw new D;if(ht._bsontype==="ObjectId")ve=$e(F,ft,ht,ve);else if(ht._bsontype==="Decimal128")ve=st(F,ft,ht,ve);else if(ht._bsontype==="Long"||ht._bsontype==="Timestamp")ve=gt(F,ft,ht,ve);else if(ht._bsontype==="Double")ve=dt(F,ft,ht,ve);else if(ht._bsontype==="Code")ve=qt(F,ft,ht,ve,Y,ye,ge,Ue,Be);else if(ht._bsontype==="Binary")ve=Nn(F,ft,ht,ve);else if(ht._bsontype==="BSONSymbol")ve=un(F,ft,ht,ve);else if(ht._bsontype==="DBRef")ve=Rn(F,ft,ht,ve,ye,ge,Be);else if(ht._bsontype==="BSONRegExp")ve=Oe(F,ft,ht,ve);else if(ht._bsontype==="Int32")ve=_t(F,ft,ht,ve);else if(ht._bsontype==="MinKey"||ht._bsontype==="MaxKey")ve=He(F,ft,ht,ve);else if(ht._bsontype!==void 0)throw new w(`Unrecognized or invalid _bsontype: ${String(ht._bsontype)}`)}else tn==="function"&&ge&&(ve=Lt(F,ft,ht,ve))}}else{if(typeof A?.toBSON=="function"&&(A=A.toBSON())!=null&&typeof A!="object")throw new w("toBSON function did not return an object");for(let Ge of Object.keys(A)){let Re=A[Ge];typeof Re?.toBSON=="function"&&(Re=Re.toBSON());let We=typeof Re;if(typeof Ge=="string"&&!he.has(Ge)){if(Ge.match(ce)!=null)throw new w("key "+Ge+" must not contain null bytes");if(Y){if(Ge[0]==="$")throw new w("key "+Ge+" must not start with '$'");if(Ge.includes("."))throw new w("key "+Ge+" must not contain '.'")}}if(Re===void 0)Ue===!1&&(ve=be(F,Ge,0,ve));else if(Re===null)ve=be(F,Ge,0,ve);else if(We==="string")ve=pe(F,Ge,Re,ve);else if(We==="number")ve=me(F,Ge,Re,ve);else if(We==="bigint")ve=Ee(F,Ge,Re,ve);else if(We==="boolean")ve=Pe(F,Ge,Re,ve);else if(We==="object"&&Re._bsontype==null)ve=Re instanceof Date||u(Re)?De(F,Ge,Re,ve):Re instanceof Uint8Array||c(Re)?ze(F,Ge,Re,ve):Re instanceof RegExp||y(Re)?Ae(F,Ge,Re,ve):et(F,Ge,Re,ve,Y,ye,ge,Ue,Be);else if(We==="object"){if(Re[h]!==6)throw new D;if(Re._bsontype==="ObjectId")ve=$e(F,Ge,Re,ve);else if(Re._bsontype==="Decimal128")ve=st(F,Ge,Re,ve);else if(Re._bsontype==="Long"||Re._bsontype==="Timestamp")ve=gt(F,Ge,Re,ve);else if(Re._bsontype==="Double")ve=dt(F,Ge,Re,ve);else if(Re._bsontype==="Code")ve=qt(F,Ge,Re,ve,Y,ye,ge,Ue,Be);else if(Re._bsontype==="Binary")ve=Nn(F,Ge,Re,ve);else if(Re._bsontype==="BSONSymbol")ve=un(F,Ge,Re,ve);else if(Re._bsontype==="DBRef")ve=Rn(F,Ge,Re,ve,ye,ge,Be);else if(Re._bsontype==="BSONRegExp")ve=Oe(F,Ge,Re,ve);else if(Re._bsontype==="Int32")ve=_t(F,Ge,Re,ve);else if(Re._bsontype==="MinKey"||Re._bsontype==="MaxKey")ve=He(F,Ge,Re,ve);else if(Re._bsontype!==void 0)throw new w(`Unrecognized or invalid _bsontype: ${String(Re._bsontype)}`)}else We==="function"&&ge&&(ve=Lt(F,Ge,Re,ve))}}Be.delete(A),F[ve++]=0;let lt=ve-W;return W+=q.setInt32LE(F,W,lt),ve}let Wt={$oid:yt,$binary:X,$uuid:X,$symbol:Qn,$numberInt:an,$numberDecimal:pt,$numberDouble:Tt,$numberLong:se,$minKey:It,$maxKey:Rt,$regex:jt,$regularExpression:jt,$timestamp:Ut};function Ct(F,A={}){if(typeof F=="number"){let W=F<=d&&F>=p,ye=F<=g&&F>=b;if(A.relaxed||A.legacy)return F;if(Number.isInteger(F)&&!Object.is(F,-0)){if(W)return new an(F);if(ye)return A.useBigInt64?BigInt(F):se.fromNumber(F)}return new Tt(F)}if(F==null||typeof F!="object")return F;if(F.$undefined)return null;let Y=Object.keys(F).filter(W=>W.startsWith("$")&&F[W]!=null);for(let W=0;W<Y.length;W++){let ye=Wt[Y[W]];if(ye)return ye.fromExtendedJSON(F,A)}if(F.$date!=null){let W=F.$date,ye=new Date;if(A.legacy)if(typeof W=="number")ye.setTime(W);else if(typeof W=="string")ye.setTime(Date.parse(W));else{if(typeof W!="bigint")throw new x("Unrecognized type for EJSON date: "+typeof W);ye.setTime(Number(W))}else if(typeof W=="string")ye.setTime(Date.parse(W));else if(se.isLong(W))ye.setTime(W.toNumber());else if(typeof W=="number"&&A.relaxed)ye.setTime(W);else{if(typeof W!="bigint")throw new x("Unrecognized type for EJSON date: "+typeof W);ye.setTime(Number(W))}return ye}if(F.$code!=null){let W=Object.assign({},F);return F.$scope&&(W.$scope=Ct(F.$scope)),R.fromExtendedJSON(F)}if($(F)||F.$dbPointer){let W=F.$ref?F:F.$dbPointer;if(W instanceof G)return W;let ye=Object.keys(W).filter(Ue=>Ue.startsWith("$")),ge=!0;if(ye.forEach(Ue=>{["$ref","$id","$db"].indexOf(Ue)===-1&&(ge=!1)}),ge)return G.fromExtendedJSON(W)}return F}function An(F){let A=F.toISOString();return F.getUTCMilliseconds()!==0?A:A.slice(0,-5)+"Z"}function qe(F,A){if(F instanceof Map||m(F)){let Y=Object.create(null);for(let[W,ye]of F){if(typeof W!="string")throw new w("Can only serialize maps with string keys");Y[W]=ye}return qe(Y,A)}if((typeof F=="object"||typeof F=="function")&&F!==null){let Y=A.seenObjects.findIndex(W=>W.obj===F);if(Y!==-1){let W=A.seenObjects.map(Ge=>Ge.propertyName),ye=W.slice(0,Y).map(Ge=>`${Ge} -> `).join(""),ge=W[Y],Ue=" -> "+W.slice(Y+1,W.length-1).map(Ge=>`${Ge} -> `).join(""),Be=W[W.length-1],ve=" ".repeat(ye.length+ge.length/2),lt="-".repeat(Ue.length+(ge.length+Be.length)/2-1);throw new w(`Converting circular structure to EJSON:
    ${ye}${ge}${Ue}${Be}
    ${ve}\\${lt}/`)}A.seenObjects[A.seenObjects.length-1].obj=F}if(Array.isArray(F))return function(Y,W){return Y.map((ye,ge)=>{W.seenObjects.push({propertyName:`index ${ge}`,obj:null});try{return qe(ye,W)}finally{W.seenObjects.pop()}})}(F,A);if(F===void 0)return null;if(F instanceof Date||u(F)){let Y=F.getTime(),W=Y>-1&&Y<2534023188e5;return A.legacy?A.relaxed&&W?{$date:F.getTime()}:{$date:An(F)}:A.relaxed&&W?{$date:An(F)}:{$date:{$numberLong:F.getTime().toString()}}}if(!(typeof F!="number"||A.relaxed&&isFinite(F))){if(Number.isInteger(F)&&!Object.is(F,-0)){if(F>=p&&F<=d)return{$numberInt:F.toString()};if(F>=b&&F<=g)return{$numberLong:F.toString()}}return{$numberDouble:Object.is(F,-0)?"-0.0":F.toString()}}if(typeof F=="bigint")return A.relaxed?Number(BigInt.asIntN(64,F)):{$numberLong:BigInt.asIntN(64,F).toString()};if(F instanceof RegExp||y(F)){let Y=F.flags;if(Y===void 0){let W=F.toString().match(/[gimuy]*$/);W&&(Y=W[0])}return new jt(F.source,Y).toExtendedJSON(A)}return F!=null&&typeof F=="object"?function(Y,W){if(Y==null||typeof Y!="object")throw new w("not an object instance");let ye=Y._bsontype;if(ye===void 0){let ge={};for(let Ue of Object.keys(Y)){W.seenObjects.push({propertyName:Ue,obj:null});try{let Be=qe(Y[Ue],W);Ue==="__proto__"?Object.defineProperty(ge,Ue,{value:Be,writable:!0,enumerable:!0,configurable:!0}):ge[Ue]=Be}finally{W.seenObjects.pop()}}return ge}if(Y!=null&&typeof Y=="object"&&typeof Y._bsontype=="string"&&Y[h]!==6)throw new D;if(function(ge){return ge!=null&&typeof ge=="object"&&"_bsontype"in ge&&typeof ge._bsontype=="string"}(Y)){let ge=Y;if(typeof ge.toExtendedJSON!="function"){let Ue=xt[Y._bsontype];if(!Ue)throw new w("Unrecognized or invalid _bsontype: "+Y._bsontype);ge=Ue(ge)}return ye==="Code"&&ge.scope?ge=new R(ge.code,qe(ge.scope,W)):ye==="DBRef"&&ge.oid&&(ge=new G(qe(ge.collection,W),qe(ge.oid,W),qe(ge.db,W),qe(ge.fields,W))),ge.toExtendedJSON(W)}throw new w("_bsontype must be a string, but was: "+typeof ye)}(F,A):F}let xt={Binary:F=>new X(F.value(),F.sub_type),Code:F=>new R(F.code,F.scope),DBRef:F=>new G(F.collection||F.namespace,F.oid,F.db,F.fields),Decimal128:F=>new pt(F.bytes),Double:F=>new Tt(F.value),Int32:F=>new an(F.value),Long:F=>se.fromBits(F.low!=null?F.low:F.low_,F.low!=null?F.high:F.high_,F.low!=null?F.unsigned:F.unsigned_),MaxKey:()=>new Rt,MinKey:()=>new It,ObjectId:F=>new yt(F),BSONRegExp:F=>new jt(F.pattern,F.options),BSONSymbol:F=>new Qn(F.value),Timestamp:F=>Ut.fromBits(F.low,F.high)};function Sn(F,A){let Y={useBigInt64:A?.useBigInt64??!1,relaxed:A?.relaxed??!0,legacy:A?.legacy??!1};return JSON.parse(F,(W,ye)=>{if(W.indexOf("\0")!==-1)throw new w(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(W)}`);return Ct(ye,Y)})}function Fe(F,A,Y,W){Y!=null&&typeof Y=="object"&&(W=Y,Y=0),A==null||typeof A!="object"||Array.isArray(A)||(W=A,A=void 0,Y=0);let ye=qe(F,Object.assign({relaxed:!0,legacy:!1},W,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(ye,A,Y)}let je=Object.create(null);function Ze(F,A){try{return q.getNonnegativeInt32LE(F,A)}catch(Y){throw new M("BSON size cannot be negative",A,{cause:Y})}}function vt(F,A){let Y=A;for(;F[Y]!==0;Y++);if(Y===F.length-1)throw new M("Null terminator not found",A);return Y}je.parse=Sn,je.stringify=Fe,je.serialize=function(F,A){return A=A||{},JSON.parse(Fe(F,A))},je.deserialize=function(F,A){return A=A||{},Sn(JSON.stringify(F),A)},Object.freeze(je);let ct=Object.create(null);ct.parseToElements=function(F,A=0){if(A??=0,F.length<5)throw new M(`Input must be at least 5 bytes, got ${F.length} bytes`,A);let Y=Ze(F,A);if(Y>F.length-A)throw new M(`Parsed documentSize (${Y} bytes) does not match input length (${F.length} bytes)`,A);if(F[A+Y-1]!==0)throw new M("BSON documents must end in 0x00",A+Y);let W=[],ye=A+4;for(;ye<=Y+A;){let ge=F[ye];if(ye+=1,ge===0){if(ye-A!==Y)throw new M("Invalid 0x00 type byte",ye);break}let Ue=ye,Be=vt(F,ye)-Ue,ve;if(ye+=Be+1,ge===1||ge===18||ge===9||ge===17)ve=8;else if(ge===16)ve=4;else if(ge===7)ve=12;else if(ge===19)ve=16;else if(ge===8)ve=1;else if(ge===10||ge===6||ge===127||ge===255)ve=0;else if(ge===11)ve=vt(F,vt(F,ye)+1)+1-ye;else if(ge===3||ge===4||ge===15)ve=Ze(F,ye);else{if(ge!==2&&ge!==5&&ge!==12&&ge!==13&&ge!==14)throw new M(`Invalid 0x${ge.toString(16).padStart(2,"0")} type byte`,ye);ve=Ze(F,ye)+4,ge===5&&(ve+=1),ge===12&&(ve+=12)}if(ve>Y)throw new M("value reports length larger than document",ye);W.push([ge,Ue,Be,ye,ve]),ye+=ve}return W},ct.ByteUtils=I,ct.NumberUtils=q,Object.freeze(ct);let Xe=17825792,Ot=I.allocate(Xe);function Vt(F){Ot.length<F&&(Ot=I.allocate(F))}function ln(F,A={}){let Y=typeof A.checkKeys=="boolean"&&A.checkKeys,W=typeof A.serializeFunctions=="boolean"&&A.serializeFunctions,ye=typeof A.ignoreUndefined!="boolean"||A.ignoreUndefined,ge=typeof A.minInternalBufferSize=="number"?A.minInternalBufferSize:Xe;Ot.length<ge&&(Ot=I.allocate(ge));let Ue=Dn(Ot,F,Y,0,0,W,ye,null),Be=I.allocateUnsafe(Ue);return Be.set(Ot.subarray(0,Ue),0),Be}function Vn(F,A,Y={}){let W=typeof Y.checkKeys=="boolean"&&Y.checkKeys,ye=typeof Y.serializeFunctions=="boolean"&&Y.serializeFunctions,ge=typeof Y.ignoreUndefined!="boolean"||Y.ignoreUndefined,Ue=typeof Y.index=="number"?Y.index:0,Be=Dn(Ot,F,W,0,0,ye,ge,null);return A.set(Ot.subarray(0,Be),Ue),Ue+Be-1}function En(F,A={}){return Mn(I.toLocalBufferType(F),A)}function Un(F,A={}){return wn(F,typeof(A=A||{}).serializeFunctions=="boolean"&&A.serializeFunctions,typeof A.ignoreUndefined!="boolean"||A.ignoreUndefined)}function Oi(F,A,Y,W,ye,ge){let Ue=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},ge),Be=I.toLocalBufferType(F),ve=A;for(let lt=0;lt<Y;lt++){let Ge=q.getInt32LE(Be,ve);Ue.index=ve,W[ye+lt]=Mn(Be,Ue),ve+=Ge}return ve}var di=Object.freeze({__proto__:null,BSONError:w,BSONOffsetError:M,BSONRegExp:jt,BSONRuntimeError:x,BSONSymbol:Qn,BSONType:S,BSONValue:T,BSONVersionError:D,Binary:X,Code:R,DBRef:G,Decimal128:pt,Double:Tt,EJSON:je,Int32:an,Long:se,MaxKey:Rt,MinKey:It,ObjectId:yt,Timestamp:Ut,UUID:ee,calculateObjectSize:Un,deserialize:En,deserializeStream:Oi,onDemand:ct,serialize:ln,serializeWithBufferAndIndex:Vn,setInternalBufferSize:Vt});i.BSON=di,i.BSONError=w,i.BSONOffsetError=M,i.BSONRegExp=jt,i.BSONRuntimeError=x,i.BSONSymbol=Qn,i.BSONType=S,i.BSONValue=T,i.BSONVersionError=D,i.Binary=X,i.Code=R,i.DBRef=G,i.Decimal128=pt,i.Double=Tt,i.EJSON=je,i.Int32=an,i.Long=se,i.MaxKey=Rt,i.MinKey=It,i.ObjectId=yt,i.Timestamp=Ut,i.UUID=ee,i.calculateObjectSize=Un,i.deserialize=En,i.deserializeStream=Oi,i.onDemand=ct,i.serialize=ln,i.serializeWithBufferAndIndex=Vn,i.setInternalBufferSize=Vt},3219:r=>{"use strict";r.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},2951:r=>{"use strict";r.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},4589:r=>{"use strict";r.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},3241:r=>{"use strict";r.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:r=>{"use strict";r.exports={rE:"6.6.1"}},5579:r=>{"use strict";r.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.nmd=r=>(r.paths=[],r.children||(r.children=[]),r),n(4986)})())});function Lm(t,e){return Object.is(t,e)}var sr=null,vf=!1,$m=1,Zr=Symbol("SIGNAL");function sn(t){let e=sr;return sr=t,e}function u_(){return sr}var yu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _f(t){if(vf)throw new Error("");if(sr===null)return;sr.consumerOnSignalRead(t);let e=sr.nextProducerIndex++;if(Ef(sr),e<sr.producerNode.length&&sr.producerNode[e]!==t&&mu(sr)){let n=sr.producerNode[e];Sf(n,sr.producerIndexOfThis[e])}sr.producerNode[e]!==t&&(sr.producerNode[e]=t,sr.producerIndexOfThis[e]=mu(sr)?d_(t,sr,e):0),sr.producerLastReadVersion[e]=t.version}function zx(){$m++}function Bm(t){if(!(mu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$m)){if(!t.producerMustRecompute(t)&&!Um(t)){Fm(t);return}t.producerRecomputeValue(t),Fm(t)}}function l_(t){if(t.liveConsumerNode===void 0)return;let e=vf;vf=!0;try{for(let n of t.liveConsumerNode)n.dirty||Wx(n)}finally{vf=e}}function f_(){return sr?.consumerAllowSignalWrites!==!1}function Wx(t){t.dirty=!0,l_(t),t.consumerMarkedDirty?.(t)}function Fm(t){t.dirty=!1,t.lastCleanEpoch=$m}function wf(t){return t&&(t.nextProducerIndex=0),sn(t)}function Vm(t,e){if(sn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(mu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Um(t){Ef(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bm(n),r!==n.version))return!0}return!1}function qm(t){if(Ef(t),mu(t))for(let e=0;e<t.producerNode.length;e++)Sf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function d_(t,e,n){if(h_(t),t.liveConsumerNode.length===0&&p_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=d_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Sf(t,e){if(h_(t),t.liveConsumerNode.length===1&&p_(t))for(let r=0;r<t.producerNode.length;r++)Sf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ef(i),i.producerIndexOfThis[r]=e}}function mu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ef(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function h_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function p_(t){return t.producerNode!==void 0}function m_(t){let e=Object.create(Gx);e.computation=t;let n=()=>{if(Bm(e),_f(e),e.value===bf)throw e.error;return e.value};return n[Zr]=e,n}var Rm=Symbol("UNSET"),jm=Symbol("COMPUTING"),bf=Symbol("ERRORED"),Gx=Mt(ke({},yu),{value:Rm,dirty:!0,error:null,equal:Lm,producerMustRecompute(t){return t.value===Rm||t.value===jm},producerRecomputeValue(t){if(t.value===jm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=jm;let n=wf(t),r;try{r=t.computation()}catch(i){r=bf,t.error=i}finally{Vm(t,n)}if(e!==Rm&&e!==bf&&r!==bf&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Kx(){throw new Error}var y_=Kx;function g_(){y_()}function v_(t){y_=t}var Qx=null;function b_(t){let e=Object.create(Hm);e.value=t;let n=()=>(_f(e),e.value);return n[Zr]=e,n}function If(t,e){f_()||g_(),t.equal(t.value,e)||(t.value=e,Yx(t))}function __(t,e){f_()||g_(),If(t,e(t.value))}var Hm=Mt(ke({},yu),{equal:Lm,value:void 0});function Yx(t){t.version++,zx(),l_(t),Qx?.()}function Ht(t){return typeof t=="function"}function Oa(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Of=Oa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Zn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ht(r))try{r()}catch(o){e=o instanceof Of?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{w_(o)}catch(s){e=e??[],s instanceof Of?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Of(e)}}add(e){var n;if(e&&e!==this)if(this.closed)w_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rs(n,e)}remove(e){let{_finalizers:n}=this;n&&Rs(n,e),e instanceof t&&e._removeParent(this)}};Zn.EMPTY=(()=>{let t=new Zn;return t.closed=!0,t})();var zm=Zn.EMPTY;function Df(t){return t instanceof Zn||t&&"closed"in t&&Ht(t.remove)&&Ht(t.add)&&Ht(t.unsubscribe)}function w_(t){Ht(t)?t():t.unsubscribe()}var xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Da={setTimeout(t,e,...n){let{delegate:r}=Da;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Da;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Af(t){Da.setTimeout(()=>{let{onUnhandledError:e}=xr;if(e)e(t);else throw t})}function gu(){}var S_=Wm("C",void 0,void 0);function E_(t){return Wm("E",void 0,t)}function I_(t){return Wm("N",t,void 0)}function Wm(t,e,n){return{kind:t,value:e,error:n}}var js=null;function Aa(t){if(xr.useDeprecatedSynchronousErrorHandling){let e=!js;if(e&&(js={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=js;if(js=null,n)throw r}}else t()}function O_(t){xr.useDeprecatedSynchronousErrorHandling&&js&&(js.errorThrown=!0,js.error=t)}var Fs=class extends Zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Df(e)&&e.add(this)):this.destination=Xx}static create(e,n,r){return new fo(e,n,r)}next(e){this.isStopped?Km(I_(e),this):this._next(e)}error(e){this.isStopped?Km(E_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Km(S_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jx=Function.prototype.bind;function Gm(t,e){return Jx.call(t,e)}var Qm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tf(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tf(r)}else Tf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tf(n)}}},fo=class extends Fs{constructor(e,n,r){super();let i;if(Ht(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gm(e.next,o),error:e.error&&Gm(e.error,o),complete:e.complete&&Gm(e.complete,o)}):i=e}this.destination=new Qm(i)}};function Tf(t){xr.useDeprecatedSynchronousErrorHandling?O_(t):Af(t)}function Zx(t){throw t}function Km(t,e){let{onStoppedNotification:n}=xr;n&&Da.setTimeout(()=>n(t,e))}var Xx={closed:!0,next:gu,error:Zx,complete:gu};var ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Cr(t){return t}function Ym(...t){return Jm(t)}function Jm(t){return t.length===0?Cr:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $t=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tC(n)?n:new fo(n,r,i);return Aa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=D_(r),new r((i,o)=>{let s=new fo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ho](){return this}pipe(...n){return Jm(n)(this)}toPromise(n){return n=D_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function D_(t){var e;return(e=t??xr.Promise)!==null&&e!==void 0?e:Promise}function eC(t){return t&&Ht(t.next)&&Ht(t.error)&&Ht(t.complete)}function tC(t){return t&&t instanceof Fs||eC(t)&&Df(t)}function Zm(t){return Ht(t?.lift)}function Qt(t){return e=>{if(Zm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yt(t,e,n,r,i){return new Xm(t,e,n,r,i)}var Xm=class extends Fs{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ta(){return Qt((t,e)=>{let n=null;t._refCount++;let r=Yt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xa=class extends $t{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zn;let n=this.getSubject();e.add(this.source.subscribe(Yt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zn.EMPTY)}return e}refCount(){return Ta()(this)}};var A_=Oa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var jn=(()=>{class t extends $t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xf(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A_}next(n){Aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zm:(this.currentObservers=null,o.push(n),new Zn(()=>{this.currentObservers=null,Rs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $t;return n.source=this,n}}return t.create=(e,n)=>new xf(e,n),t})(),xf=class extends jn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:zm}};var ar=class extends jn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vu={now(){return(vu.delegate||Date).now()},delegate:void 0};var po=class extends jn{constructor(e=1/0,n=1/0,r=vu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Cf=class extends Zn{constructor(e,n){super()}schedule(e,n=0){return this}};var bu={setInterval(t,e,...n){let{delegate:r}=bu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Mf=class extends Cf{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&bu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ca=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ca.now=vu.now;var Nf=class extends Ca{constructor(e,n=Ca.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pf=class extends Mf{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var kf=class extends Nf{};var ey=new kf(Pf);var Xr=new $t(t=>t.complete());function T_(t){return t&&Ht(t.schedule)}function x_(t){return t[t.length-1]}function Rf(t){return Ht(x_(t))?t.pop():void 0}function zo(t){return T_(x_(t))?t.pop():void 0}var ty=function(t,e){return ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ty(t,e)};function dr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ty(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var _e=function(){return _e=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_e.apply(this,arguments)};function hr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ei(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(y){try{f(r.next(y))}catch(m){s(m)}}function c(y){try{f(r.throw(y))}catch(m){s(m)}}function f(y){y.done?o(y.value):i(y.value).then(a,c)}f((r=r.apply(t,e||[])).next())})}function Di(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(y){return c([f,y])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(y){f=[6,y],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function C_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Ls(t){return this instanceof Ls?(this.v=t,this):new Ls(t)}function M_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(l){return function(h){return Promise.resolve(h).then(l,m)}}function a(l,h){r[l]&&(i[l]=function(d){return new Promise(function(p,g){o.push([l,d,p,g])>1||c(l,d)})},h&&(i[l]=h(i[l])))}function c(l,h){try{f(r[l](h))}catch(d){u(o[0][3],d)}}function f(l){l.value instanceof Ls?Promise.resolve(l.value.v).then(y,m):u(o[0][2],l)}function y(l){c("next",l)}function m(l){c("throw",l)}function u(l,h){l(h),o.shift(),o.length&&c(o[0][0],o[0][1])}}function N_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof C_=="function"?C_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(f){o({value:f,done:a})},s)}}var jf=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ff(t){return Ht(t?.then)}function Lf(t){return Ht(t[ho])}function $f(t){return Symbol.asyncIterator&&Ht(t?.[Symbol.asyncIterator])}function Bf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vf=nC();function Uf(t){return Ht(t?.[Vf])}function qf(t){return M_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ls(n.read());if(i)return yield Ls(void 0);yield yield Ls(r)}}finally{n.releaseLock()}})}function Hf(t){return Ht(t?.getReader)}function Yn(t){if(t instanceof $t)return t;if(t!=null){if(Lf(t))return rC(t);if(jf(t))return iC(t);if(Ff(t))return oC(t);if($f(t))return P_(t);if(Uf(t))return sC(t);if(Hf(t))return aC(t)}throw Bf(t)}function rC(t){return new $t(e=>{let n=t[ho]();if(Ht(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iC(t){return new $t(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oC(t){return new $t(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Af)})}function sC(t){return new $t(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function P_(t){return new $t(e=>{cC(t,e).catch(n=>e.error(n))})}function aC(t){return P_(qf(t))}function cC(t,e){var n,r,i,o;return ei(this,void 0,void 0,function*(){try{for(n=N_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ur(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $s(t,e=0){return Qt((n,r)=>{n.subscribe(Yt(r,i=>Ur(r,t,()=>r.next(i),e),()=>Ur(r,t,()=>r.complete(),e),i=>Ur(r,t,()=>r.error(i),e)))})}function zf(t,e=0){return Qt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function k_(t,e){return Yn(t).pipe(zf(e),$s(e))}function R_(t,e){return Yn(t).pipe(zf(e),$s(e))}function j_(t,e){return new $t(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function F_(t,e){return new $t(n=>{let r;return Ur(n,e,()=>{r=t[Vf](),Ur(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Ht(r?.return)&&r.return()})}function Wf(t,e){if(!t)throw new Error("Iterable cannot be null");return new $t(n=>{Ur(n,e,()=>{let r=t[Symbol.asyncIterator]();Ur(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function L_(t,e){return Wf(qf(t),e)}function $_(t,e){if(t!=null){if(Lf(t))return k_(t,e);if(jf(t))return j_(t,e);if(Ff(t))return R_(t,e);if($f(t))return Wf(t,e);if(Uf(t))return F_(t,e);if(Hf(t))return L_(t,e)}throw Bf(t)}function On(t,e){return e?$_(t,e):Yn(t)}function Dt(...t){let e=zo(t);return On(t,e)}function Ui(t,e){let n=Ht(t)?t:()=>t,r=i=>i.error(n());return new $t(e?i=>e.schedule(r,0,i):r)}function Ma(t){return!!t&&(t instanceof $t||Ht(t.lift)&&Ht(t.subscribe))}var mo=Oa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Nt(t,e){return Qt((n,r)=>{let i=0;n.subscribe(Yt(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:uC}=Array;function lC(t,e){return uC(e)?t(...e):t(e)}function Gf(t){return Nt(e=>lC(t,e))}var{isArray:fC}=Array,{getPrototypeOf:dC,prototype:hC,keys:pC}=Object;function Kf(t){if(t.length===1){let e=t[0];if(fC(e))return{args:e,keys:null};if(mC(e)){let n=pC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function mC(t){return t&&typeof t=="object"&&dC(t)===hC}function Qf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _u(...t){let e=zo(t),n=Rf(t),{args:r,keys:i}=Kf(t);if(r.length===0)return On([],e);let o=new $t(yC(r,e,i?s=>Qf(i,s):Cr));return n?o.pipe(Gf(n)):o}function yC(t,e,n=Cr){return r=>{B_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)B_(e,()=>{let f=On(t[c],e),y=!1;f.subscribe(Yt(r,m=>{o[c]=m,y||(y=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function B_(t,e,n){t?Ur(n,t,e):e()}function V_(t,e,n,r,i,o,s,a){let c=[],f=0,y=0,m=!1,u=()=>{m&&!c.length&&!f&&e.complete()},l=d=>f<r?h(d):c.push(d),h=d=>{o&&e.next(d),f++;let p=!1;Yn(n(d,y++)).subscribe(Yt(e,g=>{i?.(g),o?l(g):e.next(g)},()=>{p=!0},void 0,()=>{if(p)try{for(f--;c.length&&f<r;){let g=c.shift();s?Ur(e,s,()=>h(g)):h(g)}u()}catch(g){e.error(g)}}))};return t.subscribe(Yt(e,l,()=>{m=!0,u()})),()=>{a?.()}}function Ln(t,e,n=1/0){return Ht(e)?Ln((r,i)=>Nt((o,s)=>e(r,o,i,s))(Yn(t(r,i))),n):(typeof e=="number"&&(n=e),Qt((r,i)=>V_(r,i,t,n)))}function Na(t=1/0){return Ln(Cr,t)}function U_(){return Na(1)}function Pa(...t){return U_()(On(t,zo(t)))}function Yf(t){return new $t(e=>{Yn(t()).subscribe(e)})}function ka(...t){let e=Rf(t),{args:n,keys:r}=Kf(t),i=new $t(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,f=s;for(let y=0;y<s;y++){let m=!1;Yn(n[y]).subscribe(Yt(o,u=>{m||(m=!0,f--),a[y]=u},()=>c--,void 0,()=>{(!c||!m)&&(f||o.next(r?Qf(r,a):a),o.complete())}))}});return e?i.pipe(Gf(e)):i}function Jn(t,e){return Qt((n,r)=>{let i=0;n.subscribe(Yt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qr(t){return Qt((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Yt(n,void 0,void 0,s=>{o=Yn(t(s,qr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function q_(t,e,n,r,i){return(o,s)=>{let a=n,c=e,f=0;o.subscribe(Yt(s,y=>{let m=f++;c=a?t(c,y,m):(a=!0,y),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function yo(t,e){return Ht(e)?Ln(t,e,1):Ln(t,1)}function pi(t){return Qt((e,n)=>{let r=!1;e.subscribe(Yt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hr(t){return t<=0?()=>Xr:Qt((e,n)=>{let r=0;e.subscribe(Yt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ny(t){return Nt(()=>t)}function ry(t,e=Cr){return t=t??gC,Qt((n,r)=>{let i,o=!0;n.subscribe(Yt(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function gC(t,e){return t===e}function Jf(t=vC){return Qt((e,n)=>{let r=!1;e.subscribe(Yt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vC(){return new mo}function qi(t){return Qt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function go(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jn((i,o)=>t(i,o,r)):Cr,Hr(1),n?pi(e):Jf(()=>new mo))}function Ra(t){return t<=0?()=>Xr:Qt((e,n)=>{let r=[];e.subscribe(Yt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function iy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jn((i,o)=>t(i,o,r)):Cr,Ra(1),n?pi(e):Jf(()=>new mo))}function oy(){return Qt((t,e)=>{let n,r=!1;t.subscribe(Yt(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function sy(t,e){return Qt(q_(t,e,arguments.length>=2,!0))}function cy(t={}){let{connector:e=()=>new jn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,f=0,y=!1,m=!1,u=()=>{a?.unsubscribe(),a=void 0},l=()=>{u(),s=c=void 0,y=m=!1},h=()=>{let d=s;l(),d?.unsubscribe()};return Qt((d,p)=>{f++,!m&&!y&&u();let g=c=c??e();p.add(()=>{f--,f===0&&!m&&!y&&(a=ay(h,i))}),g.subscribe(p),!s&&f>0&&(s=new fo({next:b=>g.next(b),error:b=>{m=!0,u(),a=ay(l,n,b),g.error(b)},complete:()=>{y=!0,u(),a=ay(l,r),g.complete()}}),Yn(d).subscribe(s))})(o)}}function ay(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new fo({next:()=>{r.unsubscribe(),t()}});return Yn(e(...n)).subscribe(r)}function Wo(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,cy({connector:()=>new po(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Bs(...t){let e=zo(t);return Qt((n,r)=>{(e?Pa(t,n,e):Pa(t,n)).subscribe(r)})}function zr(t,e){return Qt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Yt(r,c=>{i?.unsubscribe();let f=0,y=o++;Yn(t(c,y)).subscribe(i=Yt(r,m=>r.next(e?e(c,m,y,f++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function vo(t){return Qt((e,n)=>{Yn(t).subscribe(Yt(n,()=>n.complete(),gu)),!n.closed&&e.subscribe(n)})}function Hn(t,e,n){let r=Ht(t)||e||n?{next:t,error:e,complete:n}:t;return r?Qt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Yt(o,c=>{var f;(f=r.next)===null||f===void 0||f.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var f;a=!1,(f=r.error)===null||f===void 0||f.call(r,c),o.error(c)},()=>{var c,f;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Cr}var xw="https://g.co/ng/security#xss",St=class extends Error{code;constructor(e,n){super(Nd(e,n)),this.code=e}};function Nd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Cw=Symbol("InputSignalNode#UNSET"),bC=Mt(ke({},Hm),{transformFn:void 0,applyValueToInputSignal(t,e){If(t,e)}});function Mw(t,e){let n=Object.create(bC);n.value=t,n.transformFn=e?.transform;function r(){if(_f(n),n.value===Cw)throw new St(-950,!1);return n.value}return r[Zr]=n,r}function ku(t){return{toString:t}.toString()}var Zf="__parameters__";function _C(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Nw(t,e,n){return ku(()=>{let r=_C(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,f,y){let m=c.hasOwnProperty(Zf)?c[Zf]:Object.defineProperty(c,Zf,{value:[]})[Zf];for(;m.length<=y;)m.push(null);return(m[y]=m[y]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Sy=globalThis;function $n(t){for(let e in t)if(t[e]===$n)return e;throw Error("Could not find renamed property on target object.")}function wC(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nr(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Nr).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function H_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var SC=$n({__forward_ref__:$n});function nc(t){return t.__forward_ref__=nc,t.toString=function(){return Nr(this())},t}function Mr(t){return Pw(t)?t():t}function Pw(t){return typeof t=="function"&&t.hasOwnProperty(SC)&&t.__forward_ref__===nc}function Qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ni(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pd(t){return z_(t,Rw)||z_(t,jw)}function kw(t){return Pd(t)!==null}function z_(t,e){return t.hasOwnProperty(e)?t[e]:null}function EC(t){let e=t&&(t[Rw]||t[jw]);return e||null}function W_(t){return t&&(t.hasOwnProperty(G_)||t.hasOwnProperty(IC))?t[G_]:null}var Rw=$n({\u0275prov:$n}),G_=$n({\u0275inj:$n}),jw=$n({ngInjectableDef:$n}),IC=$n({ngInjectorDef:$n}),rt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fw(t){return t&&!!t.\u0275providers}var OC=$n({\u0275cmp:$n}),DC=$n({\u0275dir:$n}),AC=$n({\u0275pipe:$n}),TC=$n({\u0275mod:$n}),cd=$n({\u0275fac:$n}),Eu=$n({__NG_ELEMENT_ID__:$n}),K_=$n({__NG_ENV_ID__:$n});function Ua(t){return typeof t=="string"?t:t==null?"":String(t)}function xC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ua(t)}function CC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new St(-200,t)}function yg(t,e){throw new St(-201,!1)}var nn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(nn||{}),Ey;function Lw(){return Ey}function mi(t){let e=Ey;return Ey=t,e}function $w(t,e,n){let r=Pd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&nn.Optional)return null;if(e!==void 0)return e;yg(t,"Injector")}var MC={},Iu=MC,Iy="__NG_DI_FLAG__",ud="ngTempTokenPath",NC="ngTokenPath",PC=/\n/gm,kC="\u0275",Q_="__source",Ba;function RC(){return Ba}function Go(t){let e=Ba;return Ba=t,e}function jC(t,e=nn.Default){if(Ba===void 0)throw new St(-203,!1);return Ba===null?$w(t,void 0,e):Ba.get(t,e&nn.Optional?null:void 0,e)}function bt(t,e=nn.Default){return(Lw()||jC)(Mr(t),e)}function Se(t,e=nn.Default){return bt(t,kd(e))}function kd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oy(t){let e=[];for(let n=0;n<t.length;n++){let r=Mr(t[n]);if(Array.isArray(r)){if(r.length===0)throw new St(900,!1);let i,o=nn.Default;for(let s=0;s<r.length;s++){let a=r[s],c=FC(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(bt(i,o))}else e.push(bt(r))}return e}function Bw(t,e){return t[Iy]=e,t.prototype[Iy]=e,t}function FC(t){return t[Iy]}function LC(t,e,n,r){let i=t[ud];throw e[Q_]&&i.unshift(e[Q_]),t.message=$C(`
`+t.message,i,n,r),t[NC]=i,t[ud]=null,t}function $C(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==kC?t.slice(2):t;let i=Nr(e);if(Array.isArray(e))i=e.map(Nr).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Nr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PC,`
  `)}`}var gg=Bw(Nw("Optional"),8);var Vw=Bw(Nw("SkipSelf"),4);function qa(t,e){let n=t.hasOwnProperty(cd);return n?t[cd]:null}function vg(t,e){t.forEach(n=>Array.isArray(n)?vg(n,e):e(n))}function Uw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ld(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function BC(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function VC(t,e,n){let r=Ru(t,e);return r>=0?t[r|1]=n:(r=~r,BC(t,r,e,n)),r}function uy(t,e){let n=Ru(t,e);if(n>=0)return t[n|1]}function Ru(t,e){return UC(t,e,1)}function UC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ha={},yi=[],Wi=new rt(""),Rd=new rt("",-1),qw=new rt(""),fd=class{get(e,n=Iu){if(n===Iu){let r=new Error(`NullInjectorError: No provider for ${Nr(e)}!`);throw r.name="NullInjectorError",r}return n}};function Hw(t,e){let n=t[TC]||null;if(!n&&e===!0)throw new Error(`Type ${Nr(t)} does not have '\u0275mod' property.`);return n}function Yo(t){return t[OC]||null}function zw(t){return t[DC]||null}function Ww(t){return t[AC]||null}function Gw(t){let e=Yo(t)||zw(t)||Ww(t);return e!==null?e.standalone:!1}function ri(t){return{\u0275providers:t}}function qC(...t){return{\u0275providers:Kw(!0,t),\u0275fromNgModule:!0}}function Kw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return vg(e,s=>{let a=s;Dy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qw(i,o),n}function Qw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];bg(i,o=>{e(o,r)})}}function Dy(t,e,n,r){if(t=Mr(t),!t)return!1;let i=null,o=W_(t),s=!o&&Yo(t);if(!o&&!s){let c=t.ngModule;if(o=W_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of c)Dy(f,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let f;try{vg(o.imports,y=>{Dy(y,e,n,r)&&(f||=[],f.push(y))})}finally{}f!==void 0&&Qw(f,e)}if(!a){let f=qa(i)||(()=>new i);e({provide:i,useFactory:f,deps:yi},i),e({provide:qw,useValue:i,multi:!0},i),e({provide:Wi,useValue:()=>bt(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let f=t;bg(c,y=>{e(y,f)})}}else return!1;return i!==t&&t.providers!==void 0}function bg(t,e){for(let n of t)Fw(n)&&(n=n.\u0275providers),Array.isArray(n)?bg(n,e):e(n)}var HC=$n({provide:String,useValue:$n});function Yw(t){return t!==null&&typeof t=="object"&&HC in t}function zC(t){return!!(t&&t.useExisting)}function WC(t){return!!(t&&t.useFactory)}function za(t){return typeof t=="function"}function GC(t){return!!t.useClass}var jd=new rt(""),rd={},KC={},ly;function _g(){return ly===void 0&&(ly=new fd),ly}var kr=class{},Ou=class extends kr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ty(e,s=>this.processProvider(s)),this.records.set(Rd,ja(void 0,this)),i.has("environment")&&this.records.set(kr,ja(void 0,this));let o=this.records.get(jd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qw,yi,nn.Self))}destroy(){wu(this),this._destroyed=!0;let e=sn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),sn(e)}}onDestroy(e){return wu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){wu(this);let n=Go(this),r=mi(void 0),i;try{return e()}finally{Go(n),mi(r)}}get(e,n=Iu,r=nn.Default){if(wu(this),e.hasOwnProperty(K_))return e[K_](this);r=kd(r);let i,o=Go(this),s=mi(void 0);try{if(!(r&nn.SkipSelf)){let c=this.records.get(e);if(c===void 0){let f=XC(e)&&Pd(e);f&&this.injectableDefInScope(f)?c=ja(Ay(e),rd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&nn.Self?_g():this.parent;return n=r&nn.Optional&&n===Iu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ud]=a[ud]||[]).unshift(Nr(e)),o)throw a;return LC(a,e,"R3InjectorError",this.source)}else throw a}finally{mi(s),Go(o)}}resolveInjectorInitializers(){let e=sn(null),n=Go(this),r=mi(void 0),i;try{let o=this.get(Wi,yi,nn.Self);for(let s of o)s()}finally{Go(n),mi(r),sn(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Mr(e);let n=za(e)?e:Mr(e&&e.provide),r=YC(e);if(!za(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ja(void 0,rd,!0),i.factory=()=>Oy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=sn(null);try{return n.value===rd&&(n.value=KC,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{sn(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Mr(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ay(t){let e=Pd(t),n=e!==null?e.factory:qa(t);if(n!==null)return n;if(t instanceof rt)throw new St(204,!1);if(t instanceof Function)return QC(t);throw new St(204,!1)}function QC(t){if(t.length>0)throw new St(204,!1);let n=EC(t);return n!==null?()=>n.factory(t):()=>new t}function YC(t){if(Yw(t))return ja(void 0,t.useValue);{let e=Jw(t);return ja(e,rd)}}function Jw(t,e,n){let r;if(za(t)){let i=Mr(t);return qa(i)||Ay(i)}else if(Yw(t))r=()=>Mr(t.useValue);else if(WC(t))r=()=>t.useFactory(...Oy(t.deps||[]));else if(zC(t))r=()=>bt(Mr(t.useExisting));else{let i=Mr(t&&(t.useClass||t.provide));if(JC(t))r=()=>new i(...Oy(t.deps));else return qa(i)||Ay(i)}return r}function wu(t){if(t.destroyed)throw new St(205,!1)}function ja(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JC(t){return!!t.deps}function ZC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function XC(t){return typeof t=="function"||typeof t=="object"&&t instanceof rt}function Ty(t,e){for(let n of t)Array.isArray(n)?Ty(n,e):n&&Fw(n)?Ty(n.\u0275providers,e):e(n)}function mr(t,e){t instanceof Ou&&wu(t);let n,r=Go(t),i=mi(void 0);try{return e()}finally{Go(r),mi(i)}}function Zw(){return Lw()!==void 0||RC()!=null}function wg(t){if(!Zw())throw new St(-203,!1)}function eM(t){return typeof t=="function"}var wo=0,Jt=1,Ft=2,Rr=3,Ti=4,Ni=5,Du=6,dd=7,Ir=8,Wa=9,bo=10,rr=11,Au=12,Y_=13,rc=14,xi=15,Ga=16,Fa=17,Ka=18,Fd=19,Xw=20,Ko=21,fy=22,hd=23,ti=24,Ci=25,eS=1;var Us=7,pd=8,md=9,Pr=10,yd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yd||{});function Qo(t){return Array.isArray(t)&&typeof t[eS]=="object"}function So(t){return Array.isArray(t)&&t[eS]===!0}function tS(t){return(t.flags&4)!==0}function Ld(t){return t.componentOffset>-1}function Sg(t){return(t.flags&1)===1}function Jo(t){return!!t.template}function xy(t){return(t[Ft]&512)!==0}var Cy=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ic=(()=>{let t=()=>rS;return t.ngInherit=!0,t})();function rS(t){return t.type.prototype.ngOnChanges&&(t.setInput=nM),tM}function tM(){let t=oS(this),e=t?.current;if(e){let n=t.previous;if(n===Ha)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nM(t,e,n,r,i){let o=this.declaredInputs[r],s=oS(t)||rM(t,{previous:Ha,current:null}),a=s.current||(s.current={}),c=s.previous,f=c[o];a[o]=new Cy(f&&f.currentValue,n,c===Ha),nS(t,e,i,n)}var iS="__ngSimpleChanges__";function oS(t){return t[iS]||null}function rM(t,e){return t[iS]=e}var J_=null;var Hi=function(t,e,n){J_?.(t,e,n)},sS="svg",iM="math";function Gi(t){for(;Array.isArray(t);)t=t[wo];return t}function aS(t,e){return Gi(e[t])}function gi(t,e){return Gi(e[t.index])}function Eg(t,e){return t.data[e]}function es(t,e){let n=e[t];return Qo(n)?n:n[wo]}function Ig(t){return(t[Ft]&128)===128}function oM(t){return So(t[Rr])}function Qa(t,e){return e==null?null:t[e]}function cS(t){t[Fa]=0}function Og(t){t[Ft]&1024||(t[Ft]|=1024,Ig(t)&&Bd(t))}function sM(t,e){for(;t>0;)e=e[rc],t--;return e}function $d(t){return!!(t[Ft]&9216||t[ti]?.dirty)}function My(t){t[bo].changeDetectionScheduler?.notify(9),t[Ft]&64&&(t[Ft]|=1024),$d(t)&&Bd(t)}function Bd(t){t[bo].changeDetectionScheduler?.notify(0);let e=qs(t);for(;e!==null&&!(e[Ft]&8192||(e[Ft]|=8192,!Ig(e)));)e=qs(e)}function uS(t,e){if((t[Ft]&256)===256)throw new St(911,!1);t[Ko]===null&&(t[Ko]=[]),t[Ko].push(e)}function aM(t,e){if(t[Ko]===null)return;let n=t[Ko].indexOf(e);n!==-1&&t[Ko].splice(n,1)}function qs(t){let e=t[Rr];return So(e)?e[Rr]:e}var Zt={lFrame:wS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ny=!1;function cM(){return Zt.lFrame.elementDepthCount}function uM(){Zt.lFrame.elementDepthCount++}function lM(){Zt.lFrame.elementDepthCount--}function lS(){return Zt.bindingsEnabled}function fM(){return Zt.skipHydrationRootTNode!==null}function dM(t){return Zt.skipHydrationRootTNode===t}function hM(){Zt.skipHydrationRootTNode=null}function bn(){return Zt.lFrame.lView}function jr(){return Zt.lFrame.tView}function fS(t){return Zt.lFrame.contextLView=t,t[Ir]}function dS(t){return Zt.lFrame.contextLView=null,t}function Fr(){let t=hS();for(;t!==null&&t.type===64;)t=t.parent;return t}function hS(){return Zt.lFrame.currentTNode}function pM(){let t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ju(t,e){let n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function pS(){return Zt.lFrame.isParent}function mM(){Zt.lFrame.isParent=!1}function mS(){return Ny}function Z_(t){let e=Ny;return Ny=t,e}function yS(){let t=Zt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yM(){return Zt.lFrame.bindingIndex}function gM(t){return Zt.lFrame.bindingIndex=t}function oc(){return Zt.lFrame.bindingIndex++}function gS(t){let e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vM(){return Zt.lFrame.inI18n}function bM(t,e){let n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Py(e)}function _M(){return Zt.lFrame.currentDirectiveIndex}function Py(t){Zt.lFrame.currentDirectiveIndex=t}function wM(t){let e=Zt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vS(t){Zt.lFrame.currentQueryIndex=t}function SM(t){let e=t[Jt];return e.type===2?e.declTNode:e.type===1?t[Ni]:null}function bS(t,e,n){if(n&nn.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&nn.Host);)if(i=SM(o),i===null||(o=o[rc],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Zt.lFrame=_S();return r.currentTNode=e,r.lView=t,!0}function Dg(t){let e=_S(),n=t[Jt];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _S(){let t=Zt.lFrame,e=t===null?null:t.child;return e===null?wS(t):e}function wS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function SS(){let t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ES=SS;function Ag(){let t=SS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function EM(t){return(Zt.lFrame.contextLView=sM(t,Zt.lFrame.contextLView))[Ir]}function ts(){return Zt.lFrame.selectedIndex}function Hs(t){Zt.lFrame.selectedIndex=t}function Vd(){let t=Zt.lFrame;return Eg(t.tView,t.selectedIndex)}function Yi(){Zt.lFrame.currentNamespace=sS}function Qs(){IM()}function IM(){Zt.lFrame.currentNamespace=null}function OM(){return Zt.lFrame.currentNamespace}var IS=!0;function Tg(){return IS}function xg(t){IS=t}function DM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Cg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:y}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),y!=null&&(t.destroyHooks??=[]).push(n,y)}}function id(t,e,n){OS(t,e,3,n)}function od(t,e,n,r){(t[Ft]&3)===n&&OS(t,e,n,r)}function dy(t,e){let n=t[Ft];(n&3)===e&&(n&=16383,n+=1,t[Ft]=n)}function OS(t,e,n,r){let i=r!==void 0?t[Fa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Fa]+=65536),(a<o||o==-1)&&(AM(t,n,e,c),t[Fa]=(t[Fa]&4294901760)+c+2),c++}function X_(t,e){Hi(4,t,e);let n=sn(null);try{e.call(t)}finally{sn(n),Hi(5,t,e)}}function AM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Ft]>>14<t[Fa]>>16&&(t[Ft]&3)===e&&(t[Ft]+=16384,X_(a,o)):X_(a,o)}var Va=-1,zs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function TM(t){return t instanceof zs}function xM(t){return(t.flags&8)!==0}function CM(t){return(t.flags&16)!==0}function ky(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];MM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function DS(t){return t===3||t===4||t===6}function MM(t){return t.charCodeAt(0)===64}function Tu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ew(t,n,i,null,e[++r]):ew(t,n,i,null,null))}}return t}function ew(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var hy={},Ry=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kd(r);let i=this.injector.get(e,hy,r);return i!==hy||n===hy?i:this.parentInjector.get(e,n,r)}};function AS(t){return t!==Va}function gd(t){return t&32767}function NM(t){return t>>16}function vd(t,e){let n=NM(t),r=e;for(;n>0;)r=r[rc],n--;return r}var jy=!0;function tw(t){let e=jy;return jy=t,e}var PM=256,TS=PM-1,xS=5,kM=0,zi={};function RM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Eu)&&(r=n[Eu]),r==null&&(r=n[Eu]=kM++);let i=r&TS,o=1<<i;e.data[t+(i>>xS)]|=o}function bd(t,e){let n=CS(t,e);if(n!==-1)return n;let r=e[Jt];r.firstCreatePass&&(t.injectorIndex=e.length,py(r.data,t),py(e,null),py(r.blueprint,null));let i=Mg(t,e),o=t.injectorIndex;if(AS(i)){let s=gd(i),a=vd(i,e),c=a[Jt].data;for(let f=0;f<8;f++)e[o+f]=a[s+f]|c[s+f]}return e[o+8]=i,o}function py(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=RS(i),r===null)return Va;if(n++,i=i[rc],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Va}function Fy(t,e,n){RM(t,e,n)}function jM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(DS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function MS(t,e,n){if(n&nn.Optional||t!==void 0)return t;yg(e,"NodeInjector")}function NS(t,e,n,r){if(n&nn.Optional&&r===void 0&&(r=null),!(n&(nn.Self|nn.Host))){let i=t[Wa],o=mi(void 0);try{return i?i.get(e,r,n&nn.Optional):$w(e,r,n&nn.Optional)}finally{mi(o)}}return MS(r,e,n)}function PS(t,e,n,r=nn.Default,i){if(t!==null){if(e[Ft]&2048&&!(r&nn.Self)){let s=VM(t,e,n,r,zi);if(s!==zi)return s}let o=kS(t,e,n,r,zi);if(o!==zi)return o}return NS(e,n,r,i)}function kS(t,e,n,r,i){let o=$M(n);if(typeof o=="function"){if(!bS(e,t,r))return r&nn.Host?MS(i,n,r):NS(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&nn.Optional))yg(n);else return s}finally{ES()}}else if(typeof o=="number"){let s=null,a=CS(t,e),c=Va,f=r&nn.Host?e[xi][Ni]:null;for((a===-1||r&nn.SkipSelf)&&(c=a===-1?Mg(t,e):e[a+8],c===Va||!rw(r,!1)?a=-1:(s=e[Jt],a=gd(c),e=vd(c,e)));a!==-1;){let y=e[Jt];if(nw(o,a,y.data)){let m=FM(a,e,n,s,r,f);if(m!==zi)return m}c=e[a+8],c!==Va&&rw(r,e[Jt].data[a+8]===f)&&nw(o,a,e)?(s=y,a=gd(c),e=vd(c,e)):a=-1}}return i}function FM(t,e,n,r,i,o){let s=e[Jt],a=s.data[t+8],c=r==null?Ld(a)&&jy:r!=s&&(a.type&3)!==0,f=i&nn.Host&&o===a,y=LM(a,s,n,c,f);return y!==null?Ya(e,s,y,a):zi}function LM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,f=t.directiveEnd,y=o>>20,m=r?a:a+y,u=i?a+y:f;for(let l=m;l<u;l++){let h=s[l];if(l<c&&n===h||l>=c&&h.type===n)return l}if(i){let l=s[c];if(l&&Jo(l)&&l.type===n)return c}return null}function Ya(t,e,n,r){let i=t[n],o=e.data;if(TM(i)){let s=i;s.resolving&&CC(xC(o[n]));let a=tw(s.canSeeViewProviders);s.resolving=!0;let c,f=s.injectImpl?mi(s.injectImpl):null,y=bS(t,r,nn.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&DM(n,o[n],e)}finally{f!==null&&mi(f),tw(a),s.resolving=!1,ES()}}return i}function $M(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Eu)?t[Eu]:void 0;return typeof e=="number"?e>=0?e&TS:BM:e}function nw(t,e,n){let r=1<<t;return!!(n[e+(t>>xS)]&r)}function rw(t,e){return!(t&nn.Self)&&!(t&nn.Host&&e)}var Vs=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return PS(this._tNode,this._lView,e,kd(r),n)}};function BM(){return new Vs(Fr(),bn())}function Ys(t){return ku(()=>{let e=t.prototype.constructor,n=e[cd]||Ly(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[cd]||Ly(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ly(t){return Pw(t)?()=>{let e=Ly(Mr(t));return e&&e()}:qa(t)}function VM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Ft]&2048&&!(s[Ft]&512);){let a=kS(o,s,n,r|nn.Self,zi);if(a!==zi)return a;let c=o.parent;if(!c){let f=s[Xw];if(f){let y=f.get(n,zi,r);if(y!==zi)return y}c=RS(s),s=s[rc]}o=c}return i}function RS(t){let e=t[Jt],n=e.type;return n===2?e.declTNode:n===1?t[Ni]:null}function Ng(t){return jM(Fr(),t)}function iw(t,e=null,n=null,r){let i=jS(t,e,n,r);return i.resolveInjectorInitializers(),i}function jS(t,e=null,n=null,r,i=new Set){let o=[n||yi,qC(t)];return r=r||(typeof t=="object"?void 0:Nr(t)),new Ou(o,e||_g(),r||null,i)}var cr=class t{static THROW_IF_NOT_FOUND=Iu;static NULL=new fd;static create(e,n){if(Array.isArray(e))return iw({name:""},n,e,"");{let r=e.name??"";return iw({name:r},e.parent,e.providers,r)}}static \u0275prov=Qe({token:t,providedIn:"any",factory:()=>bt(Rd)});static __NG_ELEMENT_ID__=-1};var UM=new rt("");UM.__NG_ELEMENT_ID__=t=>{let e=Fr();if(e===null)throw new St(204,!1);if(e.type&2)return e.value;if(t&nn.Optional)return null;throw new St(204,!1)};var FS=!1,sc=(()=>{class t{static __NG_ELEMENT_ID__=qM;static __NG_ENV_ID__=n=>n}return t})(),$y=class extends sc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return uS(this._lView,e),()=>aM(this._lView,e)}};function qM(){return new $y(bn())}var Ja=class{},Ud=new rt("",{providedIn:"root",factory:()=>!1});var LS=new rt(""),$S=new rt(""),ns=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ar(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Qe({token:t,providedIn:"root",factory:()=>new t})}return t})();var By=class extends jn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Zw()&&(this.destroyRef=Se(sc,{optional:!0})??void 0,this.pendingTasks=Se(ns,{optional:!0})??void 0)}emit(e){let n=sn(null);try{super.next(e)}finally{sn(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Zn&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},pr=By;function _d(...t){}function BS(t){let e,n;function r(){t=_d;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ow(t){return queueMicrotask(()=>t()),()=>{t=_d}}var Pg="isAngularZone",wd=Pg+"_ID",HM=0,yn=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pr(!1);onMicrotaskEmpty=new pr(!1);onStable=new pr(!1);onError=new pr(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=FS}=e;if(typeof Zone>"u")throw new St(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,GM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new St(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new St(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zM,_d,_d);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zM={};function kg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){BS(()=>{t.callbackScheduled=!1,Vy(t),t.isCheckStableRunning=!0,kg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vy(t)}function GM(t){let e=()=>{WM(t)},n=HM++;t._inner=t._inner.fork({name:"angular",properties:{[Pg]:!0,[wd]:n,[wd+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(KM(c))return r.invokeTask(o,s,a,c);try{return sw(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aw(t)}},onInvoke:(r,i,o,s,a,c,f)=>{try{return sw(t),r.invoke(o,s,a,c,f)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!QM(c)&&e(),aw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Vy(t),kg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Vy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aw(t){t._nesting--,kg(t)}var Uy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pr;onMicrotaskEmpty=new pr;onStable=new pr;onError=new pr;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function KM(t){return VS(t,"__ignore_ng_zone__")}function QM(t){return VS(t,"__scheduler_tick__")}function VS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Mi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},YM=new rt("",{providedIn:"root",factory:()=>{let t=Se(yn),e=Se(Mi);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function cw(t,e){return Mw(t,e)}function JM(t){return Mw(Cw,t)}var US=(cw.required=JM,cw);function ZM(){return qd(Fr(),bn())}function qd(t,e){return new rs(gi(t,e))}var rs=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ZM}return t})();function qS(t){return(t.flags&128)===128}var HS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(HS||{}),zS=new Map,XM=0;function e3(){return XM++}function t3(t){zS.set(t[Fd],t)}function qy(t){zS.delete(t[Fd])}var uw="__ngContext__";function Ws(t,e){Qo(e)?(t[uw]=e[Fd],t3(e)):t[uw]=e}function WS(t){return KS(t[Au])}function GS(t){return KS(t[Ti])}function KS(t){for(;t!==null&&!So(t);)t=t[Ti];return t}var Hy;function QS(t){Hy=t}function n3(){if(Hy!==void 0)return Hy;if(typeof document<"u")return document;throw new St(210,!1)}var Rg=new rt("",{providedIn:"root",factory:()=>r3}),r3="ng",jg=new rt(""),Wr=new rt("",{providedIn:"platform",factory:()=>"unknown"});var Fg=new rt("",{providedIn:"root",factory:()=>n3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var i3="h",o3="b";var YS=!1,s3=new rt("",{providedIn:"root",factory:()=>YS});var Lg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Lg||{}),Hd=new rt(""),lw=new Set;function Eo(t){lw.has(t)||(lw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var La=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(La||{}),JS=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Qe({token:t,providedIn:"root",factory:()=>new t})}return t})(),a3=[La.EarlyRead,La.Write,La.MixedReadWrite,La.Read],c3=(()=>{class t{ngZone=Se(yn);scheduler=Se(Ja);errorHandler=Se(Mi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Se(Hd,{optional:!0})}execute(){this.executing=!0;for(let n of a3)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[n](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?.run(Lg.AFTER_NEXT_RENDER,n)??n()}static \u0275prov=Qe({token:t,providedIn:"root",factory:()=>new t})}return t})(),zy=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o=null){this.impl=e,this.hooks=n,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function $g(t,e){!e?.injector&&wg($g);let n=e?.injector??Se(cr);return Eo("NgAfterNextRender"),l3(t,n,e,!0)}function u3(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function l3(t,e,n,r){let i=e.get(JS);i.impl??=e.get(c3);let o=e.get(Hd,null,{optional:!0}),s=n?.phase??La.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(sc):null,c=new zy(i.impl,u3(t,s),r,a,o?.snapshot(null));return i.impl.register(c),c}var f3=()=>null;function Bg(t,e,n=!1){return f3(t,e,n)}var Ki=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ki||{});var Xf;function d3(){if(Xf===void 0&&(Xf=null,Sy.trustedTypes))try{Xf=Sy.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xf}function fw(t){return d3()?.createScriptURL(t)||t}var Sd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xw})`}};function Fu(t){return t instanceof Sd?t.changingThisBreaksApplicationSecurity:t}function Vg(t,e){let n=h3(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xw})`)}return n===e}function h3(t){return t instanceof Sd&&t.getTypeName()||null}var p3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZS(t){return t=String(t),t.match(p3)?t:"unsafe:"+t}var zd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zd||{});function Js(t){let e=eE();return e?e.sanitize(zd.URL,t)||"":Vg(t,"URL")?Fu(t):ZS(Ua(t))}function m3(t){let e=eE();if(e)return fw(e.sanitize(zd.RESOURCE_URL,t)||"");if(Vg(t,"ResourceURL"))return fw(Fu(t));throw new St(904,!1)}function y3(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?m3:Js}function XS(t,e,n){return y3(e,n)(t)}function eE(){let t=bn();return t&&t[bo].sanitizer}function tE(t){return t instanceof Function?t():t}var Zo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zo||{}),_o=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_o||{}),g3;function Ug(t,e){return g3(t,e)}function $a(t,e,n,r,i){if(r!=null){let o,s=!1;So(r)?o=r:Qo(r)&&(s=!0,r=r[wo]);let a=Gi(r);t===0&&n!==null?i==null?oE(e,n,a):Ed(e,n,a,i||null,!0):t===1&&n!==null?Ed(e,n,a,i||null,!0):t===2?N3(e,a,s):t===3&&e.destroyNode(a),o!=null&&k3(e,t,o,n,i)}}function v3(t,e){return t.createText(e)}function b3(t,e,n){t.setValue(e,n)}function nE(t,e,n){return t.createElement(e,n)}function _3(t,e){rE(t,e),e[wo]=null,e[Ni]=null}function w3(t,e,n,r,i,o){r[wo]=i,r[Ni]=e,Gd(t,r,n,1,i,o)}function rE(t,e){e[bo].changeDetectionScheduler?.notify(10),Gd(t,e,e[rr],2,null,null)}function S3(t){let e=t[Au];if(!e)return my(t[Jt],t);for(;e;){let n=null;if(Qo(e))n=e[Au];else{let r=e[Pr];r&&(n=r)}if(!n){for(;e&&!e[Ti]&&e!==t;)Qo(e)&&my(e[Jt],e),e=e[Rr];e===null&&(e=t),Qo(e)&&my(e[Jt],e),n=e&&e[Ti]}e=n}}function E3(t,e,n,r){let i=Pr+r,o=n.length;r>0&&(n[i-1][Ti]=e),r<o-Pr?(e[Ti]=n[i],Uw(n,Pr+r,e)):(n.push(e),e[Ti]=null),e[Rr]=n;let s=e[Ga];s!==null&&n!==s&&iE(s,e);let a=e[Ka];a!==null&&a.insertView(t),My(e),e[Ft]|=128}function iE(t,e){let n=t[md],r=e[Rr];if(Qo(r))t[Ft]|=yd.HasTransplantedViews;else{let i=r[Rr][xi];e[xi]!==i&&(t[Ft]|=yd.HasTransplantedViews)}n===null?t[md]=[e]:n.push(e)}function qg(t,e){let n=t[md],r=n.indexOf(e);n.splice(r,1)}function xu(t,e){if(t.length<=Pr)return;let n=Pr+e,r=t[n];if(r){let i=r[Ga];i!==null&&i!==t&&qg(i,r),e>0&&(t[n-1][Ti]=r[Ti]);let o=ld(t,Pr+e);_3(r[Jt],r);let s=o[Ka];s!==null&&s.detachView(o[Jt]),r[Rr]=null,r[Ti]=null,r[Ft]&=-129}return r}function Wd(t,e){if(!(e[Ft]&256)){let n=e[rr];n.destroyNode&&Gd(t,e,n,3,null,null),S3(e)}}function my(t,e){if(e[Ft]&256)return;let n=sn(null);try{e[Ft]&=-129,e[Ft]|=256,e[ti]&&qm(e[ti]),O3(t,e),I3(t,e),e[Jt].type===1&&e[rr].destroy();let r=e[Ga];if(r!==null&&So(e[Rr])){r!==e[Rr]&&qg(r,e);let i=e[Ka];i!==null&&i.detachView(t)}qy(e)}finally{sn(n)}}function I3(t,e){let n=t.cleanup,r=e[dd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[dd]=null);let i=e[Ko];if(i!==null){e[Ko]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hd];if(o!==null){e[hd]=null;for(let s of o)s.destroy()}}function O3(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zs)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Hi(4,a,c);try{c.call(a)}finally{Hi(5,a,c)}}else{Hi(4,i,o);try{o.call(i)}finally{Hi(5,i,o)}}}}}function D3(t,e,n){return A3(t,e.parent,n)}function A3(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[wo];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ki.None||o===Ki.Emulated)return null}return gi(r,n)}}function Ed(t,e,n,r,i){t.insertBefore(e,n,r,i)}function oE(t,e,n){t.appendChild(e,n)}function dw(t,e,n,r,i){r!==null?Ed(t,e,n,r,i):oE(t,e,n)}function sE(t,e){return t.parentNode(e)}function T3(t,e){return t.nextSibling(e)}function x3(t,e,n){return M3(t,e,n)}function C3(t,e,n){return t.type&40?gi(t,n):null}var M3=C3,hw;function Hg(t,e,n,r){let i=D3(t,r,e),o=e[rr],s=r.parent||e[Ni],a=x3(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)dw(o,i,n[c],a,!1);else dw(o,i,n,a,!1);hw!==void 0&&hw(o,r,e,n,i)}function Su(t,e){if(e!==null){let n=e.type;if(n&3)return gi(e,t);if(n&4)return Wy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Su(t,r);{let i=t[e.index];return So(i)?Wy(-1,i):Gi(i)}}else{if(n&128)return Su(t,e.next);if(n&32)return Ug(e,t)()||Gi(t[e.index]);{let r=aE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qs(t[xi]);return Su(i,r)}else return Su(t,e.next)}}}return null}function aE(t,e){if(e!==null){let r=t[xi][Ni],i=e.projection;return r.projection[i]}return null}function Wy(t,e){let n=Pr+t+1;if(n<e.length){let r=e[n],i=r[Jt].firstChild;if(i!==null)return Su(r,i)}return e[Us]}function N3(t,e,n){t.removeChild(null,e,n)}function zg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Ws(Gi(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)zg(t,e,n.child,r,i,o,!1),$a(e,t,i,a,o);else if(c&32){let f=Ug(n,r),y;for(;y=f();)$a(e,t,i,y,o);$a(e,t,i,a,o)}else c&16?P3(t,e,r,n,i,o):$a(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Gd(t,e,n,r,i,o){zg(n,r,t.firstChild,e,i,o,!1)}function P3(t,e,n,r,i,o){let s=n[xi],c=s[Ni].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++){let y=c[f];$a(e,t,i,y,o)}else{let f=c,y=s[Rr];qS(r)&&(f.flags|=128),zg(t,e,f,y,i,o,!0)}}function k3(t,e,n,r,i){let o=n[Us],s=Gi(n);o!==s&&$a(e,t,r,o,i);for(let a=Pr;a<n.length;a++){let c=n[a];Gd(c[Jt],c,t,e,r,o)}}function R3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:_o.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_o.Important),t.setStyle(n,r,i,o))}}function j3(t,e,n){t.setAttribute(e,"style",n)}function cE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ky(t,e,r),i!==null&&cE(t,e,i),o!==null&&j3(t,e,o)}function F3(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var lE="ng-template";function L3(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&F3(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Wg(t){return t.type===4&&t.value!==lE}function $3(t,e,n){let r=t.type===4&&!n?lE:t.value;return e===r}function B3(t,e,n){let r=4,i=t.attrs,o=i!==null?q3(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ai(r)&&!Ai(c))return!1;if(s&&Ai(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!$3(t,c,n)||c===""&&e.length===1){if(Ai(r))return!1;s=!0}}else if(r&8){if(i===null||!L3(t,i,c,n)){if(Ai(r))return!1;s=!0}}else{let f=e[++a],y=V3(c,i,Wg(t),n);if(y===-1){if(Ai(r))return!1;s=!0;continue}if(f!==""){let m;if(y>o?m="":m=i[y+1].toLowerCase(),r&2&&f!==m){if(Ai(r))return!1;s=!0}}}}return Ai(r)||s}function Ai(t){return(t&1)===0}function V3(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return H3(e,t)}function U3(t,e,n=!1){for(let r=0;r<e.length;r++)if(B3(t,e[r],n))return!0;return!1}function q3(t){for(let e=0;e<t.length;e++){let n=t[e];if(DS(n))return e}return t.length}function H3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pw(t,e){return t?":not("+e.trim()+")":e}function z3(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ai(s)&&(e+=pw(o,i),i=""),r=s,o=o||!Ai(r);n++}return i!==""&&(e+=pw(o,i)),e}function W3(t){return t.map(z3).join(",")}function G3(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ai(i))break;i=o}r++}return{attrs:e,classes:n}}var Pi={};function zn(t=1){fE(jr(),bn(),ts()+t,!1)}function fE(t,e,n,r){if(!r)if((e[Ft]&3)===3){let o=t.preOrderCheckHooks;o!==null&&id(e,o,n)}else{let o=t.preOrderHooks;o!==null&&od(e,o,0,n)}Hs(n)}function Pn(t,e=nn.Default){let n=bn();if(n===null)return bt(t,e);let r=Fr();return PS(r,n,Mr(t),e)}function dE(){let t="invalid";throw new Error(t)}function hE(t,e,n,r,i,o){let s=sn(null);try{let a=null;i&Zo.SignalBased&&(a=e[r][Zr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Zo.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):nS(e,a,r,o)}finally{sn(s)}}function K3(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hs(~i);else{let o=i,s=n[++r],a=n[++r];bM(s,o);let c=e[o];a(2,c)}}}finally{Hs(-1)}}function Kd(t,e,n,r,i,o,s,a,c,f,y){let m=e.blueprint.slice();return m[wo]=i,m[Ft]=r|4|128|8|64|1024,(f!==null||t&&t[Ft]&2048)&&(m[Ft]|=2048),cS(m),m[Rr]=m[rc]=t,m[Ir]=n,m[bo]=s||t&&t[bo],m[rr]=a||t&&t[rr],m[Wa]=c||t&&t[Wa]||null,m[Ni]=o,m[Fd]=e3(),m[Du]=y,m[Xw]=f,m[xi]=e.type==2?t[xi]:m,m}function Qd(t,e,n,r,i){let o=t.data[e];if(o===null)o=Q3(t,e,n,r,i),vM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=pM();o.injectorIndex=s===null?-1:s.injectorIndex}return ju(o,!0),o}function Q3(t,e,n,r,i){let o=hS(),s=pS(),a=s?o:o&&o.parent,c=t.data[e]=eN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function pE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mE(t,e,n,r,i){let o=ts(),s=r&2;try{Hs(-1),s&&e.length>Ci&&fE(t,e,Ci,!1),Hi(s?2:0,i),n(r,i)}finally{Hs(o),Hi(s?3:1,i)}}function yE(t,e,n){if(tS(e)){let r=sn(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{sn(r)}}}function gE(t,e,n){lS()&&(sN(t,e,n,gi(n,e)),(n.flags&64)===64&&SE(t,e,n))}function vE(t,e,n=gi){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function bE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gg(t,e,n,r,i,o,s,a,c,f,y){let m=Ci+r,u=m+i,l=Y3(m,u),h=typeof f=="function"?f():f;return l[Jt]={type:t,blueprint:l,template:n,queries:null,viewQuery:a,declTNode:e,data:l.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:y}}function Y3(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pi);return n}function J3(t,e,n,r){let o=r.get(s3,YS)||n===Ki.ShadowDom,s=t.selectRootElement(e,o);return Z3(s),s}function Z3(t){X3(t)}var X3=()=>null;function eN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return fM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function mw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Zo.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let f=o;if(i!==null){if(!i.hasOwnProperty(o))continue;f=i[o]}t===0?yw(r,n,f,a,c):yw(r,n,f,a)}return r}function yw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function tN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,f=null;for(let y=r;y<i;y++){let m=o[y],u=n?n.get(m):null,l=u?u.inputs:null,h=u?u.outputs:null;c=mw(0,m.inputs,y,c,l),f=mw(1,m.outputs,y,f,h);let d=c!==null&&s!==null&&!Wg(e)?gN(c,y,s):null;a.push(d)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=f}function nN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Kg(t,e,n,r,i,o,s,a){let c=gi(e,n),f=e.inputs,y;!a&&f!=null&&(y=f[r])?(Qg(t,n,y,r,i),Ld(e)&&rN(n,e.index)):e.type&3?(r=nN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function rN(t,e){let n=es(e,t);n[Ft]&16||(n[Ft]|=64)}function _E(t,e,n,r){if(lS()){let i=r===null?null:{"":-1},o=cN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&wE(t,e,n,s,i,a),i&&uN(n,r,i)}n.mergedAttrs=Tu(n.mergedAttrs,n.attrs)}function wE(t,e,n,r,i,o){for(let f=0;f<r.length;f++)Fy(bd(n,e),t,r[f].type);fN(n,t.data.length,r.length);for(let f=0;f<r.length;f++){let y=r[f];y.providersResolver&&y.providersResolver(y)}let s=!1,a=!1,c=pE(t,e,r.length,null);for(let f=0;f<r.length;f++){let y=r[f];n.mergedAttrs=Tu(n.mergedAttrs,y.hostAttrs),dN(t,n,e,c,y),lN(c,y,i),y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let m=y.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}tN(t,n,o)}function iN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;oN(s)!=a&&s.push(a),s.push(n,r,o)}}function oN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ld(n)&&hN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bd(n,e),Ws(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],f=Ya(e,t,a,n);if(Ws(f,e),s!==null&&yN(e,a-i,f,c,n,s),Jo(c)){let y=es(n.index,e);y[Ir]=Ya(e,t,a,n)}}}function SE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_M();try{Hs(o);for(let a=r;a<i;a++){let c=t.data[a],f=e[a];Py(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&aN(c,f)}}finally{Hs(-1),Py(s)}}function aN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(U3(e,s.selectors,!1))if(r||(r=[]),Jo(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Gy(t,e,c)}else r.unshift(s),Gy(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new St(-301,!1);r.push(e[i],o)}}}function lN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jo(e)&&(n[""]=t)}}function fN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=qa(i.type,!0)),s=new zs(o,Jo(i),Pn);t.blueprint[r]=s,n[r]=s,iN(t,e,r,pE(t,n,i.hostVars,Pi),i)}function EE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function hN(t,e,n){let r=gi(e,t),i=bE(n),o=t[bo].rendererFactory,s=Yd(t,Kd(t,i,null,EE(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}function pN(t,e,n,r,i,o){let s=gi(t,e);mN(e[rr],s,o,t.value,n,r,i)}function mN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ua(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function yN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],f=s[a++],y=s[a++],m=s[a++];hE(r,n,c,f,y,m)}}function gN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function IE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function OE(t,e){let n=t.contentQueries;if(n!==null){let r=sn(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];vS(o),a.contentQueries(2,e[s],s)}}}finally{sn(r)}}}function Yd(t,e){return t[Au]?t[Y_][Ti]=e:t[Au]=e,t[Y_]=e,e}function Ky(t,e,n){vS(0);let r=sn(null);try{e(t,n)}finally{sn(r)}}function vN(t){return t[dd]??=[]}function bN(t){return t.cleanup??=[]}function DE(t,e){let n=t[Wa],r=n?n.get(Mi,null):null;r&&r.handleError(e)}function Qg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],f=e[s],y=t.data[s];hE(y,f,r,a,c,i)}}function AE(t,e,n){let r=aS(e,t);b3(t[rr],r,n)}function _N(t,e){let n=es(e,t),r=n[Jt];wN(r,n);let i=n[wo];i!==null&&n[Du]===null&&(n[Du]=Bg(i,n[Wa])),Yg(r,n,n[Ir])}function wN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Yg(t,e,n){Dg(e);try{let r=t.viewQuery;r!==null&&Ky(1,r,n);let i=t.template;i!==null&&mE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ka]?.finishViewCreation(t),t.staticContentQueries&&OE(t,e),t.staticViewQueries&&Ky(2,t.viewQuery,n);let o=t.components;o!==null&&SN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ft]&=-5,Ag()}}function SN(t,e){for(let n=0;n<e.length;n++)_N(t,e[n])}function Jd(t,e,n,r){let i=sn(null);try{let o=e.tView,a=t[Ft]&4096?4096:16,c=Kd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=t[e.index];c[Ga]=f;let y=t[Ka];return y!==null&&(c[Ka]=y.createEmbeddedView(o)),Yg(o,c,n),c}finally{sn(i)}}function TE(t,e){let n=Pr+e;if(n<t.length)return t[n]}function Cu(t,e){return!e||e.firstChild===null||qS(t)}function Zd(t,e,n,r=!0){let i=e[Jt];if(E3(i,e,t,n),r){let s=Wy(n,t),a=e[rr],c=sE(a,t[Us]);c!==null&&w3(i,t[Ni],a,e,c,s)}let o=e[Du];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xE(t,e){let n=xu(t,e);return n!==void 0&&Wd(n[Jt],n),n}function Id(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Gi(o)),So(o)&&EN(o,r);let s=n.type;if(s&8)Id(t,e,n.child,r);else if(s&32){let a=Ug(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=aE(e,n);if(Array.isArray(a))r.push(...a);else{let c=qs(e[xi]);Id(c[Jt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function EN(t,e){for(let n=Pr;n<t.length;n++){let r=t[n],i=r[Jt].firstChild;i!==null&&Id(r[Jt],r,i,e)}t[Us]!==t[wo]&&e.push(t[Us])}var CE=[];function IN(t){return t[ti]??ON(t)}function ON(t){let e=CE.pop()??Object.create(AN);return e.lView=t,e}function DN(t){t.lView[ti]!==t&&(t.lView=null,CE.push(t))}var AN=Mt(ke({},yu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bd(t.lView)},consumerOnSignalRead(){this.lView[ti]=this}});function TN(t){let e=t[ti]??Object.create(xN);return e.lView=t,e}var xN=Mt(ke({},yu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=qs(t.lView);for(;e&&!ME(e[Jt]);)e=qs(e);e&&Og(e)},consumerOnSignalRead(){this.lView[ti]=this}});function ME(t){return t.type!==2}function NE(t){if(t[hd]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[hd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Ft]&8192)}}var CN=100;function PE(t,e=!0,n=0){let i=t[bo].rendererFactory,o=!1;o||i.begin?.();try{MN(t,n)}catch(s){throw e&&DE(t,s),s}finally{o||i.end?.()}}function MN(t,e){let n=mS();try{Z_(!0),Qy(t,e);let r=0;for(;$d(t);){if(r===CN)throw new St(103,!1);r++,Qy(t,1)}}finally{Z_(n)}}function NN(t,e,n,r){let i=e[Ft];if((i&256)===256)return;let o=!1,s=!1;Dg(e);let a=!0,c=null,f=null;o||(ME(t)?(f=IN(e),c=wf(f)):u_()===null?(a=!1,f=TN(e),c=wf(f)):e[ti]&&(qm(e[ti]),e[ti]=null));try{cS(e),gM(t.bindingStartIndex),n!==null&&mE(t,e,n,2,r);let y=(i&3)===3;if(!o)if(y){let l=t.preOrderCheckHooks;l!==null&&id(e,l,null)}else{let l=t.preOrderHooks;l!==null&&od(e,l,0,null),dy(e,0)}if(s||PN(e),NE(e),kE(e,0),t.contentQueries!==null&&OE(t,e),!o)if(y){let l=t.contentCheckHooks;l!==null&&id(e,l)}else{let l=t.contentHooks;l!==null&&od(e,l,1),dy(e,1)}K3(t,e);let m=t.components;m!==null&&jE(e,m,0);let u=t.viewQuery;if(u!==null&&Ky(2,u,r),!o)if(y){let l=t.viewCheckHooks;l!==null&&id(e,l)}else{let l=t.viewHooks;l!==null&&od(e,l,2),dy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[fy]){for(let l of e[fy])l();e[fy]=null}o||(e[Ft]&=-73)}catch(y){throw o||Bd(e),y}finally{f!==null&&(Vm(f,c),a&&DN(f)),Ag()}}function kE(t,e){for(let n=WS(t);n!==null;n=GS(n))for(let r=Pr;r<n.length;r++){let i=n[r];RE(i,e)}}function PN(t){for(let e=WS(t);e!==null;e=GS(e)){if(!(e[Ft]&yd.HasTransplantedViews))continue;let n=e[md];for(let r=0;r<n.length;r++){let i=n[r];Og(i)}}}function kN(t,e,n){let r=es(e,t);RE(r,n)}function RE(t,e){Ig(t)&&Qy(t,e)}function Qy(t,e){let r=t[Jt],i=t[Ft],o=t[ti],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Um(o)),s||=!1,o&&(o.dirty=!1),t[Ft]&=-9217,s)NN(r,t,r.template,t[Ir]);else if(i&8192){NE(t),kE(t,1);let a=r.components;a!==null&&jE(t,a,1)}}function jE(t,e,n){for(let r=0;r<e.length;r++)kN(t,e[r],n)}function Jg(t,e){let n=mS()?64:1088;for(t[bo].changeDetectionScheduler?.notify(e);t;){t[Ft]|=n;let r=qs(t);if(xy(t)&&!r)return t;t=r}return null}var Gs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Jt];return Id(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ir]}get dirty(){return!!(this._lView[Ft]&9280)||!!this._lView[ti]?.dirty}set context(e){this._lView[Ir]=e}get destroyed(){return(this._lView[Ft]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rr];if(So(e)){let n=e[pd],r=n?n.indexOf(this):-1;r>-1&&(xu(e,r),ld(n,r))}this._attachedToViewContainer=!1}Wd(this._lView[Jt],this._lView)}onDestroy(e){uS(this._lView,e)}markForCheck(){Jg(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Og(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-129}reattach(){My(this._lView),this._lView[Ft]|=128}detectChanges(){this._lView[Ft]|=1024,PE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new St(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xy(this._lView),n=this._lView[Ga];n!==null&&!e&&qg(n,this._lView),rE(this._lView[Jt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new St(902,!1);this._appRef=e;let n=xy(this._lView),r=this._lView[Ga];r!==null&&!n&&iE(r,this._lView),My(this._lView)}},Zg=(()=>{class t{static __NG_ELEMENT_ID__=FN}return t})(),RN=Zg,jN=class extends RN{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Jd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Gs(i)}};function FN(){return LN(Fr(),bn())}function LN(t,e){return t.type&4?new jN(e,t,qd(t,e)):null}var Oz=new RegExp(`^(\\d+)*(${o3}|${i3})*(.*)`);var $N=()=>null;function Mu(t,e){return $N(t,e)}var Yy=class{},Od=class{},Jy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Nr(e)}.`)}},Za=class{static NULL=new Jy},Xa=class{},Zs=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>BN()}return t})();function BN(){let t=bn(),e=Fr(),n=es(e.index,t);return(Qo(n)?n:t)[rr]}var VN=(()=>{class t{static \u0275prov=Qe({token:t,providedIn:"root",factory:()=>null})}return t})();function Zy(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=H_(i,a);else if(o==2){let c=a,f=e[++s];r=H_(r,c+": "+f+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Dd=class extends Za{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yo(e);return new ec(n,this.ngModule)}};function gw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Zo.None;e?n.push({propName:s,templateName:r,isSignal:(a&Zo.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function UN(t){let e=t.toLowerCase();return e==="svg"?sS:e==="math"?iM:null}var ec=class extends Od{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=W3(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=sn(null);try{i=i||this.ngModule;let s=i instanceof kr?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ry(e,s):e,c=a.get(Xa,null);if(c===null)throw new St(407,!1);let f=a.get(VN,null),y=a.get(Ja,null),m={rendererFactory:c,sanitizer:f,changeDetectionScheduler:y},u=c.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=r?J3(u,r,this.componentDef.encapsulation,a):nE(u,l,UN(l)),d=512;this.componentDef.signals?d|=4096:this.componentDef.onPush||(d|=16);let p=null;h!==null&&(p=Bg(h,a,!0));let g=Gg(0,null,null,1,0,null,null,null,null,null,null),b=Kd(null,g,null,d,null,null,m,u,a,null,p);Dg(b);let v,_,S=null;try{let w=this.componentDef,D,x=null;w.findHostDirectiveDefs?(D=[],x=new Map,w.findHostDirectiveDefs(w,D,x),D.push(w)):D=[w];let M=qN(b,h);S=HN(M,h,w,D,b,m,u),_=Eg(g,Ci),h&&GN(u,w,h,r),n!==void 0&&KN(_,this.ngContentSelectors,n),v=WN(S,w,D,x,b,[QN]),Yg(g,b,null)}catch(w){throw S!==null&&qy(S),qy(b),w}finally{Ag()}return new Xy(this.componentType,v,qd(_,b),b,_)}finally{sn(o)}}},Xy=class extends Yy{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new Gs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Qg(o[Jt],o,i,e,n),this.previousInputValues.set(e,n);let s=es(this._tNode.index,o);Jg(s,1)}}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qN(t,e){let n=t[Jt],r=Ci;return t[r]=e,Qd(n,r,2,"#host",null)}function HN(t,e,n,r,i,o,s){let a=i[Jt];zN(r,t,e,s);let c=null;e!==null&&(c=Bg(e,i[Wa]));let f=o.rendererFactory.createRenderer(e,n),y=Kd(i,bE(n),null,EE(n),i[t.index],t,o,f,null,null,c);return a.firstCreatePass&&Gy(a,t,r.length-1),Yd(i,y),i[t.index]=y}function zN(t,e,n,r){for(let i of t)e.mergedAttrs=Tu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zy(e,e.mergedAttrs,!0),n!==null&&uE(r,n,e))}function WN(t,e,n,r,i,o){let s=Fr(),a=i[Jt],c=gi(s,i);wE(a,i,s,n,null,r);for(let y=0;y<n.length;y++){let m=s.directiveStart+y,u=Ya(i,a,m,s);Ws(u,i)}SE(a,i,s),c&&Ws(c,i);let f=Ya(i,a,s.directiveStart+s.componentOffset,s);if(t[Ir]=i[Ir]=f,o!==null)for(let y of o)y(f,e);return yE(a,s,i),f}function GN(t,e,n,r){if(r)ky(t,n,["ng-version","19.0.3"]);else{let{attrs:i,classes:o}=G3(e.selectors[0]);i&&ky(t,n,i),o&&o.length>0&&cE(t,n,o.join(" "))}}function KN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function QN(){let t=Fr();Cg(bn()[Jt],t)}var Lu=(()=>{class t{static __NG_ELEMENT_ID__=YN}return t})();function YN(){let t=Fr();return ZN(t,bn())}var JN=Lu,FE=class extends JN{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mg(this._hostTNode,this._hostLView);if(AS(e)){let n=vd(e,this._hostLView),r=gd(e),i=n[Jt].data[r+8];return new Vs(i,n)}else return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Mu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Cu(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!eM(e),a;if(s)a=n;else{let h=n||{};a=h.index,r=h.injector,i=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}let c=s?e:new ec(Yo(e)),f=r||this.parentInjector;if(!o&&c.ngModule==null){let d=(s?f:this.parentInjector).get(kr,null);d&&(o=d)}let y=Yo(c.componentType??{}),m=Mu(this._lContainer,y?.id??null),u=m?.firstChild??null,l=c.create(f,i,u,o);return this.insertImpl(l.hostView,a,Cu(this._hostTNode,m)),l}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Rr],f=new FE(c,c[Ni],c[Rr]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Zd(s,i,o,r),e.attachToViewContainerRef(),Uw(yy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xu(this._lContainer,n);r&&(ld(yy(this._lContainer),n),Wd(r[Jt],r))}detach(e){let n=this._adjustIndex(e,-1),r=xu(this._lContainer,n);return r&&ld(yy(this._lContainer),n)!=null?new Gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vw(t){return t[pd]}function yy(t){return t[pd]||(t[pd]=[])}function ZN(t,e){let n,r=e[t.index];return So(r)?n=r:(n=IE(r,e,null,t),e[t.index]=n,Yd(e,n)),e6(n,e,t,r),new FE(n,t,e)}function XN(t,e){let n=t[rr],r=n.createComment(""),i=gi(e,t),o=sE(n,i);return Ed(n,o,r,T3(n,i),!1),r}var e6=r6,t6=()=>!1;function n6(t,e,n){return t6(t,e,n)}function r6(t,e,n,r){if(t[Us])return;let i;n.type&8?i=Gi(r):i=XN(e,n),t[Us]=i}function i6(t){return typeof t=="function"&&t[Zr]!==void 0}function is(t,e){Eo("NgSignals");let n=b_(t),r=n[Zr];return e?.equal&&(r.equal=e.equal),n.set=i=>If(r,i),n.update=i=>__(r,i),n.asReadonly=o6.bind(n),n}function o6(){let t=this[Zr];if(t.readonlyFn===void 0){let e=()=>this();e[Zr]=t,t.readonlyFn=e}return t.readonlyFn}function LE(t){return i6(t)&&typeof t.set=="function"}var Xo=class{},Nu=class{};var eg=class extends Xo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Hw(e);this._bootstrapComponents=tE(o.bootstrap),this._r3Injector=jS(e,n,[{provide:Xo,useValue:this},{provide:Za,useValue:this.componentFactoryResolver},...r],Nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tg=class extends Nu{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new eg(this.moduleType,e,[])}};var Ad=class extends Xo{injector;componentFactoryResolver=new Dd(this);instance=null;constructor(e){super();let n=new Ou([...e.providers,{provide:Xo,useValue:this},{provide:Za,useValue:this.componentFactoryResolver}],e.parent||_g(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xd(t,e,n=null){return new Ad({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var s6=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Kw(!1,n.type),i=r.length>0?Xd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Qe({token:t,providedIn:"environment",factory:()=>new t(bt(kr))})}return t})();function yr(t){return ku(()=>{let e=$E(t),n=Mt(ke({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===HS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(s6).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ki.Emulated,styles:t.styles||yi,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Eo("NgStandalone"),BE(n);let r=t.dependencies;return n.directiveDefs=_w(r,!1),n.pipeDefs=_w(r,!0),n.id=u6(n),n})}function a6(t){return Yo(t)||zw(t)}function c6(t){return t!==null}function ii(t){return ku(()=>({type:t.type,bootstrap:t.bootstrap||yi,declarations:t.declarations||yi,imports:t.imports||yi,exports:t.exports||yi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bw(t,e){if(t==null)return Ha;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Zo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Zo.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Gr(t){return ku(()=>{let e=$E(t);return BE(e),e})}function $E(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ha,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||yi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bw(t.inputs,e),outputs:bw(t.outputs),debugInfo:null}}function BE(t){t.features?.forEach(e=>e(t))}function _w(t,e){if(!t)return null;let n=e?Ww:a6;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(c6)}function u6(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function l6(t){return Object.getPrototypeOf(t.prototype).constructor}function os(t){let e=l6(t.type),n=!0,r=[t];for(;e;){let i;if(Jo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new St(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ed(t.inputs),s.inputTransforms=ed(t.inputTransforms),s.declaredInputs=ed(t.declaredInputs),s.outputs=ed(t.outputs);let a=i.hostBindings;a&&m6(t,a);let c=i.viewQuery,f=i.contentQueries;if(c&&h6(t,c),f&&p6(t,f),f6(t,i),wC(t.outputs,i.outputs),Jo(i)&&i.data.animation){let y=t.data;y.animation=(y.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===os&&(n=!1)}}e=Object.getPrototypeOf(e)}d6(r)}function f6(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function d6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tu(i.hostAttrs,n=Tu(n,i.hostAttrs))}}function ed(t){return t===Ha?{}:t===yi?[]:t}function h6(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function p6(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function m6(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Xg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function VE(t,e,n){return t[e]=n}function Qi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function UE(t,e,n,r){let i=Qi(t,e,n);return Qi(t,e+1,r)||i}function y6(t){return(t.flags&32)===32}function g6(t,e,n,r,i,o,s,a,c){let f=e.consts,y=Qd(e,t,4,s||null,a||null);_E(e,n,y,Qa(f,c)),Cg(e,y);let m=y.tView=Gg(2,y,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,y),m.queries=e.queries.embeddedTView(y)),y}function ng(t,e,n,r,i,o,s,a,c,f){let y=n+Ci,m=e.firstCreatePass?g6(y,e,t,r,i,o,s,a,c):e.data[y];ju(m,!1);let u=v6(e,t,m,n);Tg()&&Hg(e,t,u,m),Ws(u,t);let l=IE(u,t,u,m);return t[y]=l,Yd(t,l),n6(l,m,t),Sg(m)&&gE(e,t,m),c!=null&&vE(t,m,f),m}function ac(t,e,n,r,i,o,s,a){let c=bn(),f=jr(),y=Qa(f.consts,o);return ng(c,f,t,e,n,r,i,y,s,a),ac}var v6=b6;function b6(t,e,n,r){return xg(!0),e[rr].createComment("")}var eh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var qE=new rt("");function Ji(t){return!!t&&typeof t.then=="function"}function HE(t){return!!t&&typeof t.subscribe=="function"}var cc=new rt("");var zE=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Se(cc,{optional:!0})??[];injector=Se(cr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=mr(this.injector,i);if(Ji(o))n.push(o);else if(HE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_6=(()=>{class t{static \u0275prov=Qe({token:t,providedIn:"root",factory:()=>new rg})}return t})(),rg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Xs=new rt("");function w6(){v_(()=>{throw new St(600,!1)})}function S6(t){return t.isBoundToModule}var E6=10;function I6(t,e,n){try{let r=n();return Ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ss=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Se(YM);afterRenderManager=Se(JS);zonelessEnabled=Se(Ud);rootEffectScheduler=Se(_6);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new jn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Se(ns).hasPendingTasks.pipe(Nt(n=>!n));constructor(){Se(Hd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Se(kr);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Od;if(!this._injector.get(zE).done){let u=!i&&Gw(n),l=!1;throw new St(405,l)}let s;i?s=n:s=this._injector.get(Za).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=S6(s)?void 0:this._injector.get(Xo),c=r||s.selector,f=s.create(cr.NULL,[],c,a),y=f.location.nativeElement,m=f.injector.get(qE,null);return m?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),sd(this.components,f),m?.unregisterApplication(y)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Lg.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new St(101,!1);let n=sn(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,sn(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<E6;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)O6(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$d(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;sd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Xs,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new St(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function O6(t,e,n,r){if(!n&&!$d(t))return;PE(t,e,n&&!r?0:1)}function th(t,e,n,r){let i=bn(),o=oc();if(Qi(i,o,e)){let s=jr(),a=Vd();pN(a,i,t,e,n,r)}return th}function WE(t,e,n,r){return Qi(t,oc(),n)?e+Ua(n)+r:Pi}function D6(t,e,n,r,i,o){let s=yM(),a=UE(t,s,n,i);return gS(2),a?e+Ua(n)+r+Ua(i)+o:Pi}function td(t,e){return t<<17|e<<2}function Ks(t){return t>>17&32767}function A6(t){return(t&2)==2}function T6(t,e){return t&131071|e<<17}function ig(t){return t|2}function tc(t){return(t&131068)>>2}function gy(t,e){return t&-131069|e<<2}function x6(t){return(t&1)===1}function og(t){return t|1}function C6(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ks(s),c=tc(s);t[r]=n;let f=!1,y;if(Array.isArray(n)){let m=n;y=m[1],(y===null||Ru(m,y)>0)&&(f=!0)}else y=n;if(i)if(c!==0){let u=Ks(t[a+1]);t[r+1]=td(u,a),u!==0&&(t[u+1]=gy(t[u+1],r)),t[a+1]=T6(t[a+1],r)}else t[r+1]=td(a,0),a!==0&&(t[a+1]=gy(t[a+1],r)),a=r;else t[r+1]=td(c,0),a===0?a=r:t[c+1]=gy(t[c+1],r),c=r;f&&(t[r+1]=ig(t[r+1])),ww(t,y,r,!0),ww(t,y,r,!1),M6(e,y,t,r,o),s=td(a,c),o?e.classBindings=s:e.styleBindings=s}function M6(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ru(o,e)>=0&&(n[r+1]=og(n[r+1]))}function ww(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ks(i):tc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],f=t[s+1];N6(c,e)&&(a=!0,t[s+1]=r?og(f):ig(f)),s=r?Ks(f):tc(f)}a&&(t[n+1]=r?ig(i):og(i))}function N6(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ru(t,e)>=0:!1}function gr(t,e,n){let r=bn(),i=oc();if(Qi(r,i,e)){let o=jr(),s=Vd();Kg(o,s,r,t,e,r[rr],n,!1)}return gr}function Sw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Qg(t,n,o[s],s,r)}function nh(t,e){return P6(t,e,null,!0),nh}function P6(t,e,n,r){let i=bn(),o=jr(),s=gS(2);if(o.firstUpdatePass&&R6(o,t,s,r),e!==Pi&&Qi(i,s,e)){let a=o.data[ts()];B6(o,a,i,i[rr],t,i[s+1]=V6(e,n),r,s)}}function k6(t,e){return e>=t.expandoStartIndex}function R6(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ts()],s=k6(t,n);U6(o,r)&&e===null&&!s&&(e=!1),e=j6(i,o,e,r),C6(i,o,e,n,s,r)}}function j6(t,e,n,r){let i=wM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vy(null,t,e,n,r),n=Pu(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=vy(i,t,e,n,r),o===null){let c=F6(t,e,r);c!==void 0&&Array.isArray(c)&&(c=vy(null,t,e,c[1],r),c=Pu(c,e.attrs,r),L6(t,e,r,c))}else o=$6(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function F6(t,e,n){let r=n?e.classBindings:e.styleBindings;if(tc(r)!==0)return t[Ks(r)]}function L6(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ks(i)]=r}function $6(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Pu(r,s,n)}return Pu(r,e.attrs,n)}function vy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Pu(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Pu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),VC(t,s,n?!0:e[++o]))}return t===void 0?null:t}function B6(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,f=c[a+1],y=x6(f)?Ew(c,e,n,i,tc(f),s):void 0;if(!Td(y)){Td(o)||A6(f)&&(o=Ew(c,null,n,i,a,s));let m=aS(ts(),n);R3(r,s,m,i,o)}}function Ew(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],f=Array.isArray(c),y=f?c[1]:c,m=y===null,u=n[i+1];u===Pi&&(u=m?yi:void 0);let l=m?uy(u,r):y===r?u:void 0;if(f&&!Td(l)&&(l=uy(c,r)),Td(l)&&(a=l,s))return a;let h=t[i+1];i=s?Ks(h):tc(h)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=uy(c,r))}return a}function Td(t){return t!==void 0}function V6(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nr(Fu(t)))),t}function U6(t,e){return(t.flags&(e?8:16))!==0}var sg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function by(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function q6(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let f=t.at(o),y=e[o],m=by(o,f,o,y,n);if(m!==0){m<0&&t.updateValue(o,y),o++;continue}let u=t.at(s),l=e[c],h=by(s,u,c,l,n);if(h!==0){h<0&&t.updateValue(s,l),s--,c--;continue}let d=n(o,f),p=n(s,u),g=n(o,y);if(Object.is(g,p)){let b=n(c,l);Object.is(b,d)?(t.swap(o,s),t.updateValue(s,l),c--,s--):t.move(s,o),t.updateValue(o,y),o++;continue}if(r??=new xd,i??=Ow(t,o,s,n),ag(t,r,o,g))t.updateValue(o,y),o++,s++;else if(i.has(g))r.set(d,t.detach(o)),s--;else{let b=t.create(o,e[o]);t.attach(o,b),o++,s++}}for(;o<=c;)Iw(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),f=c.next();for(;!f.done&&o<=s;){let y=t.at(o),m=f.value,u=by(o,y,o,m,n);if(u!==0)u<0&&t.updateValue(o,m),o++,f=c.next();else{r??=new xd,i??=Ow(t,o,s,n);let l=n(o,m);if(ag(t,r,o,l))t.updateValue(o,m),o++,s++,f=c.next();else if(!i.has(l))t.attach(o,t.create(o,m)),o++,s++,f=c.next();else{let h=n(o,y);r.set(h,t.detach(o)),s--}}}for(;!f.done;)Iw(t,r,n,t.length,f.value),f=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function ag(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Iw(t,e,n,r,i){if(ag(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Ow(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var xd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function GE(t,e){Eo("NgControlFlow");let n=bn(),r=oc(),i=n[r]!==Pi?n[r]:-1,o=i!==-1?Cd(n,Ci+i):void 0,s=0;if(Qi(n,r,t)){let a=sn(null);try{if(o!==void 0&&xE(o,s),t!==-1){let c=Ci+t,f=Cd(n,c),y=fg(n[Jt],c),m=Mu(f,y.tView.ssrId),u=Jd(n,y,e,{dehydratedView:m});Zd(f,u,s,Cu(y,m))}}finally{sn(a)}}else if(o!==void 0){let a=TE(o,s);a!==void 0&&(a[Ir]=e)}}var cg=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Pr}};function uc(t,e){return e}var ug=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function lc(t,e,n,r,i,o,s,a,c,f,y,m,u){Eo("NgControlFlow");let l=bn(),h=jr(),d=c!==void 0,p=bn(),g=a?s.bind(p[xi][Ir]):s,b=new ug(d,g);p[Ci+t]=b,ng(l,h,t+1,e,n,r,i,Qa(h.consts,o)),d&&ng(l,h,t+2,c,f,y,m,Qa(h.consts,u))}var lg=class extends sg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Pr}at(e){return this.getLView(e)[Ir].$implicit}attach(e,n){let r=n[Du];this.needsIndexUpdate||=e!==this.length,Zd(this.lContainer,n,e,Cu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,H6(this.lContainer,e)}create(e,n){let r=Mu(this.lContainer,this.templateTNode.tView.ssrId),i=Jd(this.hostLView,this.templateTNode,new cg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Wd(e[Jt],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ir].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ir].$index=e}getLView(e){return z6(this.lContainer,e)}};function fc(t){let e=sn(null),n=ts();try{let r=bn(),i=r[Jt],o=r[n],s=n+1,a=Cd(r,s);if(o.liveCollection===void 0){let f=fg(i,s);o.liveCollection=new lg(a,r,f)}else o.liveCollection.reset();let c=o.liveCollection;if(q6(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let f=oc(),y=c.length===0;if(Qi(r,f,y)){let m=n+2,u=Cd(r,m);if(y){let l=fg(i,m),h=Mu(u,l.tView.ssrId),d=Jd(r,l,void 0,{dehydratedView:h});Zd(u,d,0,Cu(l,h))}else xE(u,0)}}}finally{sn(e)}}function Cd(t,e){return t[e]}function H6(t,e){return xu(t,e)}function z6(t,e){return TE(t,e)}function fg(t,e){return Eg(t,e)}function W6(t,e,n,r,i,o){let s=e.consts,a=Qa(s,i),c=Qd(e,t,2,r,a);return _E(e,n,c,Qa(s,o)),c.attrs!==null&&Zy(c,c.attrs,!1),c.mergedAttrs!==null&&Zy(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Pt(t,e,n,r){let i=bn(),o=jr(),s=Ci+t,a=i[rr],c=o.firstCreatePass?W6(s,o,i,e,n,r):o.data[s],f=G6(o,i,c,a,e,t);i[s]=f;let y=Sg(c);return ju(c,!0),uE(a,f,c),!y6(c)&&Tg()&&Hg(o,i,f,c),cM()===0&&Ws(f,i),uM(),y&&(gE(o,i,c),yE(o,c,i)),r!==null&&vE(i,c),Pt}function Xt(){let t=Fr();pS()?mM():(t=t.parent,ju(t,!1));let e=t;dM(e)&&hM(),lM();let n=jr();return n.firstCreatePass&&(Cg(n,t),tS(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&xM(e)&&Sw(n,e,bn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CM(e)&&Sw(n,e,bn(),e.stylesWithoutHost,!1),Xt}function Wn(t,e,n,r){return Pt(t,e,n,r),Xt(),Wn}var G6=(t,e,n,r,i,o)=>(xg(!0),nE(r,i,OM()));function KE(){return bn()}var Md="en-US";var K6=Md;function Q6(t){typeof t=="string"&&(K6=t.toLowerCase().replace(/_/g,"-"))}var Y6=(t,e,n)=>{};function br(t,e,n,r){let i=bn(),o=jr(),s=Fr();return QE(o,i,i[rr],s,t,e,r),br}function J6(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[dd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function QE(t,e,n,r,i,o,s){let a=Sg(r),f=t.firstCreatePass&&bN(t),y=e[Ir],m=vN(e),u=!0;if(r.type&3||s){let d=gi(r,e),p=s?s(d):d,g=m.length,b=s?_=>s(Gi(_[r.index])):r.index,v=null;if(!s&&a&&(v=J6(t,e,i,r.index)),v!==null){let _=v.__ngLastListenerFn__||v;_.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,u=!1}else{o=Aw(r,e,y,o),Y6(d,i,o);let _=n.listen(p,i,o);m.push(o,_),f&&f.push(i,b,g,g+1)}}else o=Aw(r,e,y,o);let l=r.outputs,h;if(u&&l!==null&&(h=l[i])){let d=h.length;if(d)for(let p=0;p<d;p+=2){let g=h[p],b=h[p+1],S=e[g][b].subscribe(o),w=m.length;m.push(o,S),f&&f.push(i,r.index,w,-(w+1))}}}function Dw(t,e,n,r){let i=sn(null);try{return Hi(6,e,n),n(r)!==!1}catch(o){return DE(t,o),!1}finally{Hi(7,e,n),sn(i)}}function Aw(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?es(t.index,e):e;Jg(s,5);let a=Dw(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Dw(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function as(t=1){return EM(t)}function $u(t,e,n,r,i){let o=bn(),s=WE(o,e,n,r);if(s!==Pi){let a=jr(),c=Vd();Kg(a,c,o,t,s,o[rr],i,!1)}return $u}function Kn(t,e=""){let n=bn(),r=jr(),i=t+Ci,o=r.firstCreatePass?Qd(r,i,1,e,null):r.data[i],s=Z6(r,n,o,e,t);n[i]=s,Tg()&&Hg(r,n,s,o),ju(o,!1)}var Z6=(t,e,n,r,i)=>(xg(!0),v3(e[rr],r));function dc(t,e,n){let r=bn(),i=WE(r,t,e,n);return i!==Pi&&AE(r,ts(),i),dc}function ea(t,e,n,r,i){let o=bn(),s=D6(o,t,e,n,r,i);return s!==Pi&&AE(o,ts(),s),ea}function ev(t,e,n){LE(e)&&(e=e());let r=bn(),i=oc();if(Qi(r,i,e)){let o=jr(),s=Vd();Kg(o,s,r,t,e,r[rr],n,!1)}return ev}function YE(t,e){let n=LE(t);return n&&t.set(e),n}function tv(t,e){let n=bn(),r=jr(),i=Fr();return QE(r,n,n[rr],i,t,e),tv}function X6(t,e,n){let r=jr();if(r.firstCreatePass){let i=Jo(t);dg(n,r.data,r.blueprint,i,!0),dg(e,r.data,r.blueprint,i,!1)}}function dg(t,e,n,r,i){if(t=Mr(t),Array.isArray(t))for(let o=0;o<t.length;o++)dg(t[o],e,n,r,i);else{let o=jr(),s=bn(),a=Fr(),c=za(t)?t:Mr(t.provide),f=Jw(t),y=a.providerIndexes&1048575,m=a.directiveStart,u=a.providerIndexes>>20;if(za(t)||!t.multi){let l=new zs(f,i,Pn),h=wy(c,e,i?y:y+u,m);h===-1?(Fy(bd(a,s),o,c),_y(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(l),s.push(l)):(n[h]=l,s[h]=l)}else{let l=wy(c,e,y+u,m),h=wy(c,e,y,y+u),d=l>=0&&n[l],p=h>=0&&n[h];if(i&&!p||!i&&!d){Fy(bd(a,s),o,c);let g=n8(i?t8:e8,n.length,i,r,f);!i&&p&&(n[h].providerFactory=g),_y(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)}else{let g=JE(n[i?h:l],f,!i&&r);_y(o,t,l>-1?l:h,g)}!i&&r&&p&&n[h].componentProviders++}}}function _y(t,e,n,r){let i=za(e),o=GC(e);if(i||o){let c=(o?Mr(e.useClass):e).prototype.ngOnDestroy;if(c){let f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let y=f.indexOf(n);y===-1?f.push(n,[r,c]):f[y+1].push(r,c)}else f.push(n,c)}}}function JE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function e8(t,e,n,r){return hg(this.multi,[])}function t8(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ya(n,n[Jt],this.providerFactory.index,r);o=a.slice(0,s),hg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],hg(i,o);return o}function hg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function n8(t,e,n,r,i){let o=new zs(t,n,Pn);return o.multi=[],o.index=e,o.componentProviders=0,JE(o,i,r&&!n),o}function rh(t,e=[]){return n=>{n.providersResolver=(r,i)=>X6(r,i?i(t):t,e)}}function ZE(t,e,n,r){return r8(bn(),yS(),t,e,n,r)}function XE(t,e,n,r,i){return i8(bn(),yS(),t,e,n,r,i)}function eI(t,e){let n=t[e];return n===Pi?void 0:n}function r8(t,e,n,r,i,o){let s=e+n;return Qi(t,s,i)?VE(t,s+1,o?r.call(o,i):r(i)):eI(t,s+1)}function i8(t,e,n,r,i,o,s){let a=e+n;return UE(t,a,i,o)?VE(t,a+2,s?r.call(s,i,o):r(i,o)):eI(t,a+2)}var pg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ih=(()=>{class t{compileModuleSync(n){return new tg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Hw(n),o=tE(i.declarations).reduce((s,a)=>{let c=Yo(a);return c&&s.push(new ec(c)),s},[]);return new pg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var o8=(()=>{class t{zone=Se(yn);changeDetectionScheduler=Se(Ja);applicationRef=Se(ss);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s8=new rt("",{factory:()=>!1});function tI({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new yn(Mt(ke({},rI()),{scheduleInRootZone:n})),[{provide:yn,useFactory:t},{provide:Wi,multi:!0,useFactory:()=>{let r=Se(o8,{optional:!0});return()=>r.initialize()}},{provide:Wi,multi:!0,useFactory:()=>{let r=Se(a8);return()=>{r.initialize()}}},e===!0?{provide:LS,useValue:!0}:[],{provide:$S,useValue:n??FS}]}function nI(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=tI({ngZoneFactory:()=>{let i=rI(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Eo("NgZone_CoalesceEvent"),new yn(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ri([{provide:s8,useValue:!0},{provide:Ud,useValue:!1},r])}function rI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var a8=(()=>{class t{subscription=new Zn;initialized=!1;zone=Se(yn);pendingTasks=Se(ns);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var c8=(()=>{class t{appRef=Se(ss);taskService=Se(ns);ngZone=Se(yn);zonelessEnabled=Se(Ud);tracing=Se(Hd,{optional:!0});disableScheduling=Se(LS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Zn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Se($S,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uy||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ow:BS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ow(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u8(){return typeof $localize<"u"&&$localize.locale||Md}var nv=new rt("",{providedIn:"root",factory:()=>Se(nv,nn.Optional|nn.SkipSelf)||u8()});var mg=new rt("");function nd(t){return!t.moduleRef}function l8(t){let e=nd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(yn);return n.run(()=>{nd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mi,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),nd(t)){let o=()=>e.destroy(),s=t.platformInjector.get(mg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(mg);s.add(o),t.moduleRef.onDestroy(()=>{sd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return I6(r,n,()=>{let o=e.get(zE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(nv,Md);if(Q6(s||Md),nd(t)){let a=e.get(ss);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return f8(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function f8(t,e){let n=t.injector.get(ss);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new St(-403,!1);e.push(t)}var ad=null;function d8(t=[],e){return cr.create({name:e,providers:[{provide:jd,useValue:"platform"},{provide:mg,useValue:new Set([()=>ad=null])},...t]})}function h8(t=[]){if(ad)return ad;let e=d8(t);return ad=e,w6(),p8(e),e}function p8(t){let e=t.get(jg,null);mr(t,()=>{e?.forEach(n=>n())})}var ta=(()=>{class t{static __NG_ELEMENT_ID__=m8}return t})();function m8(t){return y8(Fr(),bn(),(t&16)===16)}function y8(t,e,n){if(Ld(t)&&!n){let r=es(t.index,e);return new Gs(r,r)}else if(t.type&175){let r=e[xi];return new Gs(r,e)}return null}function iI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=h8(r),o=[tI({}),{provide:Ja,useExisting:c8},...n||[]],s=new Ad({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return l8({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function na(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Io(t,e){Eo("NgSignals");let n=m_(t);return e?.equal&&(n[Zr].equal=e.equal),n}function vi(t){let e=sn(null);try{return t()}finally{sn(e)}}var Tw=class{[Zr];constructor(e){this[Zr]=e}destroy(){this[Zr].destroy()}};function oI(t){let e=Yo(t);if(!e)return null;let n=new ec(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uI=null;function Do(){return uI}function lI(t){uI??=t}var oh=class{};var Or=new rt(""),av=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>Se(g8),providedIn:"platform"})}return t})(),fI=new rt(""),g8=(()=>{class t extends av{_location;_history;_doc=Se(Or);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Do().getBaseHref(this._doc)}onPopState(n){let r=Do().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Do().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function cv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Oo(t){return t&&t[0]!=="?"?"?"+t:t}var Ao=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>Se(uv),providedIn:"root"})}return t})(),dI=new rt(""),uv=(()=>{class t extends Ao{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Se(Or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Oo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(bt(av),bt(dI,8))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hI=(()=>{class t extends Ao{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=cv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(bt(av),bt(dI,8))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),cs=(()=>{class t{_subject=new jn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_8(sI(aI(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Oo(r))}normalize(n){return t.stripTrailingSlash(b8(this._basePath,aI(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Oo;static joinWithSlash=cv;static stripTrailingSlash=sI;static \u0275fac=function(r){return new(r||t)(bt(Ao))};static \u0275prov=Qe({token:t,factory:()=>v8(),providedIn:"root"})}return t})();function v8(){return new cs(bt(Ao))}function b8(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function aI(t){return t.replace(/\/index.html$/,"")}function _8(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function sh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var pI=(()=>{class t{_viewContainer;_context=new rv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Pn(Lu),Pn(Zg))};static \u0275dir=Gr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),rv=class{$implicit=null;ngIf=null};function cI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Nr(e)}'.`)}var ra=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=ni({})}return t})(),lv="browser",w8="server";function mI(t){return t===lv}function To(t){return t===w8}var yI=(()=>{class t{static \u0275prov=Qe({token:t,providedIn:"root",factory:()=>mI(Se(Wr))?new iv(Se(Or),window):new ov})}return t})(),iv=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=S8(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function S8(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ov=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hc=class{};var Vu=class{},ch=class{},bi=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var hv=class{encodeKey(e){return gI(e)}encodeValue(e){return gI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function E8(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var I8=/%(\d[a-f0-9])/gi,O8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gI(t){return encodeURIComponent(t).replace(I8,(e,n)=>O8[n]??e)}function ah(t){return`${t}`}var ls=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new hv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=E8(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ah):[ah(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ah(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ah(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var pv=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function D8(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function bI(t){return typeof Blob<"u"&&t instanceof Blob}function _I(t){return typeof FormData<"u"&&t instanceof FormData}function A8(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Bu=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(D8(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new bi,this.context??=new pv,!this.params)this.params=new ls,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vI(this.body)||bI(this.body)||_I(this.body)||A8(this.body)?this.body:this.body instanceof ls?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_I(this.body)?null:bI(this.body)?this.body.type||null:vI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ls?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,f=e.headers||this.headers,y=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((u,l)=>u.set(l,e.setHeaders[l]),f)),e.setParams&&(y=Object.keys(e.setParams).reduce((u,l)=>u.set(l,e.setParams[l]),y)),new t(n,r,s,{params:y,headers:f,context:m,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},fs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fs||{}),Uu=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new bi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},uh=class t extends Uu{constructor(e={}){super(e)}type=fs.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qu=class t extends Uu{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=fs.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},us=class extends Uu{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},II=200,T8=204;function dv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var gv=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Bu)o=n;else{let c;i.headers instanceof bi?c=i.headers:c=new bi(i.headers);let f;i.params&&(i.params instanceof ls?f=i.params:f=new ls({fromObject:i.params})),o=new Bu(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Dt(o).pipe(yo(c=>this.handler.handle(c)));if(n instanceof Bu||i.observe==="events")return s;let a=s.pipe(Jn(c=>c instanceof qu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Nt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Nt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Nt(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Nt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ls().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,dv(i,r))}post(n,r,i={}){return this.request("POST",n,dv(i,r))}put(n,r,i={}){return this.request("PUT",n,dv(i,r))}static \u0275fac=function(r){return new(r||t)(bt(Vu))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),x8=/^\)\]\}',?\n/,C8="X-Request-URL";function wI(t){if(t.url)return t.url;let e=C8.toLocaleLowerCase();return t.headers.get(e)}var M8=(()=>{class t{fetchImpl=Se(mv,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=Se(yn);handle(n){return new $t(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(yv,o=>r.error(new us({error:o}))),()=>i.abort()})}doRequest(n,r,i){return Me(this,null,function*(){let o=this.createRequestInit(n),s;try{let l=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,ke({signal:r},o)));N8(l),i.next({type:fs.Sent}),s=yield l}catch(l){i.error(new us({error:l,status:l.status??0,statusText:l.statusText,url:n.urlWithParams,headers:l.headers}));return}let a=new bi(s.headers),c=s.statusText,f=wI(s)??n.urlWithParams,y=s.status,m=null;if(n.reportProgress&&i.next(new uh({headers:a,status:y,statusText:c,url:f})),s.body){let l=s.headers.get("content-length"),h=[],d=s.body.getReader(),p=0,g,b,v=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Me(this,null,function*(){for(;;){let{done:S,value:w}=yield d.read();if(S)break;if(h.push(w),p+=w.length,n.reportProgress){b=n.responseType==="text"?(b??"")+(g??=new TextDecoder).decode(w,{stream:!0}):void 0;let D=()=>i.next({type:fs.DownloadProgress,total:l?+l:void 0,loaded:p,partialText:b});v?v.run(D):D()}}}));let _=this.concatChunks(h,p);try{let S=s.headers.get("Content-Type")??"";m=this.parseBody(n,_,S)}catch(S){i.error(new us({error:S,headers:new bi(s.headers),status:s.status,statusText:s.statusText,url:wI(s)??n.urlWithParams}));return}}y===0&&(y=m?II:0),y>=200&&y<300?(i.next(new qu({body:m,headers:a,status:y,statusText:c,url:f})),i.complete()):i.error(new us({error:m,headers:a,status:y,statusText:c,url:f}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(x8,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),mv=class{};function yv(){}function N8(t){t.then(yv,yv)}function P8(t,e){return e(t)}function k8(t,e,n){return(r,i)=>mr(n,()=>e(r,o=>t(o,i)))}var vv=new rt(""),R8=new rt(""),j8=new rt("",{providedIn:"root",factory:()=>!0});var SI=(()=>{class t extends Vu{backend;injector;chain=null;pendingTasks=Se(ns);contributeToStability=Se(j8);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(vv),...this.injector.get(R8,[])]));this.chain=r.reduceRight((i,o)=>k8(i,o,this.injector),P8)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(qi(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(bt(ch),bt(kr))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();var F8=/^\)\]\}',?\n/;function L8(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var EI=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new St(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?On(r.\u0275loadImpl()):Dt(null)).pipe(zr(()=>new $t(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((d,p)=>s.setRequestHeader(d,p.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let d=n.detectContentTypeHeader();d!==null&&s.setRequestHeader("Content-Type",d)}if(n.responseType){let d=n.responseType.toLowerCase();s.responseType=d!=="json"?d:"text"}let a=n.serializeBody(),c=null,f=()=>{if(c!==null)return c;let d=s.statusText||"OK",p=new bi(s.getAllResponseHeaders()),g=L8(s)||n.url;return c=new uh({headers:p,status:s.status,statusText:d,url:g}),c},y=()=>{let{headers:d,status:p,statusText:g,url:b}=f(),v=null;p!==T8&&(v=typeof s.response>"u"?s.responseText:s.response),p===0&&(p=v?II:0);let _=p>=200&&p<300;if(n.responseType==="json"&&typeof v=="string"){let S=v;v=v.replace(F8,"");try{v=v!==""?JSON.parse(v):null}catch(w){v=S,_&&(_=!1,v={error:w,text:v})}}_?(o.next(new qu({body:v,headers:d,status:p,statusText:g,url:b||void 0})),o.complete()):o.error(new us({error:v,headers:d,status:p,statusText:g,url:b||void 0}))},m=d=>{let{url:p}=f(),g=new us({error:d,status:s.status||0,statusText:s.statusText||"Unknown Error",url:p||void 0});o.error(g)},u=!1,l=d=>{u||(o.next(f()),u=!0);let p={type:fs.DownloadProgress,loaded:d.loaded};d.lengthComputable&&(p.total=d.total),n.responseType==="text"&&s.responseText&&(p.partialText=s.responseText),o.next(p)},h=d=>{let p={type:fs.UploadProgress,loaded:d.loaded};d.lengthComputable&&(p.total=d.total),o.next(p)};return s.addEventListener("load",y),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),n.reportProgress&&(s.addEventListener("progress",l),a!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(a),o.next({type:fs.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",y),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",l),a!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(bt(hc))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),OI=new rt(""),$8="XSRF-TOKEN",B8=new rt("",{providedIn:"root",factory:()=>$8}),V8="X-XSRF-TOKEN",U8=new rt("",{providedIn:"root",factory:()=>V8}),lh=class{},q8=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=sh(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(bt(Or),bt(Wr),bt(B8))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();function H8(t,e){let n=t.url.toLowerCase();if(!Se(OI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=Se(lh).getToken(),i=Se(U8);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var DI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(DI||{});function z8(t,e){return{\u0275kind:t,\u0275providers:e}}function AI(...t){let e=[gv,EI,SI,{provide:Vu,useExisting:SI},{provide:ch,useFactory:()=>Se(M8,{optional:!0})??Se(EI)},{provide:vv,useValue:H8,multi:!0},{provide:OI,useValue:!0},{provide:lh,useClass:q8}];for(let n of t)e.push(...n.\u0275providers);return ri(e)}function TI(t){return z8(DI.Interceptors,t.map(e=>({provide:vv,useValue:e,multi:!0})))}var _v=class extends oh{supportsDOMEvents=!0},wv=class t extends _v{static makeCurrent(){lI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=G8();return n==null?null:K8(n)}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sh(document.cookie,e)}},Hu=null;function G8(){return Hu=Hu||document.querySelector("base"),Hu?Hu.getAttribute("href"):null}function K8(t){return new URL(t,document.baseURI).pathname}var Q8=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),Sv=new rt(""),kI=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new St(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(bt(Sv),bt(yn))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),fh=class{_doc;constructor(e){this._doc=e}manager},Ev="ng-app-id";function xI(t){for(let e of t)e.remove()}function CI(t,e){let n=e.createElement("style");return n.textContent=t,n}function Y8(t,e,n){let r=t.head?.querySelectorAll(`style[${Ev}="${e}"]`);if(r)for(let i of r)i.textContent&&(i.removeAttribute(Ev),n.set(i.textContent,{usage:0,elements:[i]}))}function Iv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var RI=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=To(o),Y8(n,r,this.inline),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,CI);r?.forEach(i=>this.addUsage(i,this.external,Iv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(xI(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])xI(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,CI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Iv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ev,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(bt(Or),bt(Rg),bt(Fg,8),bt(Wr))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),bv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dv=/%COMP%/g,jI="%COMP%",J8=`_nghost-${jI}`,Z8=`_ngcontent-${jI}`,X8=!0,eP=new rt("",{providedIn:"root",factory:()=>X8});function tP(t){return Z8.replace(Dv,t)}function nP(t){return J8.replace(Dv,t)}function FI(t,e){return e.map(n=>n.replace(Dv,t))}var MI=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=f,this.platformIsServer=To(a),this.defaultRenderer=new zu(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ki.ShadowDom&&(r=Mt(ke({},r),{encapsulation:Ki.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof dh?i.applyToHost(n):i instanceof Wu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Ki.Emulated:o=new dh(c,f,r,this.appId,y,s,a,m);break;case Ki.ShadowDom:return new Ov(c,f,n,r,s,a,this.nonce,m);default:o=new Wu(c,f,r,y,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)(bt(kI),bt(RI),bt(Rg),bt(eP),bt(Or),bt(Wr),bt(yn),bt(Fg))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),zu=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(bv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new St(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=bv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_o.DashCase|_o.Important)?e.style.setProperty(n,r,i&_o.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_o.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Do().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function NI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ov=class extends zu{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=FI(i.id,i.styles);for(let m of f){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=m,this.shadowRoot.appendChild(u)}let y=i.getExternalStyles?.();if(y)for(let m of y){let u=Iv(m,o);a&&u.setAttribute("nonce",a),this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wu=class extends zu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?FI(c,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dh=class extends Wu{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c){let f=i+"-"+r.id;super(e,n,r,o,s,a,c,f),this.contentAttr=tP(f),this.hostAttr=nP(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},rP=(()=>{class t extends fh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(bt(Or))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})(),PI=["alt","control","meta","shift"],iP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sP=(()=>{class t extends fh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Do().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PI.forEach(f=>{let y=r.indexOf(f);y>-1&&(r.splice(y,1),s+=f+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=iP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PI.forEach(s=>{if(s!==i){let a=oP[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(bt(Or))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();function LI(t,e){return iI(ke({rootComponent:t},aP(e)))}function aP(t){return{appProviders:[...dP,...t?.providers??[]],platformProviders:fP}}function cP(){wv.makeCurrent()}function uP(){return new Mi}function lP(){return QS(document),document}var fP=[{provide:Wr,useValue:lv},{provide:jg,useValue:cP,multi:!0},{provide:Or,useFactory:lP,deps:[]}];var dP=[{provide:jd,useValue:"root"},{provide:Mi,useFactory:uP,deps:[]},{provide:Sv,useClass:rP,multi:!0,deps:[Or,yn,Wr]},{provide:Sv,useClass:sP,multi:!0,deps:[Or]},MI,RI,kI,{provide:Xa,useExisting:MI},{provide:hc,useClass:Q8,deps:[]},[]];var $I=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(bt(Or))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Av=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},pP=function(){function t(e){var n=e.debug,r=n===void 0?!1:n;this.debug=r,this.lines=[]}return t.prototype.emit=function(e,n){if(e in console){var r=t.prefix;console[e].apply(console,Av([r],n,!1))}},t.prototype.tailLogs=function(){var e=this;this.lines.forEach(function(n){var r=n[0],i=n[1];return e.emit(r,i)})},t.prototype.getLogs=function(){return this.lines},t.prototype.write=function(e,n){var r=t.buffer;this.lines=Av(Av([],this.lines.slice(1-r),!0),[[e,n]],!1),(this.debug||e!=="log")&&this.emit(e,n)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.write("log",e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.write("warn",e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.write("error",e)},t.buffer=30,t.prefix="[apollo-cache-persist]",t}(),BI=pP;var mP=function(){function t(e){var n=e.cache,r=e.serialize,i=r===void 0?!0:r;this.cache=n,this.serialize=i}return t.prototype.extract=function(){var e=this.cache.extract();return this.serialize&&(e=JSON.stringify(e)),e},t.prototype.restore=function(e){this.serialize&&typeof e=="string"&&(e=JSON.parse(e)),e!=null&&this.cache.restore(e)},t}(),VI=mP;var hh=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(y){try{f(r.next(y))}catch(m){s(m)}}function c(y){try{f(r.throw(y))}catch(m){s(m)}}function f(y){y.done?o(y.value):i(y.value).then(a,c)}f((r=r.apply(t,e||[])).next())})},ph=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(y){return c([f,y])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(y){f=[6,y],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},yP=function(){function t(e){var n=e.storage,r=e.key,i=r===void 0?"apollo-cache-persist":r;this.storage=n,this.key=i}return t.prototype.read=function(){return hh(this,void 0,void 0,function(){return ph(this,function(e){return[2,this.storage.getItem(this.key)]})})},t.prototype.write=function(e){return hh(this,void 0,void 0,function(){return ph(this,function(n){switch(n.label){case 0:return[4,this.storage.setItem(this.key,e)];case 1:return n.sent(),[2]}})})},t.prototype.purge=function(){return hh(this,void 0,void 0,function(){return ph(this,function(e){switch(e.label){case 0:return[4,this.storage.removeItem(this.key)];case 1:return e.sent(),[2]}})})},t.prototype.getSize=function(){return hh(this,void 0,void 0,function(){var e;return ph(this,function(n){switch(n.label){case 0:return[4,this.storage.getItem(this.key)];case 1:return e=n.sent(),e==null?[2,0]:[2,typeof e=="string"?e.length:null]}})})},t}(),mh=yP;var Tv=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(y){try{f(r.next(y))}catch(m){s(m)}}function c(y){try{f(r.throw(y))}catch(m){s(m)}}function f(y){y.done?o(y.value):i(y.value).then(a,c)}f((r=r.apply(t,e||[])).next())})},xv=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(y){return c([f,y])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(y){f=[6,y],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},gP=function(){function t(e,n){var r=e.log,i=e.cache,o=e.storage,s=n.maxSize,a=s===void 0?1024*1024:s,c=n.persistenceMapper;this.log=r,this.cache=i,this.storage=o,this.paused=!1,c&&(this.persistenceMapper=c),a&&(this.maxSize=a)}return t.prototype.persist=function(){return Tv(this,void 0,void 0,function(){var e,n;return xv(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),e=this.cache.extract(),!this.paused&&this.persistenceMapper?[4,this.persistenceMapper(e)]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return this.maxSize!=null&&typeof e=="string"&&e.length>this.maxSize&&!this.paused?[4,this.purge()]:[3,4];case 3:return r.sent(),this.paused=!0,[2];case 4:return this.paused?[2]:[4,this.storage.write(e)];case 5:return r.sent(),this.log.info(typeof e=="string"?"Persisted cache of size ".concat(e.length," characters"):"Persisted cache"),[3,7];case 6:throw n=r.sent(),this.log.error("Error persisting cache",n),n;case 7:return[2]}})})},t.prototype.restore=function(){return Tv(this,void 0,void 0,function(){var e,n;return xv(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,this.storage.read()];case 1:return e=r.sent(),e==null?[3,3]:[4,this.cache.restore(e)];case 2:return r.sent(),this.log.info(typeof e=="string"?"Restored cache of size ".concat(e.length," characters"):"Restored cache"),[3,4];case 3:this.log.info("No stored cache to restore"),r.label=4;case 4:return[3,6];case 5:throw n=r.sent(),this.log.error("Error restoring cache",n),n;case 6:return[2]}})})},t.prototype.purge=function(){return Tv(this,void 0,void 0,function(){var e;return xv(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.storage.purge()];case 1:return n.sent(),this.log.info("Purged cache storage"),[3,3];case 2:throw e=n.sent(),this.log.error("Error purging cache storage",e),e;case 3:return[2]}})})},t}(),yh=gP;var gh=function(t){var e=t.cache;return function(n){var r=e.write,i=e.evict,o=e.modify,s=e.gc;return e.write=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=r.apply(e,a);return n(),f},e.evict=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=i.apply(e,a);return n(),f},e.modify=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=o.apply(e,a);return n(),f},e.gc=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=s.apply(e,a);return n(),f},function(){e.write=r,e.evict=i,e.modify=o,e.gc=s}}};var UI=function(t){var e=t.log,n=t.cache;return function(r){return e.warn("Trigger option `background` not available on web; using `write` trigger"),gh({cache:n})(r)}};var vP=function(){function t(e,n){var r=e.log,i=e.persistor,o=this;this.fire=function(){if(!o.debounce){o.persist();return}o.timeout!=null&&clearTimeout(o.timeout),o.timeout=setTimeout(o.persist,o.debounce)},this.persist=function(){o.paused||o.persistor.persist()};var s=t.defaultDebounce,a=n.cache,c=n.debounce,f=n.trigger,y=f===void 0?"write":f;if(y)switch(this.debounce=c??s,this.persistor=i,this.paused=!1,y){case"write":this.uninstall=gh({cache:a})(this.fire);break;case"background":c&&r.warn("Debounce is not recommended with `background` trigger"),this.debounce=c,this.uninstall=UI({cache:a,log:r})(this.fire);break;default:if(typeof y=="function")this.uninstall=y(this.fire);else throw Error("Unrecognized trigger option: ".concat(y))}}return t.prototype.pause=function(){this.paused=!0},t.prototype.resume=function(){this.paused=!1},t.prototype.remove=function(){this.uninstall&&(this.uninstall(),this.uninstall=null,this.paused=!0)},t.defaultDebounce=1e3,t}(),qI=vP;var bP=function(){function t(e){if(!e.cache)throw new Error("In order to persist your Apollo Cache, you need to pass in a cache. Please see https://www.apollographql.com/docs/react/basics/caching.html for our default InMemoryCache.");if(!e.storage)throw new Error("In order to persist your Apollo Cache, you need to pass in an underlying storage provider. Please see https://github.com/apollographql/apollo-cache-persist#storage-providers");var n=new BI(e),r=new VI(e),i=new mh(e),o=new yh({log:n,cache:r,storage:i},e),s=new qI({log:n,persistor:o},e);this.log=n,this.cache=r,this.storage=i,this.persistor=o,this.trigger=s}return t.prototype.persist=function(){return this.persistor.persist()},t.prototype.restore=function(){return this.persistor.restore()},t.prototype.purge=function(){return this.persistor.purge()},t.prototype.pause=function(){this.trigger.pause()},t.prototype.resume=function(){this.trigger.resume()},t.prototype.remove=function(){this.trigger.remove()},t.prototype.getLogs=function(e){if(e===void 0&&(e=!1),e)this.log.tailLogs();else return this.log.getLogs()},t.prototype.getSize=function(){return this.storage.getSize()},t}(),Gu=bP;var Cv=function(t){var e=new Gu(t);return e.restore()};var Mv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HI=function(t){var e=new _P(t);e.restoreSync()},_P=function(t){Mv(e,t);function e(n){var r=t.call(this,n)||this;return r.storage=new SP(n),r.persistor=new wP({log:r.log,cache:r.cache,storage:r.storage},n),r}return e.prototype.restoreSync=function(){this.persistor.restoreSync()},e}(Gu);var wP=function(t){Mv(e,t);function e(n,r){var i=n.log,o=n.cache,s=n.storage;return t.call(this,{log:i,cache:o,storage:s},r)||this}return e.prototype.restoreSync=function(){this.cache.restore(this.storage.readSync())},e}(yh);var SP=function(t){Mv(e,t);function e(n){return t.call(this,n)||this}return e.prototype.readSync=function(){return this.storage.getItem(this.key)},e}(mh);var aG=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.getItem(e)},t.prototype.removeItem=function(e){return this.storage.removeItem(e)},t.prototype.setItem=function(e,n){return this.storage.setItem(e,n)},t}();var uG=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.get(e)},t.prototype.removeItem=function(e){return this.storage.remove(e)},t.prototype.setItem=function(e,n){return this.storage.set(e,n)},t}();var fG=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.getItem(e)},t.prototype.removeItem=function(e){return this.storage.removeItem(e)},t.prototype.setItem=function(e,n){var r=this;return new Promise(function(i,o){r.storage.setItem(e,n).then(function(){return i()}).catch(function(){return o()})})},t}();var Nv=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.getItem(e)},t.prototype.removeItem=function(e){return this.storage.removeItem(e)},t.prototype.setItem=function(e,n){return n!==null?this.storage.setItem(e,n):this.removeItem(e)},t}();var pG=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.getItem(e)||null},t.prototype.removeItem=function(e){var n=this;return new Promise(function(r,i){Promise.resolve(n.storage.removeItem(e)).then(function(){return r()}).catch(function(){return i()})})},t.prototype.setItem=function(e,n){var r=this;return new Promise(function(i,o){r.storage.setItem(e,n).then(function(){return i()}).catch(function(){return o()})})},t}();var yG=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.getString(e)||null},t.prototype.removeItem=function(e){return this.storage.delete(e)},t.prototype.setItem=function(e,n){return n!==null?this.storage.set(e,n):this.removeItem(e)},t}();var vG=function(){function t(e){this.storage=e}return t.prototype.getItem=function(e){return this.storage.getItem(e)},t.prototype.removeItem=function(e){return this.storage.removeItem(e)},t.prototype.setItem=function(e,n){return n!==null?this.storage.setItem(e,n):this.removeItem(e)},t}();var Pv="Invariant Violation",zI=Object.setPrototypeOf,EP=zI===void 0?function(t,e){return t.__proto__=e,t}:zI,_h=function(t){dr(e,t);function e(n){n===void 0&&(n=Pv);var r=t.call(this,typeof n=="number"?Pv+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Pv,EP(r,e.prototype),r}return e}(Error);function ds(t,e){if(!t)throw new _h(e)}var bh=["debug","log","warn","error","silent"],kv=bh.indexOf("log");function vh(t){return function(){if(bh.indexOf(t)>=kv){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=vh("debug"),t.log=vh("log"),t.warn=vh("warn"),t.error=vh("error")})(ds||(ds={}));function WI(t){var e=bh[kv];return kv=Math.max(0,bh.indexOf(t)),e}var Ku="3.12.4";function Dr(t){try{return t()}catch{}}var pc=Dr(function(){return globalThis})||Dr(function(){return window})||Dr(function(){return self})||Dr(function(){return global})||Dr(function(){return Dr.constructor("return this")()});var GI=new Map;function Qu(t){var e=GI.get(t)||1;return GI.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function wh(t,e){e===void 0&&(e=0);var n=Qu("stringifyForDisplay");return JSON.stringify(t,function(r,i){return i===void 0?n:i},e).split(JSON.stringify(n)).join("<undefined>")}function Sh(t){return function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof e=="number"){var i=e;e=Rv(i),e||(e=jv(i,n),n=[])}t.apply(void 0,[e].concat(n))}}var it=Object.assign(function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e||ds(e,Rv(n,r)||jv(n,r))},{debug:Sh(ds.debug),log:Sh(ds.log),warn:Sh(ds.warn),error:Sh(ds.error)});function Fn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new _h(Rv(t,e)||jv(t,e))}var KI=Symbol.for("ApolloErrorMessageHandler_"+Ku);function QI(t){if(typeof t=="string")return t;try{return wh(t,2).slice(0,1e3)}catch{return"<non-serializable>"}}function Rv(t,e){if(e===void 0&&(e=[]),!!t)return pc[KI]&&pc[KI](t,e.map(QI))}function jv(t,e){if(e===void 0&&(e=[]),!!t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Ku,message:t,args:e.map(QI)})))}var IP=globalThis.__DEV__!==!1;function mc(t,e){if(!!!t)throw new Error(e)}function YI(t){return typeof t=="object"&&t!==null}function JI(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}var OP=/\r\n|[\n\r]/g;function yc(t,e){let n=0,r=1;for(let i of t.body.matchAll(OP)){if(typeof i.index=="number"||JI(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function Fv(t){return Eh(t.source,yc(t.source,t.start))}function Eh(t,e){let n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,o=t.locationOffset.line-1,s=e.line+o,a=e.line===1?n:0,c=e.column+a,f=`${t.name}:${s}:${c}
`,y=r.split(/\r\n|[\n\r]/g),m=y[i];if(m.length>120){let u=Math.floor(c/80),l=c%80,h=[];for(let d=0;d<m.length;d+=80)h.push(m.slice(d,d+80));return f+ZI([[`${s} |`,h[0]],...h.slice(1,u+1).map(d=>["|",d]),["|","^".padStart(l)],["|",h[u+1]]])}return f+ZI([[`${s-1} |`,y[i-1]],[`${s} |`,m],["|","^".padStart(c)],[`${s+1} |`,y[i+1]]])}function ZI(t){let e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function DP(t){let e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}var Ih=class t extends Error{constructor(e,...n){var r,i,o;let{nodes:s,source:a,positions:c,path:f,originalError:y,extensions:m}=DP(n);super(e),this.name="GraphQLError",this.path=f??void 0,this.originalError=y??void 0,this.nodes=XI(Array.isArray(s)?s:s?[s]:void 0);let u=XI((r=this.nodes)===null||r===void 0?void 0:r.map(h=>h.loc).filter(h=>h!=null));this.source=a??(u==null||(i=u[0])===null||i===void 0?void 0:i.source),this.positions=c??u?.map(h=>h.start),this.locations=c&&a?c.map(h=>yc(a,h)):u?.map(h=>yc(h.source,h.start));let l=YI(y?.extensions)?y?.extensions:void 0;this.extensions=(o=m??l)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),y!=null&&y.stack?Object.defineProperty(this,"stack",{value:y.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let n of this.nodes)n.loc&&(e+=`

`+Fv(n.loc));else if(this.source&&this.locations)for(let n of this.locations)e+=`

`+Eh(this.source,n);return e}toJSON(){let e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}};function XI(t){return t===void 0||t.length===0?void 0:t}function ir(t,e,n){return new Ih(`Syntax Error: ${n}`,{source:t,positions:[e]})}var Yu=class{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},gc=class{constructor(e,n,r,i,o,s){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},Lv={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},AP=new Set(Object.keys(Lv));function $v(t){let e=t?.kind;return typeof e=="string"&&AP.has(e)}var ia=function(t){return t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription",t}(ia||{});var Oh=function(t){return t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",t}(Oh||{});var ot=function(t){return t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t}(ot||{});function Dh(t){return t===9||t===32}function vc(t){return t>=48&&t<=57}function e2(t){return t>=97&&t<=122||t>=65&&t<=90}function Bv(t){return e2(t)||t===95}function t2(t){return e2(t)||vc(t)||t===95}function n2(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<t.length;++s){var o;let a=t[s],c=TP(a);c!==a.length&&(r=(o=r)!==null&&o!==void 0?o:s,i=s,s!==0&&c<n&&(n=c))}return t.map((s,a)=>a===0?s:s.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function TP(t){let e=0;for(;e<t.length&&Dh(t.charCodeAt(e));)++e;return e}function r2(t,e){let n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(l=>l.length===0||Dh(l.charCodeAt(0))),s=n.endsWith('\\"""'),a=t.endsWith('"')&&!s,c=t.endsWith("\\"),f=a||c,y=!(e!=null&&e.minimize)&&(!i||t.length>70||f||o||s),m="",u=i&&Dh(t.charCodeAt(0));return(y&&!u||o)&&(m+=`
`),m+=n,(y||f)&&(m+=`
`),'"""'+m+'"""'}var Ve=function(t){return t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment",t}(Ve||{});var Zu=class{constructor(e){let n=new gc(Ve.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Ve.EOF)do if(e.next)e=e.next;else{let n=xP(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===Ve.COMMENT);return e}};function o2(t){return t===Ve.BANG||t===Ve.DOLLAR||t===Ve.AMP||t===Ve.PAREN_L||t===Ve.PAREN_R||t===Ve.SPREAD||t===Ve.COLON||t===Ve.EQUALS||t===Ve.AT||t===Ve.BRACKET_L||t===Ve.BRACKET_R||t===Ve.BRACE_L||t===Ve.PIPE||t===Ve.BRACE_R}function bc(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Ah(t,e){return s2(t.charCodeAt(e))&&a2(t.charCodeAt(e+1))}function s2(t){return t>=55296&&t<=56319}function a2(t){return t>=56320&&t<=57343}function oa(t,e){let n=t.source.body.codePointAt(e);if(n===void 0)return Ve.EOF;if(n>=32&&n<=126){let r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function or(t,e,n,r,i){let o=t.line,s=1+n-t.lineStart;return new gc(e,n,r,o,s,i)}function xP(t,e){let n=t.source.body,r=n.length,i=e;for(;i<r;){let o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return CP(t,i);case 33:return or(t,Ve.BANG,i,i+1);case 36:return or(t,Ve.DOLLAR,i,i+1);case 38:return or(t,Ve.AMP,i,i+1);case 40:return or(t,Ve.PAREN_L,i,i+1);case 41:return or(t,Ve.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return or(t,Ve.SPREAD,i,i+3);break;case 58:return or(t,Ve.COLON,i,i+1);case 61:return or(t,Ve.EQUALS,i,i+1);case 64:return or(t,Ve.AT,i,i+1);case 91:return or(t,Ve.BRACKET_L,i,i+1);case 93:return or(t,Ve.BRACKET_R,i,i+1);case 123:return or(t,Ve.BRACE_L,i,i+1);case 124:return or(t,Ve.PIPE,i,i+1);case 125:return or(t,Ve.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?jP(t,i):NP(t,i)}if(vc(o)||o===45)return MP(t,i,o);if(Bv(o))return FP(t,i);throw ir(t.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:bc(o)||Ah(n,i)?`Unexpected character: ${oa(t,i)}.`:`Invalid character: ${oa(t,i)}.`)}return or(t,Ve.EOF,r,r)}function CP(t,e){let n=t.source.body,r=n.length,i=e+1;for(;i<r;){let o=n.charCodeAt(i);if(o===10||o===13)break;if(bc(o))++i;else if(Ah(n,i))i+=2;else break}return or(t,Ve.COMMENT,e,i,n.slice(e+1,i))}function MP(t,e,n){let r=t.source.body,i=e,o=n,s=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),vc(o))throw ir(t.source,i,`Invalid number, unexpected digit after 0: ${oa(t,i)}.`)}else i=Vv(t,i,o),o=r.charCodeAt(i);if(o===46&&(s=!0,o=r.charCodeAt(++i),i=Vv(t,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=Vv(t,i,o),o=r.charCodeAt(i)),o===46||Bv(o))throw ir(t.source,i,`Invalid number, expected digit but got: ${oa(t,i)}.`);return or(t,s?Ve.FLOAT:Ve.INT,e,i,r.slice(e,i))}function Vv(t,e,n){if(!vc(n))throw ir(t.source,e,`Invalid number, expected digit but got: ${oa(t,e)}.`);let r=t.source.body,i=e+1;for(;vc(r.charCodeAt(i));)++i;return i}function NP(t,e){let n=t.source.body,r=n.length,i=e+1,o=i,s="";for(;i<r;){let a=n.charCodeAt(i);if(a===34)return s+=n.slice(o,i),or(t,Ve.STRING,e,i+1,s);if(a===92){s+=n.slice(o,i);let c=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?PP(t,i):kP(t,i):RP(t,i);s+=c.value,i+=c.size,o=i;continue}if(a===10||a===13)break;if(bc(a))++i;else if(Ah(n,i))i+=2;else throw ir(t.source,i,`Invalid character within String: ${oa(t,i)}.`)}throw ir(t.source,i,"Unterminated string.")}function PP(t,e){let n=t.source.body,r=0,i=3;for(;i<12;){let o=n.charCodeAt(e+i++);if(o===125){if(i<5||!bc(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Ju(o),r<0)break}throw ir(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function kP(t,e){let n=t.source.body,r=i2(n,e+2);if(bc(r))return{value:String.fromCodePoint(r),size:6};if(s2(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){let i=i2(n,e+8);if(a2(i))return{value:String.fromCodePoint(r,i),size:12}}throw ir(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function i2(t,e){return Ju(t.charCodeAt(e))<<12|Ju(t.charCodeAt(e+1))<<8|Ju(t.charCodeAt(e+2))<<4|Ju(t.charCodeAt(e+3))}function Ju(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function RP(t,e){let n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ir(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function jP(t,e){let n=t.source.body,r=n.length,i=t.lineStart,o=e+3,s=o,a="",c=[];for(;o<r;){let f=n.charCodeAt(o);if(f===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){a+=n.slice(s,o),c.push(a);let y=or(t,Ve.BLOCK_STRING,e,o+3,n2(c).join(`
`));return t.line+=c.length-1,t.lineStart=i,y}if(f===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){a+=n.slice(s,o),s=o+1,o+=4;continue}if(f===10||f===13){a+=n.slice(s,o),c.push(a),f===13&&n.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(bc(f))++o;else if(Ah(n,o))o+=2;else throw ir(t.source,o,`Invalid character within String: ${oa(t,o)}.`)}throw ir(t.source,o,"Unterminated string.")}function FP(t,e){let n=t.source.body,r=n.length,i=e+1;for(;i<r;){let o=n.charCodeAt(i);if(t2(o))++i;else break}return or(t,Ve.NAME,e,i,n.slice(e,i))}function _c(t){return Th(t,[])}function Th(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return LP(t,e);default:return String(t)}}function LP(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let n=[...e,t];if($P(t)){let r=t.toJSON();if(r!==t)return typeof r=="string"?r:Th(r,n)}else if(Array.isArray(t))return VP(t,n);return BP(t,n)}function $P(t){return typeof t.toJSON=="function"}function BP(t,e){let n=Object.entries(t);return n.length===0?"{}":e.length>2?"["+UP(t)+"]":"{ "+n.map(([i,o])=>i+": "+Th(o,e)).join(", ")+" }"}function VP(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let n=Math.min(10,t.length),r=t.length-n,i=[];for(let o=0;o<n;++o)i.push(Th(t[o],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function UP(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}var qP=globalThis.process&&!0,c2=qP?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if(typeof e=="object"&&e!==null){var r;let i=n.prototype[Symbol.toStringTag],o=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===o){let s=_c(e);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var wc=class{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||mc(!1,`Body must be a string. Received: ${_c(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||mc(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||mc(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function u2(t){return c2(t,wc)}function Ch(t,e){let n=new Uv(t,e),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}var Uv=class{constructor(e,n={}){let r=u2(e)?e:new wc(e);this._lexer=new Zu(r),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(Ve.NAME);return this.node(e,{kind:ot.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ot.DOCUMENT,definitions:this.many(Ve.SOF,this.parseDefinition,Ve.EOF)})}parseDefinition(){if(this.peek(Ve.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===Ve.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw ir(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){let e=this._lexer.token;if(this.peek(Ve.BRACE_L))return this.node(e,{kind:ot.OPERATION_DEFINITION,operation:ia.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let n=this.parseOperationType(),r;return this.peek(Ve.NAME)&&(r=this.parseName()),this.node(e,{kind:ot.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(Ve.NAME);switch(e.value){case"query":return ia.QUERY;case"mutation":return ia.MUTATION;case"subscription":return ia.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Ve.PAREN_L,this.parseVariableDefinition,Ve.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ot.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ve.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ve.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(Ve.DOLLAR),this.node(e,{kind:ot.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ot.SELECTION_SET,selections:this.many(Ve.BRACE_L,this.parseSelection,Ve.BRACE_R)})}parseSelection(){return this.peek(Ve.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e=this._lexer.token,n=this.parseName(),r,i;return this.expectOptionalToken(Ve.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:ot.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ve.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ve.PAREN_L,n,Ve.PAREN_R)}parseArgument(e=!1){let n=this._lexer.token,r=this.parseName();return this.expectToken(Ve.COLON),this.node(n,{kind:ot.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(Ve.SPREAD);let n=this.expectOptionalKeyword("on");return!n&&this.peek(Ve.NAME)?this.node(e,{kind:ot.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ot.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:ot.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ot.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){let n=this._lexer.token;switch(n.kind){case Ve.BRACKET_L:return this.parseList(e);case Ve.BRACE_L:return this.parseObject(e);case Ve.INT:return this.advanceLexer(),this.node(n,{kind:ot.INT,value:n.value});case Ve.FLOAT:return this.advanceLexer(),this.node(n,{kind:ot.FLOAT,value:n.value});case Ve.STRING:case Ve.BLOCK_STRING:return this.parseStringLiteral();case Ve.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:ot.BOOLEAN,value:!0});case"false":return this.node(n,{kind:ot.BOOLEAN,value:!1});case"null":return this.node(n,{kind:ot.NULL});default:return this.node(n,{kind:ot.ENUM,value:n.value})}case Ve.DOLLAR:if(e)if(this.expectToken(Ve.DOLLAR),this._lexer.token.kind===Ve.NAME){let r=this._lexer.token.value;throw ir(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ot.STRING,value:e.value,block:e.kind===Ve.BLOCK_STRING})}parseList(e){let n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:ot.LIST,values:this.any(Ve.BRACKET_L,n,Ve.BRACKET_R)})}parseObject(e){let n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:ot.OBJECT,fields:this.any(Ve.BRACE_L,n,Ve.BRACE_R)})}parseObjectField(e){let n=this._lexer.token,r=this.parseName();return this.expectToken(Ve.COLON),this.node(n,{kind:ot.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let n=[];for(;this.peek(Ve.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let n=this._lexer.token;return this.expectToken(Ve.AT),this.node(n,{kind:ot.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e=this._lexer.token,n;if(this.expectOptionalToken(Ve.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(Ve.BRACKET_R),n=this.node(e,{kind:ot.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(Ve.BANG)?this.node(e,{kind:ot.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:ot.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Ve.STRING)||this.peek(Ve.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),i=this.many(Ve.BRACE_L,this.parseOperationTypeDefinition,Ve.BRACE_R);return this.node(e,{kind:ot.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){let e=this._lexer.token,n=this.parseOperationType();this.expectToken(Ve.COLON);let r=this.parseNamedType();return this.node(e,{kind:ot.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:ot.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:ot.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Ve.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Ve.BRACE_L,this.parseFieldDefinition,Ve.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(Ve.COLON);let o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:ot.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(Ve.PAREN_L,this.parseInputValueDef,Ve.PAREN_R)}parseInputValueDef(){let e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(Ve.COLON);let i=this.parseTypeReference(),o;this.expectOptionalToken(Ve.EQUALS)&&(o=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(e,{kind:ot.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:ot.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:ot.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(Ve.EQUALS)?this.delimitedMany(Ve.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:ot.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(Ve.BRACE_L,this.parseEnumValueDefinition,Ve.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:ot.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw ir(this._lexer.source,this._lexer.token.start,`${xh(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:ot.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(Ve.BRACE_L,this.parseInputValueDef,Ve.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===Ve.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let n=this.parseConstDirectives(),r=this.optionalMany(Ve.BRACE_L,this.parseOperationTypeDefinition,Ve.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:ot.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:ot.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:ot.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:ot.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ot.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ot.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:ot.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){let e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ve.AT);let r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:ot.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(Ve.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Oh,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new Yu(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){let n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw ir(this._lexer.source,n.start,`Expected ${l2(e)}, found ${xh(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){let n=this._lexer.token;if(n.kind===Ve.NAME&&n.value===e)this.advanceLexer();else throw ir(this._lexer.source,n.start,`Expected "${e}", found ${xh(n)}.`)}expectOptionalKeyword(e){let n=this._lexer.token;return n.kind===Ve.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){let n=e??this._lexer.token;return ir(this._lexer.source,n.start,`Unexpected ${xh(n)}.`)}any(e,n,r){this.expectToken(e);let i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){let i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);let i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);let r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){let{maxTokens:e}=this._options,n=this._lexer.advance();if(n.kind!==Ve.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw ir(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function xh(t){let e=t.value;return l2(t.kind)+(e!=null?` "${e}"`:"")}function l2(t){return o2(t)?`"${t}"`:t}function f2(t){return`"${t.replace(HP,zP)}"`}var HP=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function zP(t){return WP[t.charCodeAt(0)]}var WP=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var xo=Object.freeze({});function ur(t,e,n=Lv){let r=new Map;for(let g of Object.values(ot))r.set(g,qv(e,g));let i,o=Array.isArray(t),s=[t],a=-1,c=[],f=t,y,m,u=[],l=[];do{a++;let g=a===s.length,b=g&&c.length!==0;if(g){if(y=l.length===0?void 0:u[u.length-1],f=m,m=l.pop(),b)if(o){f=f.slice();let _=0;for(let[S,w]of c){let D=S-_;w===null?(f.splice(D,1),_++):f[D]=w}}else{f=Object.defineProperties({},Object.getOwnPropertyDescriptors(f));for(let[_,S]of c)f[_]=S}a=i.index,s=i.keys,c=i.edits,o=i.inArray,i=i.prev}else if(m){if(y=o?a:s[a],f=m[y],f==null)continue;u.push(y)}let v;if(!Array.isArray(f)){var h,d;$v(f)||mc(!1,`Invalid AST Node: ${_c(f)}.`);let _=g?(h=r.get(f.kind))===null||h===void 0?void 0:h.leave:(d=r.get(f.kind))===null||d===void 0?void 0:d.enter;if(v=_?.call(e,f,y,m,u,l),v===xo)break;if(v===!1){if(!g){u.pop();continue}}else if(v!==void 0&&(c.push([y,v]),!g))if($v(v))f=v;else{u.pop();continue}}if(v===void 0&&b&&c.push([y,f]),g)u.pop();else{var p;i={inArray:o,index:a,keys:s,edits:c,prev:i},o=Array.isArray(f),s=o?f:(p=n[f.kind])!==null&&p!==void 0?p:[],a=-1,c=[],m&&l.push(m),m=f}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:t}function qv(t,e){let n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function Sc(t){return ur(t,KP)}var GP=80,KP={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>mt(t.definitions,`

`)},OperationDefinition:{leave(t){let e=hn("(",mt(t.variableDefinitions,", "),")"),n=mt([t.operation,mt([t.name,e]),mt(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+hn(" = ",n)+hn(" ",mt(r," "))},SelectionSet:{leave:({selections:t})=>ki(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){let o=hn("",t,": ")+e,s=o+hn("(",mt(n,", "),")");return s.length>GP&&(s=o+hn(`(
`,Mh(mt(n,`
`)),`
)`)),mt([s,mt(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+hn(" ",mt(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>mt(["...",hn("on ",t),mt(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${hn("(",mt(n,", "),")")} on ${e} ${hn("",mt(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?r2(t):f2(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+mt(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+mt(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+hn("(",mt(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>hn("",t,`
`)+mt(["schema",mt(e," "),ki(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>hn("",t,`
`)+mt(["scalar",e,mt(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>hn("",t,`
`)+mt(["type",e,hn("implements ",mt(n," & ")),mt(r," "),ki(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>hn("",t,`
`)+e+(d2(n)?hn(`(
`,Mh(mt(n,`
`)),`
)`):hn("(",mt(n,", "),")"))+": "+r+hn(" ",mt(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>hn("",t,`
`)+mt([e+": "+n,hn("= ",r),mt(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>hn("",t,`
`)+mt(["interface",e,hn("implements ",mt(n," & ")),mt(r," "),ki(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>hn("",t,`
`)+mt(["union",e,mt(n," "),hn("= ",mt(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>hn("",t,`
`)+mt(["enum",e,mt(n," "),ki(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>hn("",t,`
`)+mt([e,mt(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>hn("",t,`
`)+mt(["input",e,mt(n," "),ki(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>hn("",t,`
`)+"directive @"+e+(d2(n)?hn(`(
`,Mh(mt(n,`
`)),`
)`):hn("(",mt(n,", "),")"))+(r?" repeatable":"")+" on "+mt(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>mt(["extend schema",mt(t," "),ki(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>mt(["extend scalar",t,mt(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>mt(["extend type",t,hn("implements ",mt(e," & ")),mt(n," "),ki(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>mt(["extend interface",t,hn("implements ",mt(e," & ")),mt(n," "),ki(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>mt(["extend union",t,mt(e," "),hn("= ",mt(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>mt(["extend enum",t,mt(e," "),ki(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>mt(["extend input",t,mt(e," "),ki(n)]," ")}};function mt(t,e=""){var n;return(n=t?.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function ki(t){return hn(`{
`,Mh(mt(t,`
`)),`
}`)}function hn(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function Mh(t){return hn("  ",t.replace(/\n/g,`
  `))}function d2(t){var e;return(e=t?.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function Xu(t){return t.kind===ot.FIELD||t.kind===ot.FRAGMENT_SPREAD||t.kind===ot.INLINE_FRAGMENT}function Ri(t,e){var n=t.directives;return!n||!n.length?!0:h2(n).every(function(r){var i=r.directive,o=r.ifArgument,s=!1;return o.value.kind==="Variable"?(s=e&&e[o.value.name.value],it(s!==void 0,78,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function Co(t,e,n){var r=new Set(t),i=r.size;return ur(e,{Directive:function(o){if(r.delete(o.name.value)&&(!n||!r.size))return xo}}),n?!r.size:r.size<i}function Hv(t){return t&&Co(["client","export"],t,!0)}function uk(t){var e=t.name.value;return e==="skip"||e==="include"}function h2(t){var e=[];return t&&t.length&&t.forEach(function(n){if(uk(n)){var r=n.arguments,i=n.name.value;it(r&&r.length===1,79,i);var o=r[0];it(o.name&&o.name.value==="if",80,i);var s=o.value;it(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),81,i),e.push({directive:n,ifArgument:o})}}),e}function zv(t){var e,n,r=(e=t.directives)===null||e===void 0?void 0:e.find(function(o){var s=o.name;return s.value==="unmask"});if(!r)return"mask";var i=(n=r.arguments)===null||n===void 0?void 0:n.find(function(o){var s=o.name;return s.value==="mode"});return globalThis.__DEV__!==!1&&i&&(i.value.kind===ot.VARIABLE?globalThis.__DEV__!==!1&&it.warn(82):i.value.kind!==ot.STRING?globalThis.__DEV__!==!1&&it.warn(83):i.value.value!=="migrate"&&globalThis.__DEV__!==!1&&it.warn(84,i.value.value)),i&&"value"in i.value&&i.value.value==="migrate"?"migrate":"unmask"}var lk=()=>Object.create(null),{forEach:fk,slice:p2}=Array.prototype,{hasOwnProperty:dk}=Object.prototype,Lr=class t{constructor(e=!0,n=lk){this.weakness=e,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(e){let n=this;return fk.call(e,r=>n=n.getChildTrie(r)),dk.call(n,"data")?n.data:n.data=this.makeData(p2.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){let o=n.mapFor(e[r],!1);n=o&&o.get(e[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(e){let n;if(e.length){let r=e[0],i=this.mapFor(r,!1),o=i&&i.get(r);o&&(n=o.removeArray(p2.call(e,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(e){let n=this.mapFor(e,!0),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r}mapFor(e,n){return this.weakness&&hk(e)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}};function hk(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var pk=Dr(function(){return navigator.product})=="ReactNative",oi=typeof WeakMap=="function"&&!(pk&&!global.HermesInternal),Ec=typeof WeakSet=="function",Wv=typeof Symbol=="function"&&typeof Symbol.for=="function",hs=Wv&&Symbol.asyncIterator,uQ=typeof Dr(function(){return window.document.createElement})=="function",lQ=Dr(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1;function gn(t){return t!==null&&typeof t=="object"}function Gv(t,e){var n=e,r=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw Fn(85,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&r.push(o)}),typeof n>"u"&&(it(r.length===1,86,r.length),n=r[0].name.value);var i=_e(_e({},t),{definitions:Xn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function si(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function Mo(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return it(r,87,n),r||null}default:return null}}function Kv(t){var e=!0;return ur(t,{FragmentSpread:function(n){if(e=!!n.directives&&n.directives.some(function(r){return r.name.value==="unmask"}),!e)return xo}}),e}function mk(){}var ps=class{constructor(e=1/0,n=mk){this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let n=this.getNode(e);return n&&n.value}get size(){return this.map.size}getNode(e){let n=this.map.get(e);if(n&&n!==this.newest){let{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1}};function Qv(){}var yk=Qv,gk=typeof WeakRef<"u"?WeakRef:function(t){return{deref:()=>t}},vk=typeof WeakMap<"u"?WeakMap:Map,bk=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Qv,unregister:Qv}},_k=10024,Zi=class{constructor(e=1/0,n=yk){this.max=e,this.dispose=n,this.map=new vk,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{let r=this.unfinalizedNodes.values();for(let i=0;i<_k;i++){let o=r.next().value;if(!o)break;this.unfinalizedNodes.delete(o);let s=o.key;delete o.key,o.keyRef=new gk(s),this.registry.register(s,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new bk(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){let n=this.getNode(e);return n&&n.value}getNode(e){let n=this.map.get(e);if(n&&n!==this.newest){let{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;let n=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,n),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),n&&this.map.delete(n)}delete(e){let n=this.map.get(e);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}};var Yv=new WeakSet;function m2(t){t.size<=(t.max||-1)||Yv.has(t)||(Yv.add(t),setTimeout(function(){t.clean(),Yv.delete(t)},100))}var Ic=function(t,e){var n=new Zi(t,e);return n.set=function(r,i){var o=Zi.prototype.set.call(this,r,i);return m2(this),o},n},Nh=function(t,e){var n=new ps(t,e);return n.set=function(r,i){var o=ps.prototype.set.call(this,r,i);return m2(this),o},n};var wk=Symbol.for("apollo.cacheSize"),lr=_e({},pc[wk]);var sa={};function Ph(t,e){sa[t]=e}var y2=globalThis.__DEV__!==!1?Ek:void 0,g2=globalThis.__DEV__!==!1?Ik:void 0,v2=globalThis.__DEV__!==!1?b2:void 0;function Sk(){var t={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(t).map(function(e){var n=e[0],r=e[1];return[n,lr[n]||r]}))}function Ek(){var t,e,n,r,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:Sk(),sizes:_e({print:(t=sa.print)===null||t===void 0?void 0:t.call(sa),parser:(e=sa.parser)===null||e===void 0?void 0:e.call(sa),canonicalStringify:(n=sa.canonicalStringify)===null||n===void 0?void 0:n.call(sa),links:Zv(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:w2(this.queryManager.documentTransform)}},(i=(r=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(r))}}function b2(){return{cache:{fragmentQueryDocuments:ms(this.getFragmentDoc)}}}function Ik(){var t=this.config.fragments;return _e(_e({},b2.apply(this)),{addTypenameDocumentTransform:w2(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:ms(this.storeReader.executeSelectionSet),executeSubSelectedArray:ms(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:ms(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:ms(t?.findFragmentSpreads),lookup:ms(t?.lookup),transform:ms(t?.transform)}})}function Ok(t){return!!t&&"dirtyKey"in t}function ms(t){return Ok(t)?t.size:void 0}function _2(t){return t!=null}function w2(t){return Jv(t).map(function(e){return{cache:e}})}function Jv(t){return t?Xn(Xn([ms(t?.performWork)],Jv(t?.left),!0),Jv(t?.right),!0).filter(_2):[]}function Zv(t){var e;return t?Xn(Xn([(e=t?.getMemoryInternals)===null||e===void 0?void 0:e.call(t)],Zv(t?.left),!0),Zv(t?.right),!0).filter(_2):[]}var $r=Object.assign(function(e){return JSON.stringify(e,Dk)},{reset:function(){Oc=new Nh(lr.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&Ph("canonicalStringify",function(){return Oc.size});var Oc;$r.reset();function Dk(t,e){if(e&&typeof e=="object"){var n=Object.getPrototypeOf(e);if(n===Object.prototype||n===null){var r=Object.keys(e);if(r.every(Ak))return e;var i=JSON.stringify(r),o=Oc.get(i);if(!o){r.sort();var s=JSON.stringify(r);o=Oc.get(s)||r,Oc.set(i,o),Oc.set(s,o)}var a=Object.create(n);return o.forEach(function(c){a[c]=e[c]}),a}}return e}function Ak(t,e,n){return e===0||n[e-1]<=t}function _i(t){return{__ref:String(t)}}function rn(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function Xv(t){return gn(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function Tk(t){return t.kind==="StringValue"}function xk(t){return t.kind==="BooleanValue"}function Ck(t){return t.kind==="IntValue"}function Mk(t){return t.kind==="FloatValue"}function Nk(t){return t.kind==="Variable"}function Pk(t){return t.kind==="ObjectValue"}function kk(t){return t.kind==="ListValue"}function Rk(t){return t.kind==="EnumValue"}function jk(t){return t.kind==="NullValue"}function ys(t,e,n,r){if(Ck(n)||Mk(n))t[e.value]=Number(n.value);else if(xk(n)||Tk(n))t[e.value]=n.value;else if(Pk(n)){var i={};n.fields.map(function(s){return ys(i,s.name,s.value,r)}),t[e.value]=i}else if(Nk(n)){var o=(r||{})[n.name.value];t[e.value]=o}else if(kk(n))t[e.value]=n.values.map(function(s){var a={};return ys(a,e,s,r),a[e.value]});else if(Rk(n))t[e.value]=n.value;else if(jk(n))t[e.value]=null;else throw Fn(96,e.value,n.kind)}function eb(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,a=o.value;return ys(n[i.name.value],s,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var o=i.name,s=i.value;return ys(r,o,s,e)})),kh(t.name.value,r,n)}var Fk=["connection","include","skip","client","rest","export","nonreactive"],el=$r,kh=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(el(i),")")}else return n.connection.key;var o=t;if(e){var s=el(e);o+="(".concat(s,")")}return n&&Object.keys(n).forEach(function(a){Fk.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?o+="@".concat(a,"(").concat(el(n[a]),")"):o+="@".concat(a))}),o},{setStringify:function(t){var e=el;return el=t,e}});function No(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,o=r.value;return ys(n,i,o,e)}),n}return null}function Ar(t){return t.alias?t.alias.value:t.name.value}function tl(t,e,n){for(var r,i=0,o=e.selections;i<o.length;i++){var s=o[i];if(Br(s)){if(s.name.value==="__typename")return t[Ar(s)]}else r?r.push(s):r=[s]}if(typeof t.__typename=="string")return t.__typename;if(r)for(var a=0,c=r;a<c.length;a++){var s=c[a],f=tl(t,Mo(s,n).selectionSet,n);if(typeof f=="string")return f}}function Br(t){return t.kind==="Field"}function tb(t){return t.kind==="InlineFragment"}function Po(t){it(t&&t.kind==="Document",88);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw Fn(89,n.kind);return n});return it(e.length<=1,90,e.length),t}function ai(t){return Po(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function gs(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function ci(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function nl(t){var e=ai(t);return it(e&&e.operation==="query",91),e}function rl(t){it(t.kind==="Document",92),it(t.definitions.length<=1,93);var e=t.definitions[0];return it(e.kind==="FragmentDefinition",94),e}function ji(t){Po(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw Fn(95)}function aa(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&ys(e,r.variable.name,r.defaultValue)}),e}var _r=null,S2={},Lk=1,$k=()=>class{constructor(){this.id=["slot",Lk++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=_r;e;e=e.parent)if(this.id in e.slots){let n=e.slots[this.id];if(n===S2)break;return e!==_r&&(_r.slots[this.id]=n),!0}return _r&&(_r.slots[this.id]=S2),!1}getValue(){if(this.hasValue())return _r.slots[this.id]}withValue(e,n,r,i){let o={__proto__:null,[this.id]:e},s=_r;_r={parent:s,slots:o};try{return n.apply(i,r)}finally{_r=s}}static bind(e){let n=_r;return function(){let r=_r;try{return _r=n,e.apply(this,arguments)}finally{_r=r}}}static noContext(e,n,r){if(_r){let i=_r;try{return _r=null,e.apply(r,n)}finally{_r=i}}else return e.apply(r,n)}};function E2(t){try{return t()}catch{}}var nb="@wry/context:Slot",Bk=E2(()=>globalThis)||E2(()=>global)||Object.create(null),I2=Bk,ko=I2[nb]||Array[nb]||function(t){try{Object.defineProperty(I2,nb,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}($k());var{bind:O2,noContext:D2}=ko;var ca=new ko;var{hasOwnProperty:A2}=Object.prototype,il=Array.from||function(t){let e=[];return t.forEach(n=>e.push(n)),e};function Dc(t){let{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}var ol=[],qk=100;function Ac(t,e){if(!t)throw new Error(e||"assertion failure")}function x2(t,e){let n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function C2(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function M2(t){return t.slice(0)}var N2=(()=>{class t{constructor(n){this.fn=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}peek(){if(this.value.length===1&&!vs(this))return T2(this),this.value[0]}recompute(n){return Ac(!this.recomputing,"already recomputing"),T2(this),vs(this)?Hk(this,n):C2(this.value)}setDirty(){this.dirty||(this.dirty=!0,P2(this),Dc(this))}dispose(){this.setDirty(),L2(this),rb(this,(n,r)=>{n.setDirty(),$2(n,this)})}forget(){this.dispose()}dependOn(n){n.add(this),this.deps||(this.deps=ol.pop()||new Set),this.deps.add(n)}forgetDeps(){this.deps&&(il(this.deps).forEach(n=>n.delete(this)),this.deps.clear(),ol.push(this.deps),this.deps=null)}}return t.count=0,t})();function T2(t){let e=ca.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),vs(t)?R2(e,t):j2(e,t),e}function Hk(t,e){return L2(t),ca.withValue(t,zk,[t,e]),Gk(t,e)&&Wk(t),C2(t.value)}function zk(t,e){t.recomputing=!0;let{normalizeResult:n}=t,r;n&&t.value.length===1&&(r=M2(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),n&&r&&!x2(r,t.value))try{t.value[0]=n(t.value[0],r[0])}catch{}}catch(i){t.value[1]=i}t.recomputing=!1}function vs(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function Wk(t){t.dirty=!1,!vs(t)&&k2(t)}function P2(t){rb(t,R2)}function k2(t){rb(t,j2)}function rb(t,e){let n=t.parents.size;if(n){let r=il(t.parents);for(let i=0;i<n;++i)e(r[i],t)}}function R2(t,e){Ac(t.childValues.has(e)),Ac(vs(e));let n=!vs(t);if(!t.dirtyChildren)t.dirtyChildren=ol.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&P2(t)}function j2(t,e){Ac(t.childValues.has(e)),Ac(!vs(e));let n=t.childValues.get(e);n.length===0?t.childValues.set(e,M2(e.value)):x2(n,e.value)||t.setDirty(),F2(t,e),!vs(t)&&k2(t)}function F2(t,e){let n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(ol.length<qk&&ol.push(n),t.dirtyChildren=null))}function L2(t){t.childValues.size>0&&t.childValues.forEach((e,n)=>{$2(t,n)}),t.forgetDeps(),Ac(t.dirtyChildren===null)}function $2(t,e){e.parents.delete(t),t.childValues.delete(e),F2(t,e)}function Gk(t,e){if(typeof t.subscribe=="function")try{Dc(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var Kk={setDirty:!0,dispose:!0,forget:!0};function sl(t){let e=new Map,n=t&&t.subscribe;function r(i){let o=ca.getValue();if(o){let s=e.get(i);s||e.set(i,s=new Set),o.dependOn(s),typeof n=="function"&&(Dc(s),s.unsubscribe=n(i))}}return r.dirty=function(o,s){let a=e.get(o);if(a){let c=s&&A2.call(Kk,s)?s:"setDirty";il(a).forEach(f=>f[c]()),e.delete(o),Dc(a)}},r}var B2;function Qk(...t){return(B2||(B2=new Lr(typeof WeakMap=="function"))).lookupArray(t)}var ib=new Set;function Ro(t,{max:e=Math.pow(2,16),keyArgs:n,makeCacheKey:r=Qk,normalizeResult:i,subscribe:o,cache:s=ps}=Object.create(null)){let a=typeof s=="function"?new s(e,u=>u.dispose()):s,c=function(){let u=r.apply(null,n?n.apply(null,arguments):arguments);if(u===void 0)return t.apply(null,arguments);let l=a.get(u);l||(a.set(u,l=new N2(t)),l.normalizeResult=i,l.subscribe=o,l.forget=()=>a.delete(u));let h=l.recompute(Array.prototype.slice.call(arguments));return a.set(u,l),ib.add(a),ca.hasValue()||(ib.forEach(d=>d.clean()),ib.clear()),h};Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:e,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:o,cache:a});function f(u){let l=u&&a.get(u);l&&l.setDirty()}c.dirtyKey=f,c.dirty=function(){f(r.apply(null,arguments))};function y(u){let l=u&&a.get(u);if(l)return l.peek()}c.peekKey=y,c.peek=function(){return y(r.apply(null,arguments))};function m(u){return u?a.delete(u):!1}return c.forgetKey=m,c.forget=function(){return m(r.apply(null,arguments))},c.makeCacheKey=r,c.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(c)}function Yk(t){return t}var Tc=function(){function t(e,n){n===void 0&&(n=Object.create(null)),this.resultCache=Ec?new WeakSet:new Set,this.transform=e,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(Yk,{cache:!1})},t.split=function(e,n,r){return r===void 0&&(r=t.identity()),Object.assign(new t(function(i){var o=e(i)?n:r;return o.transformDocument(i)},{cache:!1}),{left:n,right:r})},t.prototype.resetCache=function(){var e=this;if(this.cached){var n=new Lr(oi);this.performWork=Ro(t.prototype.performWork.bind(this),{makeCacheKey:function(r){var i=e.getCacheKey(r);if(i)return it(Array.isArray(i),77),n.lookupArray(i)},max:lr["documentTransform.cache"],cache:Zi})}},t.prototype.performWork=function(e){return Po(e),this.transform(e)},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var n=this.performWork(e);return this.resultCache.add(n),n},t.prototype.concat=function(e){var n=this;return Object.assign(new t(function(r){return e.transformDocument(n.transformDocument(r))},{cache:!1}),{left:this,right:e})},t}();var al,Fi=Object.assign(function(t){var e=al.get(t);return e||(e=Sc(t),al.set(t,e)),e},{reset:function(){al=new Ic(lr.print||2e3)}});Fi.reset();globalThis.__DEV__!==!1&&Ph("print",function(){return al?al.size:0});var kn=Array.isArray;function wr(t){return Array.isArray(t)&&t.length>0}var V2={kind:ot.FIELD,name:{kind:ot.NAME,value:"__typename"}};function q2(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===ot.FRAGMENT_SPREAD&&q2(e[n.name.value],e)})}function Jk(t){return q2(ai(t)||rl(t),si(ci(t)))?null:t}function Zk(t){var e=new Map,n=new Map;return t.forEach(function(r){r&&(r.name?e.set(r.name,r):r.test&&n.set(r.test,r))}),function(r){var i=e.get(r.name.value);return!i&&n.size&&n.forEach(function(o,s){s(r)&&(i=o)}),i}}function U2(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function Rh(t,e){Po(e);for(var n=U2(""),r=U2(""),i=function(g){for(var b=0,v=void 0;b<g.length&&(v=g[b]);++b)if(!kn(v)){if(v.kind===ot.OPERATION_DEFINITION)return n(v.name&&v.name.value);if(v.kind===ot.FRAGMENT_DEFINITION)return r(v.name.value)}return globalThis.__DEV__!==!1&&it.error(97),null},o=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===ot.OPERATION_DEFINITION&&++o;var a=Zk(t),c=function(g){return wr(g)&&g.map(a).some(function(b){return b&&b.remove})},f=new Map,y=!1,m={enter:function(g){if(c(g.directives))return y=!0,null}},u=ur(e,{Field:m,InlineFragment:m,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(g,b,v,_,S){var w=i(S);w&&w.variables.add(g.name.value)}},FragmentSpread:{enter:function(g,b,v,_,S){if(c(g.directives))return y=!0,null;var w=i(S);w&&w.fragmentSpreads.add(g.name.value)}},FragmentDefinition:{enter:function(g,b,v,_){f.set(JSON.stringify(_),g)},leave:function(g,b,v,_){var S=f.get(JSON.stringify(_));if(g===S)return g;if(o>0&&g.selectionSet.selections.every(function(w){return w.kind===ot.FIELD&&w.name.value==="__typename"}))return r(g.name.value).removed=!0,y=!0,null}},Directive:{leave:function(g){if(a(g))return y=!0,null}}});if(!y)return e;var l=function(g){return g.transitiveVars||(g.transitiveVars=new Set(g.variables),g.removed||g.fragmentSpreads.forEach(function(b){l(r(b)).transitiveVars.forEach(function(v){g.transitiveVars.add(v)})})),g},h=new Set;u.definitions.forEach(function(g){g.kind===ot.OPERATION_DEFINITION?l(n(g.name&&g.name.value)).fragmentSpreads.forEach(function(b){h.add(b)}):g.kind===ot.FRAGMENT_DEFINITION&&o===0&&!r(g.name.value).removed&&h.add(g.name.value)}),h.forEach(function(g){l(r(g)).fragmentSpreads.forEach(function(b){h.add(b)})});var d=function(g){return!!(!h.has(g)||r(g).removed)},p={enter:function(g){if(d(g.name.value))return null}};return Jk(ur(u,{FragmentSpread:p,FragmentDefinition:p,OperationDefinition:{leave:function(g){if(g.variableDefinitions){var b=l(n(g.name&&g.name.value)).transitiveVars;if(b.size<g.variableDefinitions.length)return _e(_e({},g),{variableDefinitions:g.variableDefinitions.filter(function(v){return b.has(v.variable.name.value)})})}}}}))}var ua=Object.assign(function(t){return ur(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===ot.OPERATION_DEFINITION)){var i=e.selections;if(i){var o=i.some(function(a){return Br(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!o){var s=r;if(!(Br(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return _e(_e({},e),{selections:Xn(Xn([],i,!0),[V2],!1)})}}}}}})},{added:function(t){return t===V2}});function ob(t){var e=ji(t),n=e.operation;if(n==="query")return t;var r=ur(t,{OperationDefinition:{enter:function(i){return _e(_e({},i),{operation:"query"})}}});return r}function cl(t){Po(t);var e=Rh([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}function sb(t){return Po(t),ur(t,{FragmentSpread:function(e){var n;if(!(!((n=e.directives)===null||n===void 0)&&n.some(function(r){return r.name.value==="unmask"})))return _e(_e({},e),{directives:Xn(Xn([],e.directives||[],!0),[{kind:ot.DIRECTIVE,name:{kind:ot.NAME,value:"nonreactive"}}],!1)})}})}var Xk=Object.prototype.hasOwnProperty;function ab(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return la(t)}function la(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new Kr,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var eR=function(t,e,n){return this.merge(t[n],e[n])},Kr=function(){function t(e){e===void 0&&(e=eR),this.reconciler=e,this.isObject=gn,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return gn(n)&&gn(e)?(Object.keys(n).forEach(function(s){if(Xk.call(e,s)){var a=e[s];if(n[s]!==a){var c=r.reconciler.apply(r,Xn([e,n,s],i,!1));c!==a&&(e=r.shallowCopyForMerge(e),e[s]=c)}}else e=r.shallowCopyForMerge(e),e[s]=n[s]}),e):n},t.prototype.shallowCopyForMerge=function(e){return gn(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=_e({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function tR(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=nR(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nR(t,e){if(t){if(typeof t=="string")return H2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H2(t,e)}}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fb(t,e,n){return e&&z2(t.prototype,e),n&&z2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var db=function(){return typeof Symbol=="function"},hb=function(t){return db()&&!!Symbol[t]},pb=function(t){return hb(t)?Symbol[t]:"@@"+t};db()&&!hb("observable")&&(Symbol.observable=Symbol("observable"));var rR=pb("iterator"),ub=pb("observable"),W2=pb("species");function Fh(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function ul(t){var e=t.constructor;return e!==void 0&&(e=e[W2],e===null&&(e=void 0)),e!==void 0?e:en}function iR(t){return t instanceof en}function xc(t){xc.log?xc.log(t):setTimeout(function(){throw t})}function jh(t){Promise.resolve().then(function(){try{t()}catch(e){xc(e)}})}function G2(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=Fh(e,"unsubscribe");n&&n.call(e)}}catch(r){xc(r)}}function lb(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function oR(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(K2(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function K2(t,e,n){t._state="running";var r=t._observer;try{var i=Fh(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(lb(t),i)i.call(r,n);else throw n;break;case"complete":lb(t),i&&i.call(r);break}}catch(o){xc(o)}t._state==="closed"?G2(t):t._state==="running"&&(t._state="ready")}function cb(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],jh(function(){return oR(t)});return}K2(t,e,n)}}var sR=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new aR(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(lb(this),G2(this))},fb(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),aR=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){cb(this._subscription,"next",r)},e.error=function(r){cb(this._subscription,"error",r)},e.complete=function(){cb(this._subscription,"complete")},fb(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),en=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new sR(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(o,s){if(typeof r!="function"){s(new TypeError(r+" is not a function"));return}function a(){c.unsubscribe(),o()}var c=i.subscribe({next:function(f){try{r(f,a)}catch(y){s(y),c.unsubscribe()}},error:s,complete:o})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ul(this);return new o(function(s){return i.subscribe({next:function(a){try{a=r(a)}catch(c){return s.error(c)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ul(this);return new o(function(s){return i.subscribe({next:function(a){try{if(!r(a))return}catch(c){return s.error(c)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ul(this),s=arguments.length>1,a=!1,c=arguments[1],f=c;return new o(function(y){return i.subscribe({next:function(m){var u=!a;if(a=!0,!u||s)try{f=r(f,m)}catch(l){return y.error(l)}else f=m},error:function(m){y.error(m)},complete:function(){if(!a&&!s)return y.error(new TypeError("Cannot reduce an empty sequence"));y.next(f),y.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=ul(this);return new a(function(c){var f,y=0;function m(u){f=u.subscribe({next:function(l){c.next(l)},error:function(l){c.error(l)},complete:function(){y===o.length?(f=void 0,c.complete()):m(a.from(o[y++]))}})}return m(r),function(){f&&(f.unsubscribe(),f=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ul(this);return new o(function(s){var a=[],c=i.subscribe({next:function(y){if(r)try{y=r(y)}catch(u){return s.error(u)}var m=o.from(y).subscribe({next:function(u){s.next(u)},error:function(u){s.error(u)},complete:function(){var u=a.indexOf(m);u>=0&&a.splice(u,1),f()}});a.push(m)},error:function(y){s.error(y)},complete:function(){f()}});function f(){c.closed&&a.length===0&&s.complete()}return function(){a.forEach(function(y){return y.unsubscribe()}),c.unsubscribe()}})},e[ub]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var o=Fh(r,ub);if(o){var s=o.call(r);if(Object(s)!==s)throw new TypeError(s+" is not an object");return iR(s)&&s.constructor===i?s:new i(function(a){return s.subscribe(a)})}if(hb("iterator")&&(o=Fh(r,rR),o))return new i(function(a){jh(function(){if(!a.closed){for(var c=tR(o.call(r)),f;!(f=c()).done;){var y=f.value;if(a.next(y),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){jh(function(){if(!a.closed){for(var c=0;c<r.length;++c)if(a.next(r[c]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=typeof this=="function"?this:t;return new s(function(a){jh(function(){if(!a.closed){for(var c=0;c<i.length;++c)if(a.next(i[c]),a.closed)return;a.complete()}})})},fb(t,null,[{key:W2,get:function(){return this}}]),t}();db()&&Object.defineProperty(en,Symbol("extensions"),{value:{symbol:ub,hostReportError:xc},configurable:!0});function mb(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var Cc;typeof self<"u"?Cc=self:typeof window<"u"?Cc=window:typeof global<"u"?Cc=global:typeof module<"u"?Cc=module:Cc=Function("return this")();var $Y=mb(Cc);var Q2=en.prototype,Y2="@@observable";Q2[Y2]||(Q2[Y2]=function(){return this});function yb(t){return t.catch(function(){}),t}var cR=Object.prototype.toString;function Lh(t){return gb(t)}function gb(t,e){switch(cR.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,o){n[o]=gb(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=gb(t[i],e)}),r}default:return t}}function uR(t){var e=new Set([t]);return e.forEach(function(n){gn(n)&&lR(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){gn(n[r])&&e.add(n[r])})}),t}function lR(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function bs(t){return globalThis.__DEV__!==!1&&uR(t),t}function fa(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function $h(t,e,n){return new en(function(r){var i={then:function(c){return new Promise(function(f){return f(c())})}};function o(c,f){return function(y){if(c){var m=function(){return r.closed?0:c(y)};i=i.then(m,m).then(function(u){return r.next(u)},function(u){return r.error(u)})}else r[f](y)}}var s={next:o(e,"next"),error:o(n,"error"),complete:function(){i.then(function(){return r.complete()})}},a=t.subscribe(s);return function(){return a.unsubscribe()}})}function Bh(t){function e(n){Object.defineProperty(t,n,{value:en})}return Wv&&Symbol.species&&e(Symbol.species),e("@@species"),t}function J2(t){return t&&typeof t.then=="function"}var da=function(t){dr(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,o){r.resolve=i,r.reject=o}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),fa(r.observers,"next",i))},error:function(i){var o=r.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),fa(r.observers,"error",i))},complete:function(){var i=r,o=i.sub,s=i.sources,a=s===void 0?[]:s;if(o!==null){var c=a.shift();c?J2(c)?c.then(function(f){return r.sub=f.subscribe(r.handlers)},r.handlers.error):r.sub=c.subscribe(r.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),fa(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.error(i)},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new en(n)]),J2(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,o){r||(r=!0,n(i,o))})},e}(en);Bh(da);function _s(t){return"incremental"in t}function fR(t){return"hasNext"in t&&"data"in t}function Z2(t){return _s(t)||fR(t)}function X2(t){return gn(t)&&"payload"in t}function Vh(t,e){var n=t,r=new Kr;return _s(e)&&wr(e.incremental)&&e.incremental.forEach(function(i){for(var o=i.data,s=i.path,a=s.length-1;a>=0;--a){var c=s[a],f=!isNaN(+c),y=f?[]:{};y[c]=o,o=y}n=r.merge(n,o)}),n}function Mc(t){var e=Uh(t);return wr(e)}function Uh(t){var e=wr(t.errors)?t.errors.slice(0):[];return _s(t)&&wr(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Xi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var o=r[i];o!==void 0&&(n[i]=o)})}),n}function ll(t,e){return Xi(t,e,e.variables&&{variables:Xi(_e(_e({},t&&t.variables),e.variables))})}function fl(t){return new en(function(e){e.error(t)})}var qh=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function vb(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw Fn(46,i)}return t}function bb(t,e){var n=_e({},t),r=function(o){typeof o=="function"?n=_e(_e({},n),o(n)):n=_e(_e({},n),o)},i=function(){return _e({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function _b(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?gs(e.query)||void 0:""),e}function wb(t,e){var n=_e({},t),r=new Set(Object.keys(t));return ur(e,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(function(i){delete n[i]}),n}function eO(t,e){return e?e(t):en.of()}function dl(t){return typeof t=="function"?new wi(t):t}function Hh(t){return t.request.length<=1}var wi=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return en.of()})},t.from=function(e){return e.length===0?t.empty():e.map(dl).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=dl(n),o=dl(r||new t(eO)),s;return Hh(i)&&Hh(o)?s=new t(function(a){return e(a)?i.request(a)||en.of():o.request(a)||en.of()}):s=new t(function(a,c){return e(a)?i.request(a,c)||en.of():o.request(a,c)||en.of()}),Object.assign(s,{left:i,right:o})},t.execute=function(e,n){return e.request(bb(n.context,_b(vb(n))))||en.of()},t.concat=function(e,n){var r=dl(e);if(Hh(r))return globalThis.__DEV__!==!1&&it.warn(38,r),r;var i=dl(n),o;return Hh(i)?o=new t(function(s){return r.request(s,function(a){return i.request(a)||en.of()})||en.of()}):o=new t(function(s,a){return r.request(s,function(c){return i.request(c,a)||en.of()})||en.of()}),Object.assign(o,{left:r,right:i})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(eO)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw Fn(39)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}();var Nc=wi.execute;function Sb(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function Eb(t){var e=null,n=null,r=!1,i=[],o=[];function s(m){if(!n){if(o.length){var u=o.shift();if(Array.isArray(u)&&u[0])return u[0]({value:m,done:!1})}i.push(m)}}function a(m){n=m;var u=o.slice();u.forEach(function(l){l[1](m)}),!e||e()}function c(){r=!0;var m=o.slice();m.forEach(function(u){u[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",a),t.removeListener("end",c),t.removeListener("finish",c),t.removeListener("close",c)},t.on("data",s),t.on("error",a),t.on("end",c),t.on("finish",c),t.on("close",c);function f(){return new Promise(function(m,u){if(n)return u(n);if(i.length)return m({value:i.shift(),done:!1});if(r)return m({value:void 0,done:!0});o.push([m,u])})}var y={next:function(){return f()}};return hs&&(y[Symbol.asyncIterator]=function(){return this}),y}function Ib(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(o){r({value:o,done:!1})}).catch(i)}))}};return hs&&(n[Symbol.asyncIterator]=function(){return this}),n}function zh(t){var e={next:function(){return t.read()}};return hs&&(e[Symbol.asyncIterator]=function(){return this}),e}function dR(t){return!!t.body}function hR(t){return!!t.getReader}function pR(t){return!!(hs&&t[Symbol.asyncIterator])}function mR(t){return!!t.stream}function yR(t){return!!t.arrayBuffer}function gR(t){return!!t.pipe}function tO(t){var e=t;if(dR(t)&&(e=t.body),pR(e))return Sb(e);if(hR(e))return zh(e.getReader());if(mR(e))return zh(e.stream().getReader());if(yR(e))return Ib(e.arrayBuffer());if(gR(e))return Eb(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var hl=Symbol();function nO(t){return t.extensions?Array.isArray(t.extensions[hl]):!1}function Wh(t){return t.hasOwnProperty("graphQLErrors")}var vR=function(t){var e=Xn(Xn(Xn([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(n){return gn(n)&&n.message||"Error message not found."}).join(`
`)},jo=function(t){dr(e,t);function e(n){var r=n.graphQLErrors,i=n.protocolErrors,o=n.clientErrors,s=n.networkError,a=n.errorMessage,c=n.extraInfo,f=t.call(this,a)||this;return f.name="ApolloError",f.graphQLErrors=r||[],f.protocolErrors=i||[],f.clientErrors=o||[],f.networkError=s||null,f.message=a||vR(f),f.extraInfo=c,f.cause=Xn(Xn(Xn([s],r||[],!0),i||[],!0),o||[],!0).find(function(y){return!!y})||null,f.__proto__=e.prototype,f}return e}(Error);var rO=Object.prototype.hasOwnProperty;function iO(t,e){return ei(this,void 0,void 0,function(){var n,r,i,o,s,a,c,f,y,m,u,l,h,d,p,g,b,v,_,S,w,D,x,M;return Di(this,function(P){switch(P.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),r=(M=t.headers)===null||M===void 0?void 0:M.get("content-type"),i="boundary=",o=r?.includes(i)?r?.substring(r?.indexOf(i)+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s=`\r
--`.concat(o),a="",c=tO(t),f=!0,P.label=1;case 1:return f?[4,c.next()]:[3,3];case 2:for(y=P.sent(),m=y.value,u=y.done,l=typeof m=="string"?m:n.decode(m),h=a.length-s.length+1,f=!u,a+=l,d=a.indexOf(s,h);d>-1;){if(p=void 0,D=[a.slice(0,d),a.slice(d+s.length)],p=D[0],a=D[1],g=p.indexOf(`\r
\r
`),b=bR(p.slice(0,g)),v=b["content-type"],v&&v.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(_=p.slice(g),_){if(S=oO(t,_),Object.keys(S).length>1||"data"in S||"incremental"in S||"errors"in S||"payload"in S)if(X2(S)){if(w={},"payload"in S){if(Object.keys(S).length===1&&S.payload===null)return[2];w=_e({},S.payload)}"errors"in S&&(w=_e(_e({},w),{extensions:_e(_e({},"extensions"in w?w.extensions:null),(x={},x[hl]=S.errors,x))})),e(w)}else e(S);else if(Object.keys(S).length===1&&"hasNext"in S&&!S.hasNext)return[2]}d=a.indexOf(s)}return[3,1];case 3:return[2]}})})}function bR(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),o=n.slice(r+1).trim();e[i]=o}}),e}function oO(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};qh(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function sO(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function aO(t){return function(e){return e.text().then(function(n){return oO(e,n)}).then(function(n){return!Array.isArray(n)&&!rO.call(n,"data")&&!rO.call(n,"errors")&&qh(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var pl=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=Fn(42,e,i.message);throw r.parseError=i,r}return n};var _R={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},wR={accept:"*/*","content-type":"application/json"},SR={method:"POST"},cO={http:_R,headers:wR,options:SR},uO=function(t,e){return e(t)};function lO(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach(function(m){i=_e(_e(_e({},i),m.options),{headers:_e(_e({},i.headers),m.headers)}),m.credentials&&(i.credentials=m.credentials),o=_e(_e({},o),m.http)}),i.headers&&(i.headers=ER(i.headers,o.preserveHeaderCase));var s=t.operationName,a=t.extensions,c=t.variables,f=t.query,y={operationName:s,variables:c};return o.includeExtensions&&(y.extensions=a),o.includeQuery&&(y.query=e(f,Fi)),{options:i,body:y}}function ER(t,e){if(!e){var n={};return Object.keys(Object(t)).forEach(function(o){n[o.toLowerCase()]=t[o]}),n}var r={};Object.keys(Object(t)).forEach(function(o){r[o.toLowerCase()]={originalName:o,value:t[o]}});var i={};return Object.keys(r).forEach(function(o){i[r[o].originalName]=r[o].value}),i}var fO=function(t){if(!t&&typeof fetch>"u")throw Fn(40)};var dO=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function hO(t,e){var n=[],r=function(m,u){n.push("".concat(m,"=").concat(encodeURIComponent(u)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=pl(e.variables,"Variables map")}catch(m){return{parseError:m}}r("variables",i)}if(e.extensions){var o=void 0;try{o=pl(e.extensions,"Extensions map")}catch(m){return{parseError:m}}r("extensions",o)}var s="",a=t,c=t.indexOf("#");c!==-1&&(s=t.substr(c),a=t.substr(0,c));var f=a.indexOf("?")===-1?"?":"&",y=a+f+n.join("&")+s;return{newURI:y}}var pO=Dr(function(){return fetch}),mO=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,o=i===void 0?uO:i,s=t.includeExtensions,a=t.preserveHeaderCase,c=t.useGETForQueries,f=t.includeUnusedVariables,y=f===void 0?!1:f,m=hr(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&fO(r||pO);var u={http:{includeExtensions:s,preserveHeaderCase:a},options:m.fetchOptions,credentials:m.credentials,headers:m.headers};return new wi(function(l){var h=dO(l,n),d=l.getContext(),p={};if(d.clientAwareness){var g=d.clientAwareness,b=g.name,v=g.version;b&&(p["apollographql-client-name"]=b),v&&(p["apollographql-client-version"]=v)}var _=_e(_e({},p),d.headers),S={http:d.http,options:d.fetchOptions,credentials:d.credentials,headers:_};if(Co(["client"],l.query)){var w=cl(l.query);if(!w)return fl(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));l.query=w}var D=lO(l,o,cO,u,S),x=D.options,M=D.body;M.variables&&!y&&(M.variables=wb(M.variables,l.query));var P;!x.signal&&typeof AbortController<"u"&&(P=new AbortController,x.signal=P.signal);var k=function(O){return O.kind==="OperationDefinition"&&O.operation==="mutation"},B=function(O){return O.kind==="OperationDefinition"&&O.operation==="subscription"},L=B(ji(l.query)),V=Co(["defer"],l.query);if(c&&!l.query.definitions.some(k)&&(x.method="GET"),V||L){x.headers=x.headers||{};var Q="multipart/mixed;";L&&V&&globalThis.__DEV__!==!1&&it.warn(41),L?Q+="boundary=graphql;subscriptionSpec=1.0,application/json":V&&(Q+="deferSpec=20220824,application/json"),x.headers.accept=Q}if(x.method==="GET"){var ne=hO(h,M),te=ne.newURI,E=ne.parseError;if(E)return fl(E);h=te}else try{x.body=pl(M,"Payload")}catch(O){return fl(O)}return new en(function(O){var C=r||Dr(function(){return fetch})||pO,I=O.next.bind(O);return C(h,x).then(function(T){var N;l.setContext({response:T});var j=(N=T.headers)===null||N===void 0?void 0:N.get("content-type");return j!==null&&/^multipart\/mixed/i.test(j)?iO(T,I):aO(l)(T).then(I)}).then(function(){P=void 0,O.complete()}).catch(function(T){P=void 0,sO(T,O)}),function(){P&&P.abort()}})})};var Ob=function(t){dr(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,mO(n).request)||this;return r.options=n,r}return e}(wi);var{toString:yO,hasOwnProperty:IR}=Object.prototype,gO=Function.prototype.toString,Db=new Map;function xn(t,e){try{return Ab(t,e)}finally{Db.clear()}}var ml=xn;function Ab(t,e){if(t===e)return!0;let n=yO.call(t),r=yO.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(bO(t,e))return!0;let i=vO(t),o=vO(e),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!IR.call(e,i[a]))return!1;for(let a=0;a<s;++a){let c=i[a];if(!Ab(t[c],e[c]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(bO(t,e))return!0;let i=t.entries(),o=n==="[object Map]";for(;;){let s=i.next();if(s.done)break;let[a,c]=s.value;if(!e.has(a)||o&&!Ab(c,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{let i=gO.call(t);return i!==gO.call(e)?!1:!AR(i,DR)}}return!1}function vO(t){return Object.keys(t).filter(OR,t)}function OR(t){return this[t]!==void 0}var DR="{ [native code] }";function AR(t,e){let n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function bO(t,e){let n=Db.get(t);if(n){if(n.has(e))return!0}else Db.set(t,n=new Set);return n.add(e),!1}function Kh(t,e,n,r){var i=e.data,o=hr(e,["data"]),s=n.data,a=hr(n,["data"]);return ml(o,a)&&Gh(ji(t).selectionSet,i,s,{fragmentMap:si(ci(t)),variables:r})}function Gh(t,e,n,r){if(e===n)return!0;var i=new Set;return t.selections.every(function(o){if(i.has(o)||(i.add(o),!Ri(o,r.variables))||_O(o))return!0;if(Br(o)){var s=Ar(o),a=e&&e[s],c=n&&n[s],f=o.selectionSet;if(!f)return ml(a,c);var y=Array.isArray(a),m=Array.isArray(c);if(y!==m)return!1;if(y&&m){var u=a.length;if(c.length!==u)return!1;for(var l=0;l<u;++l)if(!Gh(f,a[l],c[l],r))return!1;return!0}return Gh(f,a,c,r)}else{var h=Mo(o,r.fragmentMap);if(h)return _O(h)?!0:Gh(h.selectionSet,e,n,r)}})}function _O(t){return!!t.directives&&t.directives.some(TR)}function TR(t){return t.name.value==="nonreactive"}var Qh=oi?WeakMap:Map,Yh=Ec?WeakSet:Set,Pc=new ko,wO=!1;function Jh(){wO||(wO=!0,globalThis.__DEV__!==!1&&it.warn(52))}function Zh(t,e,n){return Pc.withValue(!0,function(){var r=yl(t,e,n,!1);return Object.isFrozen(t)&&bs(r),r})}function xR(t,e){if(e.has(t))return e.get(t);var n=Array.isArray(t)?[]:Object.create(null);return e.set(t,n),n}function yl(t,e,n,r,i){var o,s=n.knownChanged,a=xR(t,n.mutableTargets);if(Array.isArray(t)){for(var c=0,f=Array.from(t.entries());c<f.length;c++){var y=f[c],m=y[0],u=y[1];if(u===null){a[m]=null;continue}var l=yl(u,e,n,r,globalThis.__DEV__!==!1?"".concat(i||"","[").concat(m,"]"):void 0);s.has(l)&&s.add(a),a[m]=l}return s.has(a)?a:t}for(var h=0,d=e.selections;h<d.length;h++){var p=d[h],g=void 0;if(r&&s.add(a),p.kind===ot.FIELD){var b=Ar(p),v=p.selectionSet;if(g=a[b]||t[b],g===void 0)continue;if(v&&g!==null){var l=yl(t[b],v,n,r,globalThis.__DEV__!==!1?"".concat(i||"",".").concat(b):void 0);s.has(l)&&(g=l)}globalThis.__DEV__===!1&&(a[b]=g),globalThis.__DEV__!==!1&&(r&&b!=="__typename"&&!(!((o=Object.getOwnPropertyDescriptor(a,b))===null||o===void 0)&&o.value)?Object.defineProperty(a,b,CR(b,g,i||"",n.operationName,n.operationType)):(delete a[b],a[b]=g))}if(p.kind===ot.INLINE_FRAGMENT&&(!p.typeCondition||n.cache.fragmentMatches(p,t.__typename))&&(g=yl(t,p.selectionSet,n,r,i)),p.kind===ot.FRAGMENT_SPREAD){var _=p.name.value,S=n.fragmentMap[_]||(n.fragmentMap[_]=n.cache.lookupFragment(_));it(S,47,_);var w=zv(p);w!=="mask"&&(g=yl(t,S.selectionSet,n,w==="migrate",i))}s.has(g)&&s.add(a)}return"__typename"in t&&!("__typename"in a)&&(a.__typename=t.__typename),Object.keys(a).length!==Object.keys(t).length&&s.add(a),s.has(a)?a:t}function CR(t,e,n,r,i){var o=function(){return Pc.getValue()||(globalThis.__DEV__!==!1&&it.warn(48,r?"".concat(i," '").concat(r,"'"):"anonymous ".concat(i),"".concat(n,".").concat(t).replace(/^\./,"")),o=function(){return e}),e};return{get:function(){return o()},set:function(s){o=function(){return s}},enumerable:!0,configurable:!0}}function gl(t,e,n,r){if(!n.fragmentMatches)return globalThis.__DEV__!==!1&&Jh(),t;var i=e.definitions.filter(function(s){return s.kind===ot.FRAGMENT_DEFINITION});typeof r>"u"&&(it(i.length===1,49,i.length),r=i[0].name.value);var o=i.find(function(s){return s.name.value===r});return it(!!o,50,r),t==null||ml(t,{})?t:Zh(t,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:si(ci(e)),cache:n,mutableTargets:new Qh,knownChanged:new Yh})}function Tb(t,e,n){var r;if(!n.fragmentMatches)return globalThis.__DEV__!==!1&&Jh(),t;var i=ai(e);return it(i,51),t==null?t:Zh(t,i.selectionSet,{operationType:i.operation,operationName:(r=i.name)===null||r===void 0?void 0:r.value,fragmentMap:si(ci(e)),cache:n,mutableTargets:new Qh,knownChanged:new Yh})}var Xh=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Ro(Gv,{max:lr["cache.fragmentQueryDocuments"]||1e3,cache:Zi})}return t.prototype.lookupFragment=function(e){return null},t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(_e(_e({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.watchFragment=function(e){var n=this,r=e.fragment,i=e.fragmentName,o=e.from,s=e.optimistic,a=s===void 0?!0:s,c=hr(e,["fragment","fragmentName","from","optimistic"]),f=this.getFragmentDoc(r,i),y=typeof o>"u"||typeof o=="string"?o:this.identify(o),m=!!e[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var u=i||rl(r).name.value;y||globalThis.__DEV__!==!1&&it.warn(1,u)}var l=_e(_e({},c),{returnPartialData:!0,id:y,query:f,optimistic:a}),h;return new en(function(d){return n.watch(_e(_e({},l),{immediate:!0,callback:function(p){var g=m?gl(p.result,r,n,i):p.result;if(!(h&&Kh(f,{data:h?.result},{data:g}))){var b={data:g,complete:!!p.complete};p.missing&&(b.missing=la(p.missing.map(function(v){return v.missing}))),h=_e(_e({},p),{result:g}),d.next(b)}}}))})},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(_e(_e({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=hr(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,o=e.fragmentName,s=hr(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),o=n(i);return o==null?i:(r.writeQuery(_e(_e({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),o=n(i);return o==null?i:(r.writeFragment(_e(_e({},e),{data:o})),o)}})},t}();globalThis.__DEV__!==!1&&(Xh.prototype.getMemoryInternals=v2);var vl=function(t){dr(e,t);function e(n,r,i,o){var s,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var c=a.path.length-1;c>=0;--c)a.missing=(s={},s[a.path[c]]=a.missing,s)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error);var er=Object.prototype.hasOwnProperty;function bl(t){return t==null}function tp(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=bl(r)?bl(i)?void 0:{_id:i}:{id:r}),bl(r)&&!bl(i)&&(r=i),!bl(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var SO={dataIdFromObject:tp,addTypename:!0,resultCaching:!0,canonizeResults:!1};function EO(t){return Xi(SO,t)}function np(t){var e=t.canonizeResults;return e===void 0?SO.canonizeResults:e}function IO(t,e){return rn(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var xb=/^[_a-z][_0-9a-z]*/i;function Li(t){var e=t.match(xb);return e?e[0]:t}function ep(t,e,n){return gn(e)?kn(e)?e.every(function(r){return ep(t,r,n)}):t.selections.every(function(r){if(Br(r)&&Ri(r,n)){var i=Ar(r);return er.call(e,i)&&(!r.selectionSet||ep(r.selectionSet,e[i],n))}return!0}):!1}function ws(t){return gn(t)&&!rn(t)&&!kn(t)}function OO(){return new Kr}function rp(t,e){var n=si(ci(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var ip=Object.create(null),Cb=function(){return ip},DO=Object.create(null),kc=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return bs(rn(i)?r.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return rn(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return _i(i);if(rn(i))return i;var s=r.policies.identify(i)[0];if(s){var a=_i(s);return o&&r.merge(s,i),a}}}return t.prototype.toObject=function(){return _e({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),er.call(this.data,e)){var r=this.data[e];if(r&&er.call(r,n))return r[n]}if(n==="__typename"&&er.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Ss)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),er.call(this.data,e))return this.data[e];if(this instanceof Ss)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;rn(e)&&(e=e.__ref),rn(n)&&(n=n.__ref);var o=typeof e=="string"?this.lookup(i=e):e,s=typeof n=="string"?this.lookup(i=n):n;if(s){it(typeof i=="string",2);var a=new Kr(NR).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var c=Object.create(null);o||(c.__exists=1),Object.keys(s).forEach(function(f){if(!o||o[f]!==a[f]){c[f]=1;var y=Li(f);y!==f&&!r.policies.hasKeyArgs(a.__typename,y)&&(c[y]=1),a[f]===void 0&&!(r instanceof Ss)&&delete a[f]}}),c.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete c.__typename,Object.keys(c).forEach(function(f){return r.group.dirty(i,f)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,c={DELETE:ip,INVALIDATE:DO,isReference:rn,toReference:this.toReference,canRead:this.canRead,readField:function(f,y){return r.policies.readField(typeof f=="string"?{fieldName:f,from:y||_i(e)}:f,{store:r})}};if(Object.keys(i).forEach(function(f){var y=Li(f),m=i[f];if(m!==void 0){var u=typeof n=="function"?n:n[f]||n[y];if(u){var l=u===Cb?ip:u(bs(m),_e(_e({},c),{fieldName:y,storeFieldName:f,storage:r.getStorage(e,f)}));if(l===DO)r.group.dirty(e,f);else if(l===ip&&(l=void 0),l!==m&&(o[f]=l,s=!0,m=l,globalThis.__DEV__!==!1)){var h=function(S){if(r.lookup(S.__ref)===void 0)return globalThis.__DEV__!==!1&&it.warn(3,S),!0};if(rn(l))h(l);else if(Array.isArray(l))for(var d=!1,p=void 0,g=0,b=l;g<b.length;g++){var v=b[g];if(rn(v)){if(d=!0,h(v))break}else if(typeof v=="object"&&v){var _=r.policies.identify(v)[0];_&&(p=v)}if(d&&p!==void 0){globalThis.__DEV__!==!1&&it.warn(4,p);break}}}}m!==void 0&&(a=!1)}}),s)return this.merge(e,o),a&&(this instanceof Ss?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,o=this.lookup(e);if(o){var s=this.getFieldValue(o,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=Cb,i):Cb)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(er.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof Ss&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){er.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(o){e&&er.call(e,o)||n.delete(o)}),e){var r=e.__META,i=hr(e,["__META"]);Object.keys(i).forEach(function(o){n.merge(o,i[o])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Ss?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(s){er.call(r,s)&&(Object.keys(e.findChildRefIds(s)).forEach(n.add,n),delete r[s])});var i=Object.keys(r);if(i.length){for(var o=this;o instanceof Ss;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},t.prototype.findChildRefIds=function(e){if(!er.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(o){rn(o)&&(n[o.__ref]=!0),gn(o)&&Object.keys(o).forEach(function(s){var a=o[s];gn(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}();var AO=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?sl():null,this.keyMaker=new Lr(oi)},t.prototype.depend=function(e,n){if(this.d){this.d(Mb(e,n));var r=Li(n);r!==n&&this.d(Mb(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(Mb(e,n),n==="__exists"?"forget":"setDirty")},t}();function Mb(t,e){return e+"#"+t}function Nb(t,e){ha(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){dr(r,n);function r(i){var o=i.policies,s=i.resultCaching,a=s===void 0?!0:s,c=i.seed,f=n.call(this,o,new AO(a))||this;return f.stump=new MR(f),f.storageTrie=new Lr(oi),c&&f.replace(c),f}return r.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(kc||(kc={}));var Ss=function(t){dr(e,t);function e(n,r,i,o){var s=t.call(this,r.policies,o)||this;return s.id=n,s.parent=r,s.replay=i,s.group=o,i(s),s}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=r.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(c){xn(s[c],a[c])||r.group.dirty(o,c)}):(r.group.dirty(o,"__exists"),Object.keys(a).forEach(function(c){r.group.dirty(o,c)})):r.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return _e(_e({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return er.call(this.data,n)?_e(_e({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(kc),MR=function(t){dr(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new AO(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(n,r){return this.parent.merge(n,r)},e}(Ss);function NR(t,e,n){var r=t[n],i=e[n];return xn(r,i)?r:i}function ha(t){return!!(t instanceof kc&&t.group.caching)}function PR(t){return gn(t)?kn(t)?t.slice(0):_e({__proto__:Object.getPrototypeOf(t)},t):t}var Pb=function(){function t(){this.known=new(Ec?WeakSet:Set),this.pool=new Lr(oi),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return gn(e)&&this.known.has(e)},t.prototype.pass=function(e){if(gn(e)){var n=PR(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(gn(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),c=[a],f=this.sortedKeys(e);c.push(f.json);var y=c.length;f.sorted.forEach(function(l){c.push(n.admit(e[l]))});var s=this.pool.lookupArray(c);if(!s.object){var m=s.object=Object.create(a);this.known.add(m),f.sorted.forEach(function(l,h){m[l]=c[y+h]}),globalThis.__DEV__!==!1&&Object.freeze(m)}return s.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}();function TO(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var xO=function(){function t(e){var n=this;this.knownResults=new(oi?WeakMap:Map),this.config=Xi(e,{addTypename:e.addTypename!==!1,canonizeResults:np(e)}),this.canon=e.canon||new Pb,this.executeSelectionSet=Ro(function(r){var i,o=r.context.canonizeResults,s=TO(r);s[3]=!o;var a=(i=n.executeSelectionSet).peek.apply(i,s);return a?o?_e(_e({},a),{result:n.canon.admit(a.result)}):a:(Nb(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||lr["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:TO,makeCacheKey:function(r,i,o,s){if(ha(o.store))return o.store.makeCacheKey(r,rn(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Ro(function(r){return Nb(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||lr["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,o=r.array,s=r.context;if(ha(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Pb},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,c=a===void 0?!0:a,f=e.canonizeResults,y=f===void 0?this.config.canonizeResults:f,m=this.config.cache.policies;s=_e(_e({},aa(nl(r))),s);var u=_i(o),l=this.executeSelectionSet({selectionSet:ji(r).selectionSet,objectOrReference:u,enclosingRef:u,context:_e({store:n,query:r,policies:m,variables:s,varString:$r(s),canonizeResults:y},rp(r,this.config.fragments))}),h;if(l.missing&&(h=[new vl(kR(l.missing),l.missing,r,s)],!c))throw h[0];return{result:l.result,complete:!h,missing:h}},t.prototype.isFresh=function(e,n,r,i){if(ha(i.store)&&this.knownResults.get(e)===r){var o=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,s=e.context;if(rn(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=s.variables,c=s.policies,f=s.store,y=f.getFieldValue(i,"__typename"),m=[],u,l=new Kr;this.config.addTypename&&typeof y=="string"&&!c.rootIdsByTypename[y]&&m.push({__typename:y});function h(v,_){var S;return v.missing&&(u=l.merge(u,(S={},S[_]=v.missing,S))),v.result}var d=new Set(r.selections);d.forEach(function(v){var _,S;if(Ri(v,a))if(Br(v)){var w=c.readField({fieldName:v.name.value,field:v,variables:s.variables,from:i},s),D=Ar(v);w===void 0?ua.added(v)||(u=l.merge(u,(_={},_[D]="Can't find field '".concat(v.name.value,"' on ").concat(rn(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),_))):kn(w)?w.length>0&&(w=h(n.executeSubSelectedArray({field:v,array:w,enclosingRef:o,context:s}),D)):v.selectionSet?w!=null&&(w=h(n.executeSelectionSet({selectionSet:v.selectionSet,objectOrReference:w,enclosingRef:rn(w)?w:o,context:s}),D)):s.canonizeResults&&(w=n.canon.pass(w)),w!==void 0&&m.push((S={},S[D]=w,S))}else{var x=Mo(v,s.lookupFragment);if(!x&&v.kind===ot.FRAGMENT_SPREAD)throw Fn(10,v.name.value);x&&c.fragmentMatches(x,y)&&x.selectionSet.selections.forEach(d.add,d)}});var p=la(m),g={result:p,missing:u},b=s.canonizeResults?this.canon.admit(g):bs(g);return b.result&&this.knownResults.set(b.result,r),b},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context,a,c=new Kr;function f(y,m){var u;return y.missing&&(a=c.merge(a,(u={},u[m]=y.missing,u))),y.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(y,m){return y===null?null:kn(y)?f(n.executeSubSelectedArray({field:r,array:y,enclosingRef:o,context:s}),m):r.selectionSet?f(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:y,enclosingRef:rn(y)?y:o,context:s}),m):(globalThis.__DEV__!==!1&&RR(s.store,r,y),y)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function kR(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function RR(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){gn(i)&&(it(!rn(i),11,IO(t,i),e.name.value),Object.values(i).forEach(r.add,r))})}}var Rc=new ko,CO=new WeakMap;function _l(t){var e=CO.get(t);return e||CO.set(t,e={vars:new Set,dep:sl()}),e}function kb(t){_l(t).vars.forEach(function(e){return e.forgetCache(t)})}function MO(t){_l(t).vars.forEach(function(e){return e.attachCache(t)})}function op(t){var e=new Set,n=new Set,r=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(c){_l(c).dep.dirty(r),jR(c)});var s=Array.from(n);n.clear(),s.forEach(function(c){return c(t)})}}else{var a=Rc.getValue();a&&(i(a),_l(a).dep(r))}return t};r.onNextChange=function(o){return n.add(o),function(){n.delete(o)}};var i=r.attachCache=function(o){return e.add(o),_l(o).vars.add(r),r};return r.forgetCache=function(o){return e.delete(o)},r}function jR(t){t.broadcastWatches&&t.broadcastWatches()}var NO=Object.create(null);function Rb(t){var e=JSON.stringify(t);return NO[e]||(NO[e]=Object.create(null))}function jb(t){var e=Rb(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(s,a){return r.readField(a,s)},o=r.keyObject=Lb(t,function(s){var a=jc(r.storeObject,s,i);return a===void 0&&n!==r.storeObject&&er.call(n,s[0])&&(a=jc(n,s,kO)),it(a!==void 0,5,s.join("."),n),a});return"".concat(r.typename,":").concat(JSON.stringify(o))})}function Fb(t){var e=Rb(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,o=r.variables,s=r.fieldName,a=Lb(t,function(f){var y=f[0],m=y.charAt(0);if(m==="@"){if(i&&wr(i.directives)){var u=y.slice(1),l=i.directives.find(function(g){return g.name.value===u}),h=l&&No(l,o);return h&&jc(h,f.slice(1))}return}if(m==="$"){var d=y.slice(1);if(o&&er.call(o,d)){var p=f.slice(0);return p[0]=d,jc(o,p)}return}if(n)return jc(n,f)}),c=JSON.stringify(a);return(n||c!=="{}")&&(s+=":"+c),s})}function Lb(t,e){var n=new Kr;return PO(t).reduce(function(r,i){var o,s=e(i);if(s!==void 0){for(var a=i.length-1;a>=0;--a)s=(o={},o[i[a]]=s,o);r=n.merge(r,s)}return r},Object.create(null))}function PO(t){var e=Rb(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,o){kn(i)?(PO(i).forEach(function(s){return n.push(r.concat(s))}),r.length=0):(r.push(i),kn(t[o+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function kO(t,e){return t[e]}function jc(t,e,n){return n=n||kO,RO(e.reduce(function r(i,o){return kn(i)?i.map(function(s){return r(s,o)}):i&&n(i,o)},t))}function RO(t){return gn(t)?kn(t)?t.map(RO):Lb(Object.keys(t).sort(),function(e){return jc(t,e)}):t}function $b(t){return t.args!==void 0?t.args:t.field?No(t.field,t.variables):null}var FR=function(){},jO=function(t,e){return e.fieldName},FO=function(t,e,n){var r=n.mergeObjects;return r(t,e)},LO=function(t,e){return e},BO=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=_e({dataIdFromObject:tp},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,o=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var s=n&&n.storeObject||e,a=_e(_e({},n),{typename:o,storeObject:s,readField:n&&n.readField||function(){var m=sp(arguments,s);return i.readField(m,{store:i.cache.data,variables:m.variables})}}),c,f=o&&this.getTypePolicy(o),y=f&&f.keyFn||this.config.dataIdFromObject;return Pc.withValue(!0,function(){for(;y;){var m=y(_e(_e({},e),s),a);if(kn(m))y=jb(m);else{c=m;break}}}),c=c?String(c):void 0,a.keyObject?[c,a.keyObject]:[c]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],o=i.queryType,s=i.mutationType,a=i.subscriptionType,c=hr(i,["queryType","mutationType","subscriptionType"]);o&&n.setRootTypename("Query",r),s&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),er.call(n.toBeAdded,r)?n.toBeAdded[r].push(c):n.toBeAdded[r]=[c]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),o=n.keyFields,s=n.fields;function a(c,f){c.merge=typeof f=="function"?f:f===!0?FO:f===!1?LO:c.merge}a(i,n.merge),i.keyFn=o===!1?FR:kn(o)?jb(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(c){var f=r.getFieldPolicy(e,c,!0),y=s[c];if(typeof y=="function")f.read=y;else{var m=y.keyArgs,u=y.read,l=y.merge;f.keyFn=m===!1?jO:kn(m)?Fb(m):typeof m=="function"?m:f.keyFn,typeof u=="function"&&(f.read=u),a(f,l)}f.read&&f.merge&&(f.keyFn=f.keyFn||jO)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(it(!i||i===e,6,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var o=i.match(xb);(!o||o[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!er.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(s,a){if(s.test(e)){var c=n.supertypeMap.get(a);c&&c.forEach(function(f){return i.add(f)})}})),i&&i.size&&i.forEach(function(s){var a=n.getTypePolicy(s),c=a.fields,f=hr(a,["fields"]);Object.assign(r,f),Object.assign(r.fields,c)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(s){n.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var o=this;if(!e.typeCondition)return!0;if(!n)return!1;var s=e.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(n,!0),c=[a],f=function(h){var d=o.getSupertypeSet(h,!1);d&&d.size&&c.indexOf(d)<0&&c.push(d)},y=!!(r&&this.fuzzySubtypes.size),m=!1,u=0;u<c.length;++u){var l=c[u];if(l.has(s))return a.has(s)||(m&&globalThis.__DEV__!==!1&&it.warn(7,n,s),a.add(s)),!0;l.forEach(f),y&&u===c.length-1&&ep(e.selectionSet,r,i)&&(y=!1,m=!0,this.fuzzySubtypes.forEach(function(h,d){var p=n.match(h);p&&p[0]===n&&f(d)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o,s=i&&i.keyFn;if(s&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},c=$b(e);s;){var f=s(c,a);if(kn(f))s=Fb(f);else{o=f||r;break}}return o===void 0&&(o=e.field?eb(e.field,e.variables):kh(r,$b(e))),o===!1?r:r===Li(o)?o:r+":"+o},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var o=n.store.getFieldValue(r,"__typename");o&&(e.typename=o)}var s=this.getStoreFieldName(e),a=Li(s),c=n.store.getFieldValue(r,s),f=this.getFieldPolicy(e.typename,a,!1),y=f&&f.read;if(y){var m=$O(this,r,e,n,n.store.getStorage(rn(r)?r.__ref:r,s));return Rc.withValue(this.cache,y,[c,m])}return c}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),o=i&&i.merge;return!o&&r&&(i=this.getTypePolicy(r),o=i&&i.merge),o},t.prototype.runMergeFunction=function(e,n,r,i,o){var s=r.field,a=r.typename,c=r.merge;return c===FO?VO(i.store)(e,n):c===LO?n:(i.overwrite&&(e=void 0),c(e,n,$O(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},t}();function $O(t,e,n,r,i){var o=t.getStoreFieldName(n),s=Li(o),a=n.variables||r.variables,c=r.store,f=c.toReference,y=c.canRead;return{args:$b(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:rn,toReference:f,storage:i,cache:t.cache,canRead:y,readField:function(){return t.readField(sp(arguments,e,a),r)},mergeObjects:VO(r.store)}}function sp(t,e,n){var r=t[0],i=t[1],o=t.length,s;return typeof r=="string"?s={fieldName:r,from:o>1?i:e}:(s=_e({},r),er.call(s,"from")||(s.from=e)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&it.warn(8,wh(Array.from(t))),s.variables===void 0&&(s.variables=n),s}function VO(t){return function(n,r){if(kn(n)||kn(r))throw Fn(9);if(gn(n)&&gn(r)){var i=t.getFieldValue(n,"__typename"),o=t.getFieldValue(r,"__typename"),s=i&&o&&i!==o;if(s)return r;if(rn(n)&&ws(r))return t.merge(n.__ref,r),n;if(ws(n)&&rn(r))return t.merge(n,r.__ref),r;if(ws(n)&&ws(r))return _e(_e({},n),r)}return r}}function Bb(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:_e(_e({},t),{clientOnly:e,deferred:n})),i}var zO=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,o=n.result,s=n.dataId,a=n.variables,c=n.overwrite,f=ai(i),y=OO();a=_e(_e({},aa(f)),a);var m=_e(_e({store:e,written:Object.create(null),merge:function(l,h){return y.merge(l,h)},variables:a,varString:$r(a)},rp(i,this.fragments)),{overwrite:!!c,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),u=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:f.selectionSet,mergeTree:{map:new Map},context:m});if(!rn(u))throw Fn(12,o);return m.incomingById.forEach(function(l,h){var d=l.storeObject,p=l.mergeTree,g=l.fieldNodeSet,b=_i(h);if(p&&p.map.size){var v=r.applyMerges(p,b,d,m);if(rn(v))return;d=v}if(globalThis.__DEV__!==!1&&!m.overwrite){var _=Object.create(null);g.forEach(function(D){D.selectionSet&&(_[D.name.value]=!0)});var S=function(D){return _[Li(D)]===!0},w=function(D){var x=p&&p.map.get(D);return!!(x&&x.info&&x.info.merge)};Object.keys(d).forEach(function(D){S(D)&&!w(D)&&LR(b,d,D,m.store)})}e.merge(h,d)}),e.retain(u.__ref),u},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,o=e.selectionSet,s=e.context,a=e.mergeTree,c=this.cache.policies,f=Object.create(null),y=r&&c.rootTypenamesById[r]||tl(i,o,s.fragmentMap)||r&&s.store.get(r,"__typename");typeof y=="string"&&(f.__typename=y);var m=function(){var v=sp(arguments,f,s.variables);if(rn(v.from)){var _=s.incomingById.get(v.from.__ref);if(_){var S=c.readField(_e(_e({},v),{from:_.storeObject}),s);if(S!==void 0)return S}}return c.readField(v,s)},u=new Set;this.flattenFields(o,i,s,y).forEach(function(v,_){var S,w=Ar(_),D=i[w];if(u.add(_),D!==void 0){var x=c.getStoreFieldName({typename:y,fieldName:_.name.value,field:_,variables:v.variables}),M=UO(a,x),P=n.processFieldValue(D,_,_.selectionSet?Bb(v,!1,!1):v,M),k=void 0;_.selectionSet&&(rn(P)||ws(P))&&(k=m("__typename",P));var B=c.getMergeFunction(y,_.name.value,k);B?M.info={field:_,typename:y,merge:B}:qO(a,x),f=v.merge(f,(S={},S[x]=P,S))}else globalThis.__DEV__!==!1&&!v.clientOnly&&!v.deferred&&!ua.added(_)&&!c.getReadFunction(y,_.name.value)&&globalThis.__DEV__!==!1&&it.error(13,Ar(_),i)});try{var l=c.identify(i,{typename:y,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:f,readField:m}),h=l[0],d=l[1];r=r||h,d&&(f=s.merge(f,d))}catch(v){if(!r)throw v}if(typeof r=="string"){var p=_i(r),g=s.written[r]||(s.written[r]=[]);if(g.indexOf(o)>=0||(g.push(o),this.reader&&this.reader.isFresh(i,p,o,s)))return p;var b=s.incomingById.get(r);return b?(b.storeObject=s.merge(b.storeObject,f),b.mergeTree=Vb(b.mergeTree,a),u.forEach(function(v){return b.fieldNodeSet.add(v)})):s.incomingById.set(r,{storeObject:f,mergeTree:ap(a)?void 0:a,fieldNodeSet:u}),p}return f},t.prototype.processFieldValue=function(e,n,r,i){var o=this;return!n.selectionSet||e===null?globalThis.__DEV__!==!1?Lh(e):e:kn(e)?e.map(function(s,a){var c=o.processFieldValue(s,n,r,UO(i,a));return qO(i,a),c}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=tl(n,e,r.fragmentMap));var o=new Map,s=this.cache.policies,a=new Lr(!1);return function c(f,y){var m=a.lookup(f,y.clientOnly,y.deferred);m.visited||(m.visited=!0,f.selections.forEach(function(u){if(Ri(u,r.variables)){var l=y.clientOnly,h=y.deferred;if(!(l&&h)&&wr(u.directives)&&u.directives.forEach(function(g){var b=g.name.value;if(b==="client"&&(l=!0),b==="defer"){var v=No(g,r.variables);(!v||v.if!==!1)&&(h=!0)}}),Br(u)){var d=o.get(u);d&&(l=l&&d.clientOnly,h=h&&d.deferred),o.set(u,Bb(r,l,h))}else{var p=Mo(u,r.lookupFragment);if(!p&&u.kind===ot.FRAGMENT_SPREAD)throw Fn(14,u.name.value);p&&s.fragmentMatches(p,i,n,r.variables)&&c(p.selectionSet,Bb(r,l,h))}}}))}(e,r),o},t.prototype.applyMerges=function(e,n,r,i,o){var s,a=this;if(e.map.size&&!rn(r)){var c=!kn(r)&&(rn(n)||ws(n))?n:void 0,f=r;c&&!o&&(o=[rn(c)?c.__ref:c]);var y,m=function(u,l){return kn(u)?typeof l=="number"?u[l]:void 0:i.store.getFieldValue(u,String(l))};e.map.forEach(function(u,l){var h=m(c,l),d=m(f,l);if(d!==void 0){o&&o.push(l);var p=a.applyMerges(u,h,d,i,o);p!==d&&(y=y||new Map,y.set(l,p)),o&&it(o.pop()===l)}}),y&&(r=kn(f)?f.slice(0):_e({},f),y.forEach(function(u,l){r[l]=u}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):r},t}();var WO=[];function UO(t,e){var n=t.map;return n.has(e)||n.set(e,WO.pop()||{map:new Map}),n.get(e)}function Vb(t,e){if(t===e||!e||ap(e))return t;if(!t||ap(t))return e;var n=t.info&&e.info?_e(_e({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,o={info:n,map:i};if(r){var s=new Set(e.map.keys());t.map.forEach(function(a,c){o.map.set(c,Vb(a,e.map.get(c))),s.delete(c)}),s.forEach(function(a){o.map.set(a,Vb(e.map.get(a),t.map.get(a)))})}return o}function ap(t){return!t||!(t.info||t.map.size)}function qO(t,e){var n=t.map,r=n.get(e);r&&ap(r)&&(WO.push(r),n.delete(e))}var HO=new Set;function LR(t,e,n,r){var i=function(m){var u=r.getFieldValue(m,n);return typeof u=="object"&&u},o=i(t);if(o){var s=i(e);if(s&&!rn(o)&&!xn(o,s)&&!Object.keys(o).every(function(m){return r.getFieldValue(s,m)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),c=Li(n),f="".concat(a,".").concat(c);if(!HO.has(f)){HO.add(f);var y=[];!kn(o)&&!kn(s)&&[o,s].forEach(function(m){var u=r.getFieldValue(m,"__typename");typeof u=="string"&&!y.includes(u)&&y.push(u)}),globalThis.__DEV__!==!1&&it.warn(15,c,a,y.length?"either ensure all objects of type "+y.join(" and ")+" have an ID or a custom merge function, or ":"",f,_e({},o),_e({},s))}}}}var Fc=function(t){dr(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new Tc(ua),r.assumeImmutableResults=!0,r.makeVar=op,r.txCount=0,r.config=EO(n),r.addTypename=!!r.config.addTypename,r.policies=new BO({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new kc.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new zO(this,this.storeReader=new xO({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:np(this.config),canon:n?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Ro(function(s,a){return r.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize||lr["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var a=s.optimistic?r.optimisticData:r.data;if(ha(a)){var c=s.optimistic,f=s.id,y=s.variables;return a.makeCacheKey(s.query,s.callback,$r({optimistic:c,id:f,variables:y}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(_e(_e({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof vl)return null;throw o}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(er.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(_e(_e({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||MO(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&kb(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){var r;$r.reset(),Fi.reset(),this.addTypenameTransform.resetCache(),(r=this.config.fragments)===null||r===void 0||r.resetCaches();var i=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),i},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(rn(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){globalThis.__DEV__!==!1&&it.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(er.call(n,"id"))return!1;n=_e(_e({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),$r.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),kb(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,o=n.optimistic,s=o===void 0?!0:o,a=n.removeOptimistic,c=n.onWatchUpdated,f,y=function(u){var l=r,h=l.data,d=l.optimisticData;++r.txCount,u&&(r.data=r.optimisticData=u);try{return f=i(r)}finally{--r.txCount,r.data=h,r.optimisticData=d}},m=new Set;return c&&!this.txCount&&this.broadcastWatches(_e(_e({},n),{onWatchUpdated:function(u){return m.add(u),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,y):s===!1?y(this.data):y(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),c&&m.size?(this.broadcastWatches(_e(_e({},n),{onWatchUpdated:function(u,l){var h=c.call(this,u,l);return h!==!1&&m.delete(u),h}})),m.size&&m.forEach(function(u){return r.maybeBroadcastWatch.dirty(u)})):this.broadcastWatches(n),f},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){return this.addTypenameToDocument(this.addFragmentsToDocument(n))},e.prototype.fragmentMatches=function(n,r){return this.policies.fragmentMatches(n,r)},e.prototype.lookupFragment=function(n){var r;return((r=this.config.fragments)===null||r===void 0?void 0:r.lookup(n))||null},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.addFragmentsToDocument=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.addTypenameToDocument=function(n){return this.addTypename?this.addTypenameTransform.transformDocument(n):n},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,o=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(o.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,o,i)===!1)||(!i||!xn(i.result,o.result))&&n.callback(n.lastDiff=o,i)},e}(Xh);globalThis.__DEV__!==!1&&(Fc.prototype.getMemoryInternals=g2);var _n=function(t){return t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error",t}(_n||{});function Es(t){return t?t<7:!1}var GO=Object.assign,$R=Object.hasOwnProperty,cp=function(t){dr(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,o=n.options,s=t.call(this,function(p){try{var g=p._subscription._observer;g&&!g.error&&(g.error=BR)}catch{}var b=!s.observers.size;s.observers.add(p);var v=s.last;return v&&v.error?p.error&&p.error(v.error):v&&v.result&&p.next&&p.next(s.maskResult(v.result)),b&&s.reobserve().catch(function(){}),function(){s.observers.delete(p)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=r,s.waitForOwnResult=Ub(o.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s),s.maskResult=s.maskResult.bind(s);var a=r.defaultOptions.watchQuery,c=a===void 0?{}:a,f=c.fetchPolicy,y=f===void 0?"cache-first":f,m=o.fetchPolicy,u=m===void 0?y:m,l=o.initialFetchPolicy,h=l===void 0?u==="standby"?y:u:l;s.options=_e(_e({},o),{initialFetchPolicy:h,fetchPolicy:u}),s.queryId=i.queryId||r.generateQueryId();var d=ai(s.query);return s.queryName=d&&d.name&&d.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var o={next:function(a){r(a),n.observers.delete(o),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=n.subscribe(o)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentFullResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||_n.ready,o=_e(_e({},r),{loading:Es(i),networkStatus:i}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(Ub(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(o.data=c.result),xn(o.data,{})&&(o.data=void 0),c.complete?(delete o.partial,c.complete&&o.networkStatus===_n.loading&&(a==="cache-first"||a==="cache-only")&&(o.networkStatus=_n.ready,o.loading=!1)):o.partial=!0,globalThis.__DEV__!==!1&&!c.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&Hb(c.missing)}return n&&this.updateLastResult(o),o},e.prototype.getCurrentResult=function(n){return n===void 0&&(n=!0),this.maskResult(this.getCurrentFullResult(n))},e.prototype.isDifferentFromLastResult=function(n,r){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query),o=this.queryManager.dataMasking,s=o?i.nonReactiveQuery:this.query,a=o||i.hasNonreactiveDirective?!Kh(s,this.last.result,n,this.variables):!xn(this.last.result,n);return a||r&&!xn(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||xn(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?i.fetchPolicy=o:o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&n&&$R.call(n,"variables")){var s=nl(this.query),a=s.variableDefinitions;(!a||!a.some(function(c){return c.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&it.warn(21,n,((r=s.name)===null||r===void 0?void 0:r.value)||s)}return n&&!xn(this.options.variables,n)&&(i.variables=this.options.variables=_e(_e({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,_n.refetch)},e.prototype.fetchMore=function(n){var r=this,i=_e(_e({},n.query?n:_e(_e(_e(_e({},this.options),{query:this.options.query}),n),{variables:_e(_e({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=n.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=_n.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var c=new Set,f=n?.updateQuery,y=this.options.fetchPolicy!=="no-cache";return y||it(f,22),this.queryManager.fetchQuery(o,i,_n.fetchMore).then(function(m){if(r.queryManager.removeQuery(o),s.networkStatus===_n.fetchMore&&(s.networkStatus=a),y)r.queryManager.cache.batch({update:function(h){var d=n.updateQuery;d?h.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(p){return d(p,{fetchMoreResult:m.data,variables:i.variables})}):h.writeQuery({query:i.query,variables:i.variables,data:m.data})},onWatchUpdated:function(h){c.add(h.query)}});else{var u=r.getLast("result"),l=f(u.data,{fetchMoreResult:m.data,variables:i.variables});r.reportResult(_e(_e({},u),{data:l}),r.variables)}return r.maskResult(m)}).finally(function(){y&&!c.has(r.query)&&qb(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(o){var s=n.updateQuery;s&&r.updateQuery(function(a,c){var f=c.variables;return s(a,{subscriptionData:o,variables:f})})},error:function(o){if(n.onError){n.onError(o);return}globalThis.__DEV__!==!1&&it.error(23,o)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.silentSetOptions=function(n){var r=Xi(this.options,n||{});GO(this.options,r)},e.prototype.setVariables=function(n){return xn(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},_n.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=n(i,{variables:this.variables});o&&(r.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,o=i===void 0?"cache-first":i,s=r.initialFetchPolicy,a=s===void 0?o:s;o==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(o,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,n,r,i)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,o=r.options.pollInterval;if(!o||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){it(o,24);var s=i||(this.pollingInfo={});s.interval=o;var a=function(){var f,y;n.pollingInfo&&(!Es(n.queryInfo.networkStatus)&&!(!((y=(f=n.options).skipPollAttempt)===null||y===void 0)&&y.call(f))?n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},_n.poll).then(c,c):c())},c=function(){var f=n.pollingInfo;f&&(clearTimeout(f.timeout),f.timeout=setTimeout(a,f.interval))};c()}}},e.prototype.updateLastResult=function(n,r){r===void 0&&(r=this.variables);var i=this.getLastError();return i&&this.last&&!xn(r,this.last.variables)&&(i=void 0),this.last=_e({result:this.queryManager.assumeImmutableResults?n:Lh(n),variables:r},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(n,r){var i=this;this.isTornDown=!1;var o=r===_n.refetch||r===_n.fetchMore||r===_n.poll,s=this.options.variables,a=this.options.fetchPolicy,c=Xi(this.options,n||{}),f=o?c:GO(this.options,c),y=this.transformDocument(f.query);this.lastQuery=y,o||(this.updatePolling(),n&&n.variables&&!xn(n.variables,s)&&f.fetchPolicy!=="standby"&&(f.fetchPolicy===a||typeof f.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",f),r===void 0&&(r=_n.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Ub(f.fetchPolicy));var m=function(){i.concast===h&&(i.waitForOwnResult=!1)},u=f.variables&&_e({},f.variables),l=this.fetch(f,r,y),h=l.concast,d=l.fromLink,p={next:function(g){xn(i.variables,u)&&(m(),i.reportResult(g,u))},error:function(g){xn(i.variables,u)&&(Wh(g)||(g=new jo({networkError:g})),m(),i.reportError(g,u))}};return!o&&(d||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=p),h.addObserver(p),h},e.prototype.reobserve=function(n,r){return yb(this.reobserveAsConcast(n,r).promise.then(this.maskResult))},e.prototype.resubscribeAfterError=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,n);return this.last=i,o},e.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError(),o=this.isDifferentFromLastResult(n,r);(i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),(i||o)&&fa(this.observers,"next",this.maskResult(n))},e.prototype.reportError=function(n,r){var i=_e(_e({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:_n.error,loading:!1});this.updateLastResult(i,r),fa(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(n){return this.queryManager.transform(n)},e.prototype.maskResult=function(n){return n&&"data"in n?_e(_e({},n),{data:this.queryManager.maskOperation({document:this.query,data:n.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):n},e}(en);Bh(cp);function qb(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,o){return this.nextFetchPolicy=r,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,o):n}}):t.reobserve()}function BR(t){globalThis.__DEV__!==!1&&it.error(25,t.message,t.stack)}function Hb(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&it.debug(26,t)}function Ub(t){return t==="network-only"||t==="no-cache"||t==="standby"}var Lc=new(oi?WeakMap:Map);function zb(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return Lc.set(t,(Lc.get(t)+1)%1e15),n.apply(this,arguments)})}function KO(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var up=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Lc.has(r)||(Lc.set(r,0),zb(r,"evict"),zb(r,"modify"),zb(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||_n.loading;return this.variables&&this.networkStatus!==_n.loading&&!xn(this.variables,e.variables)&&(n=_n.setVariables),xn(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){KO(this),this.dirty=!1},t.prototype.resetDiff=function(){this.lastDiff=void 0},t.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&xn(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r,i=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(e),!this.dirty&&!xn(i&&i.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0))))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():qb(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;KO(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Es(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=_e(_e({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return n.setDiff(o)}});(!this.lastWatch||!xn(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===Lc.get(this.cache)&&xn(n,r.variables)&&xn(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var o=this,s=new Kr,a=wr(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&wr(e.incremental)){var c=Vh(this.getDiff().result,e);e.data=c}else if("hasNext"in e&&e.hasNext){var f=this.getDiff();e.data=s.merge(f.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(lp(e,r.errorPolicy)?this.cache.performTransaction(function(y){if(o.shouldWrite(e,r.variables))y.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),o.lastWrite={result:e,variables:r.variables,dmCount:Lc.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var m=o.getDiffOptions(r.variables),u=y.diff(m);!o.stopped&&xn(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(u,m),u.complete&&(e.data=u.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=_n.ready},t.prototype.markError=function(e){return this.networkStatus=_n.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function lp(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!Mc(t);return!r&&n&&t.data&&(r=!0),r}var VR=Object.prototype.hasOwnProperty,QO=Object.create(null),YO=function(){function t(e){var n=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Ic(lr["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Lr(!1),this.noCacheWarningsByQueryId=new Set;var r=new Tc(function(o){return n.cache.transformDocument(o)},{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var i=e.documentTransform;this.documentTransform=i?r.concat(i).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(Fn(27))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){return ei(this,arguments,void 0,function(n){var r,i,o,s,a,c,f,y=n.mutation,m=n.variables,u=n.optimisticResponse,l=n.updateQueries,h=n.refetchQueries,d=h===void 0?[]:h,p=n.awaitRefetchQueries,g=p===void 0?!1:p,b=n.update,v=n.onQueryUpdated,_=n.fetchPolicy,S=_===void 0?((c=this.defaultOptions.mutate)===null||c===void 0?void 0:c.fetchPolicy)||"network-only":_,w=n.errorPolicy,D=w===void 0?((f=this.defaultOptions.mutate)===null||f===void 0?void 0:f.errorPolicy)||"none":w,x=n.keepRootFields,M=n.context;return Di(this,function(P){switch(P.label){case 0:return it(y,28),it(S==="network-only"||S==="no-cache",29),r=this.generateMutationId(),y=this.cache.transformForLink(this.transform(y)),i=this.getDocumentInfo(y).hasClientExports,m=this.getVariables(y,m),i?[4,this.localState.addExportedVariables(y,m,M)]:[3,2];case 1:m=P.sent(),P.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[r]={mutation:y,variables:m,loading:!0,error:null}),s=u&&this.markMutationOptimistic(u,{mutationId:r,document:y,variables:m,fetchPolicy:S,errorPolicy:D,context:M,updateQueries:l,update:b,keepRootFields:x}),this.broadcastQueries(),a=this,[2,new Promise(function(k,B){return $h(a.getObservableFromLink(y,_e(_e({},M),{optimisticResponse:s?u:void 0}),m,{},!1),function(L){if(Mc(L)&&D==="none")throw new jo({graphQLErrors:Uh(L)});o&&(o.loading=!1,o.error=null);var V=_e({},L);return typeof d=="function"&&(d=d(V)),D==="ignore"&&Mc(V)&&delete V.errors,a.markMutationResult({mutationId:r,result:V,document:y,variables:m,fetchPolicy:S,errorPolicy:D,context:M,update:b,updateQueries:l,awaitRefetchQueries:g,refetchQueries:d,removeOptimistic:s?r:void 0,onQueryUpdated:v,keepRootFields:x})}).subscribe({next:function(L){a.broadcastQueries(),(!("hasNext"in L)||L.hasNext===!1)&&k(_e(_e({},L),{data:a.maskOperation({document:y,data:L.data,fetchPolicy:S,id:r})}))},error:function(L){o&&(o.loading=!1,o.error=L),s&&a.cache.removeOptimistic(r),a.broadcastQueries(),B(L instanceof jo?L:new jo({networkError:L}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,o=[],s=e.fetchPolicy==="no-cache";if(!s&&lp(i,e.errorPolicy)){if(_s(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),_s(i)&&wr(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),c=void 0;a.result&&(c=Vh(a.result,i)),typeof c<"u"&&(i.data=c,o.push({result:c,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var f=e.updateQueries;f&&this.queries.forEach(function(m,u){var l=m.observableQuery,h=l&&l.queryName;if(!(!h||!VR.call(f,h))){var d=f[h],p=r.queries.get(u),g=p.document,b=p.variables,v=n.diff({query:g,variables:b,returnPartialData:!0,optimistic:!1}),_=v.result,S=v.complete;if(S&&_){var w=d(_,{mutationResult:i,queryName:g&&gs(g)||void 0,queryVariables:b});w&&o.push({result:w,dataId:"ROOT_QUERY",query:g,variables:b})}}})}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var y=[];if(this.refetchQueries({updateCache:function(m){s||o.forEach(function(d){return m.write(d)});var u=e.update,l=!Z2(i)||_s(i)&&!i.hasNext;if(u){if(!s){var h=m.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});h.complete&&(i=_e(_e({},i),{data:h.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}l&&u(m,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&l&&m.modify({id:"ROOT_MUTATION",fields:function(d,p){var g=p.fieldName,b=p.DELETE;return g==="__typename"?d:b}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(m){return y.push(m)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(y).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables,{IGNORE:QO}):e;return i===QO?!1:(this.cache.recordOptimisticTransaction(function(o){try{r.markMutationResult(_e(_e({},n),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&it.error(s)}},n.mutationId),!0)},t.prototype.fetchQuery=function(e,n,r){return this.fetchConcastWithInfo(e,n,r).concast.promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},t.prototype.getDocumentInfo=function(e){var n=this.transformCache;if(!n.has(e)){var r={hasClientExports:Hv(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Co(["nonreactive"],e),nonReactiveQuery:sb(e),clientQuery:this.localState.clientQuery(e),serverQuery:Rh([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:aa(ai(e)),asQuery:_e(_e({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?_e(_e({},i),{operation:"query"}):i})})};n.set(e,r)}return n.get(e)},t.prototype.getVariables=function(e,n){return _e(_e({},this.getDocumentInfo(e).defaultVars),n)},t.prototype.watchQuery=function(e){var n=this.transform(e.query);e=_e(_e({},e),{variables:this.getVariables(n,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new up(this),i=new cp({queryManager:this,queryInfo:r,options:e});return i.lastQuery=n,this.queries.set(i.queryId,r),r.init({document:n,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(e,n){var r=this;n===void 0&&(n=this.generateQueryId()),it(e.query,30),it(e.query.kind==="Document",31),it(!e.returnPartialData,32),it(!e.pollInterval,33);var i=this.transform(e.query);return this.fetchQuery(n,_e(_e({},e),{query:i})).then(function(o){return o&&_e(_e({},o),{data:r.maskOperation({document:i,data:o.data,fetchPolicy:e.fetchPolicy,id:n})})}).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(Fn(34)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=_n.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,o=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(a){if(typeof a=="string")i.set(a,a),o.set(a,!1);else if(Xv(a)){var c=Fi(n.transform(a));i.set(c,gs(a)),o.set(c,!1)}else gn(a)&&a.query&&s.add(a)}),this.queries.forEach(function(a,c){var f=a.observableQuery,y=a.document;if(f){if(e==="all"){r.set(c,f);return}var m=f.queryName,u=f.options.fetchPolicy;if(u==="standby"||e==="active"&&!f.hasObservers())return;(e==="active"||m&&o.has(m)||y&&o.has(Fi(y)))&&(r.set(c,f),m&&o.set(m,!0),y&&o.set(Fi(y),!0))}}),s.size&&s.forEach(function(a){var c=Qu("legacyOneTimeQuery"),f=n.getQuery(c).init({document:a.query,variables:a.variables}),y=new cp({queryManager:n,queryInfo:f,options:_e(_e({},a),{fetchPolicy:"network-only"})});it(y.queryId===c),f.setObservableQuery(y),r.set(c,y)}),globalThis.__DEV__!==!1&&o.size&&o.forEach(function(a,c){if(!a){var f=i.get(c);f?globalThis.__DEV__!==!1&&it.warn(35,f):globalThis.__DEV__!==!1&&it.warn(36)}}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&r.push(i.refetch()),n.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.variables,o=e.fetchPolicy,s=e.errorPolicy,a=s===void 0?"none":s,c=e.context,f=c===void 0?{}:c,y=e.extensions,m=y===void 0?{}:y;r=this.transform(r),i=this.getVariables(r,i);var u=function(h){return n.getObservableFromLink(r,f,h,m).map(function(d){o!=="no-cache"&&(lp(d,a)&&n.cache.write({query:r,result:d.data,dataId:"ROOT_SUBSCRIPTION",variables:h}),n.broadcastQueries());var p=Mc(d),g=nO(d);if(p||g){var b={};if(p&&(b.graphQLErrors=d.errors),g&&(b.protocolErrors=d.extensions[hl]),a==="none"||g)throw new jo(b)}return a==="ignore"&&delete d.errors,d})};if(this.getDocumentInfo(r).hasClientExports){var l=this.localState.addExportedVariables(r,i,f).then(u);return new en(function(h){var d=null;return l.then(function(p){return d=p.subscribe(h)},h.error),function(){return d&&d.unsubscribe()}})}return u(i)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i,o){var s=this,a;o===void 0&&(o=(a=n?.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var c,f=this.getDocumentInfo(e),y=f.serverQuery,m=f.clientQuery;if(y){var u=this,l=u.inFlightLinkObservables,h=u.link,d={query:y,variables:r,operationName:gs(y)||void 0,context:this.prepareContext(_e(_e({},n),{forceFetch:!o})),extensions:i};if(n=d.context,o){var p=Fi(y),g=$r(r),b=l.lookup(p,g);if(c=b.observable,!c){var v=new da([Nc(h,d)]);c=b.observable=v,v.beforeNext(function(){l.remove(p,g)})}}else c=new da([Nc(h,d)])}else c=new da([en.of({data:{}})]),n=this.prepareContext(n);return m&&(c=$h(c,function(_){return s.localState.runResolvers({document:m,remoteResult:_,context:n,variables:r})})),c},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(r.query);return $h(this.getObservableFromLink(o,r.context,r.variables),function(s){var a=Uh(s),c=a.length>0,f=r.errorPolicy;if(i>=e.lastRequestId){if(c&&f==="none")throw e.markError(new jo({graphQLErrors:a}));e.markResult(s,o,r,n),e.markReady()}var y={data:s.data,loading:!1,networkStatus:_n.ready};return c&&f==="none"&&(y.data=void 0),c&&f!=="ignore"&&(y.errors=a,y.networkStatus=_n.error),y},function(s){var a=Wh(s)?s:new jo({networkError:s});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchConcastWithInfo=function(e,n,r,i){var o=this;r===void 0&&(r=_n.loading),i===void 0&&(i=n.query);var s=this.getVariables(i,n.variables),a=this.getQuery(e),c=this.defaultOptions.watchQuery,f=n.fetchPolicy,y=f===void 0?c&&c.fetchPolicy||"cache-first":f,m=n.errorPolicy,u=m===void 0?c&&c.errorPolicy||"none":m,l=n.returnPartialData,h=l===void 0?!1:l,d=n.notifyOnNetworkStatusChange,p=d===void 0?!1:d,g=n.context,b=g===void 0?{}:g,v=Object.assign({},n,{query:i,variables:s,fetchPolicy:y,errorPolicy:u,returnPartialData:h,notifyOnNetworkStatusChange:p,context:b}),_=function(M){v.variables=M;var P=o.fetchQueryByPolicy(a,v,r);return v.fetchPolicy!=="standby"&&P.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),P},S=function(){return o.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(M){S(),setTimeout(function(){return w.cancel(M)})});var w,D;if(this.getDocumentInfo(v.query).hasClientExports)w=new da(this.localState.addExportedVariables(v.query,v.variables,v.context).then(_).then(function(M){return M.sources})),D=!0;else{var x=_(v.variables);D=x.fromLink,w=new da(x.sources)}return w.promise.then(S,S),{concast:w,fromLink:D}},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,o=e.optimistic,s=o===void 0?!1:o,a=e.removeOptimistic,c=a===void 0?s?Qu("refetchQueries"):void 0:a,f=e.onQueryUpdated,y=new Map;i&&this.getObservableQueries(i).forEach(function(u,l){y.set(l,{oq:u,lastDiff:n.getQuery(l).getDiff()})});var m=new Map;return r&&this.cache.batch({update:r,optimistic:s&&c||!1,removeOptimistic:c,onWatchUpdated:function(u,l,h){var d=u.watcher instanceof up&&u.watcher.observableQuery;if(d){if(f){y.delete(d.queryId);var p=f(d,l,h);return p===!0&&(p=d.refetch()),p!==!1&&m.set(d,p),p}f!==null&&y.set(d.queryId,{oq:d,lastDiff:h,diff:l})}}}),y.size&&y.forEach(function(u,l){var h=u.oq,d=u.lastDiff,p=u.diff,g;if(f){if(!p){var b=h.queryInfo;b.reset(),p=b.getDiff()}g=f(h,p,d)}(!f||g===!0)&&(g=h.refetch()),g!==!1&&m.set(h,g),l.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(l)}),c&&this.cache.removeOptimistic(c),m},t.prototype.maskOperation=function(e){var n,r,i,o=e.document,s=e.data;if(globalThis.__DEV__!==!1){var a=e.fetchPolicy,c=e.id,f=(n=ai(o))===null||n===void 0?void 0:n.operation,y=((r=f?.[0])!==null&&r!==void 0?r:"o")+c;this.dataMasking&&a==="no-cache"&&!Kv(o)&&!this.noCacheWarningsByQueryId.has(y)&&(this.noCacheWarningsByQueryId.add(y),globalThis.__DEV__!==!1&&it.warn(37,(i=gs(o))!==null&&i!==void 0?i:"Unnamed ".concat(f??"operation")))}return this.dataMasking?Tb(s,o,this.cache):s},t.prototype.maskFragment=function(e){var n=e.data,r=e.fragment,i=e.fragmentName;return this.dataMasking?gl(n,r,this.cache,i):n},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,o=n.query,s=n.variables,a=n.fetchPolicy,c=n.refetchWritePolicy,f=n.errorPolicy,y=n.returnPartialData,m=n.context,u=n.notifyOnNetworkStatusChange,l=e.networkStatus;e.init({document:o,variables:s,networkStatus:r});var h=function(){return e.getDiff()},d=function(_,S){S===void 0&&(S=e.networkStatus||_n.loading);var w=_.result;globalThis.__DEV__!==!1&&!y&&!xn(w,{})&&Hb(_.missing);var D=function(x){return en.of(_e({data:x,loading:Es(S),networkStatus:S},_.complete?null:{partial:!0}))};return w&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:w},context:m,variables:s,onlyRunForcedResolvers:!0}).then(function(x){return D(x.data||void 0)}):f==="none"&&S===_n.refetch&&Array.isArray(_.missing)?D(void 0):D(w)},p=a==="no-cache"?0:r===_n.refetch&&c!=="merge"?1:2,g=function(){return i.getResultsFromLink(e,p,{query:o,variables:s,context:m,fetchPolicy:a,errorPolicy:f})},b=u&&typeof l=="number"&&l!==r&&Es(r);switch(a){default:case"cache-first":{var v=h();return v.complete?{fromLink:!1,sources:[d(v,e.markReady())]}:y||b?{fromLink:!0,sources:[d(v),g()]}:{fromLink:!0,sources:[g()]}}case"cache-and-network":{var v=h();return v.complete||y||b?{fromLink:!0,sources:[d(v),g()]}:{fromLink:!0,sources:[g()]}}case"cache-only":return{fromLink:!1,sources:[d(h(),e.markReady())]};case"network-only":return b?{fromLink:!0,sources:[d(h()),g()]}:{fromLink:!0,sources:[g()]};case"no-cache":return b?{fromLink:!0,sources:[d(e.getDiff()),g()]}:{fromLink:!0,sources:[g()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new up(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return _e(_e(_e({},this.defaultContext),n),{clientAwareness:this.clientAwareness})},t}();var JO=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=ab(n.resolvers,r)}):this.resolvers=ab(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){return ei(this,arguments,void 0,function(n){var r=n.document,i=n.remoteResult,o=n.context,s=n.variables,a=n.onlyRunForcedResolvers,c=a===void 0?!1:a;return Di(this,function(f){return r?[2,this.resolveDocument(r,i.data,o,s,this.fragmentMatcher,c).then(function(y){return _e(_e({},i),{data:y.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return Co(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return cl(e)},t.prototype.prepareContext=function(e){var n=this.cache;return _e(_e({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e){return ei(this,arguments,void 0,function(n,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),Di(this,function(o){return n?[2,this.resolveDocument(n,this.buildRootValueFromCache(n,r)||{},this.prepareContext(i),r).then(function(s){return _e(_e({},r),s.exportedVariables)})]:[2,_e({},r)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return ur(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return xo}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:ob(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n){return ei(this,arguments,void 0,function(r,i,o,s,a,c){var f,y,m,u,l,h,d,p,g,b,v;return o===void 0&&(o={}),s===void 0&&(s={}),a===void 0&&(a=function(){return!0}),c===void 0&&(c=!1),Di(this,function(_){return f=ji(r),y=ci(r),m=si(y),u=this.collectSelectionsToResolve(f,m),l=f.operation,h=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",d=this,p=d.cache,g=d.client,b={fragmentMap:m,context:_e(_e({},o),{cache:p,client:g}),variables:s,fragmentMatcher:a,defaultOperationType:h,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:c},v=!1,[2,this.resolveSelectionSet(f.selectionSet,v,i,b).then(function(S){return{result:S,exportedVariables:b.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return ei(this,void 0,void 0,function(){var o,s,a,c,f,y=this;return Di(this,function(m){return o=i.fragmentMap,s=i.context,a=i.variables,c=[r],f=function(u){return ei(y,void 0,void 0,function(){var l,h;return Di(this,function(d){return!n&&!i.selectionsToResolve.has(u)?[2]:Ri(u,a)?Br(u)?[2,this.resolveField(u,n,r,i).then(function(p){var g;typeof p<"u"&&c.push((g={},g[Ar(u)]=p,g))})]:(tb(u)?l=u:(l=o[u.name.value],it(l,19,u.name.value)),l&&l.typeCondition&&(h=l.typeCondition.name.value,i.fragmentMatcher(r,h,s))?[2,this.resolveSelectionSet(l.selectionSet,n,r,i).then(function(p){c.push(p)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(f)).then(function(){return la(c)})]})})},t.prototype.resolveField=function(e,n,r,i){return ei(this,void 0,void 0,function(){var o,s,a,c,f,y,m,u,l,h=this;return Di(this,function(d){return r?(o=i.variables,s=e.name.value,a=Ar(e),c=s!==a,f=r[a]||r[s],y=Promise.resolve(f),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(m=r.__typename||i.defaultOperationType,u=this.resolvers&&this.resolvers[m],u&&(l=u[c?s:a],l&&(y=Promise.resolve(Rc.withValue(this.cache,l,[r,No(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,y.then(function(p){var g,b;if(p===void 0&&(p=f),e.directives&&e.directives.forEach(function(_){_.name.value==="export"&&_.arguments&&_.arguments.forEach(function(S){S.name.value==="as"&&S.value.kind==="StringValue"&&(i.exportedVariables[S.value.value]=p)})}),!e.selectionSet||p==null)return p;var v=(b=(g=e.directives)===null||g===void 0?void 0:g.some(function(_){return _.name.value==="client"}))!==null&&b!==void 0?b:!1;if(Array.isArray(p))return h.resolveSubSelectedArray(e,n||v,p,i);if(e.selectionSet)return h.resolveSelectionSet(e.selectionSet,n||v,p,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var o=this;return Promise.all(r.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(e,n,s,i);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,n,s,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var a=new Set;i.set(s,a),ur(s,{Directive:function(c,f,y,m,u){c.name.value==="client"&&u.forEach(function(l){r(l)&&Xu(l)&&a.add(l)})},FragmentSpread:function(c,f,y,m,u){var l=n[c.name.value];it(l,20,c.name.value);var h=o(l);h.size>0&&(u.forEach(function(d){r(d)&&Xu(d)&&a.add(d)}),a.add(c),h.forEach(function(d){a.add(d)}))}})}return i.get(s)}return o(e)},t}();var ZO=!1;var wl=function(){function t(e){var n=this,r;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw Fn(16);var i=e.uri,o=e.credentials,s=e.headers,a=e.cache,c=e.documentTransform,f=e.ssrMode,y=f===void 0?!1:f,m=e.ssrForceFetchDelay,u=m===void 0?0:m,l=e.connectToDevTools,h=e.queryDeduplication,d=h===void 0?!0:h,p=e.defaultOptions,g=e.defaultContext,b=e.assumeImmutableResults,v=b===void 0?a.assumeImmutableResults:b,_=e.resolvers,S=e.typeDefs,w=e.fragmentMatcher,D=e.name,x=e.version,M=e.devtools,P=e.dataMasking,k=e.link;k||(k=i?new Ob({uri:i,credentials:o,headers:s}):wi.empty()),this.link=k,this.cache=a,this.disableNetworkFetches=y||u>0,this.queryDeduplication=d,this.defaultOptions=p||Object.create(null),this.typeDefs=S,this.devtoolsConfig=_e(_e({},M),{enabled:(r=M?.enabled)!==null&&r!==void 0?r:l}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),u&&setTimeout(function(){return n.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Ku,this.localState=new JO({cache:a,client:this,resolvers:_,fragmentMatcher:w}),this.queryManager=new YO({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:g,documentTransform:c,queryDeduplication:d,ssrMode:y,dataMasking:!!P,clientAwareness:{name:D,version:x},localState:this.localState,assumeImmutableResults:v,onBroadcast:this.devtoolsConfig.enabled?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var e=window,n=Symbol.for("apollo.devtools");(e[n]=e[n]||[]).push(this),e.__APOLLO_CLIENT__=this,!ZO&&globalThis.__DEV__!==!1&&(ZO=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var r=window.navigator,i=r&&r.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&it.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=ll(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=_e(_e({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=ll(this.defaultOptions.query,e)),it(e.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=_e(_e({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=ll(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){var n=this,r=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map(function(i){return _e(_e({},i),{data:n.queryManager.maskOperation({document:e.query,data:i.data,fetchPolicy:e.fetchPolicy,id:r})})})},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.watchFragment=function(e){var n;return this.cache.watchFragment(_e(_e({},e),(n={},n[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,n)))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Nc(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(s,a){r.push(a),i.push(s)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&it.debug(18,s)}),o},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(t.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),t}();globalThis.__DEV__!==!1&&(wl.prototype.getMemoryInternals=y2);var fp=new Map,Wb=new Map,XO=!0,dp=!1;function eD(t){return t.replace(/[\s,]+/g," ").trim()}function UR(t){return eD(t.source.body.substring(t.start,t.end))}function qR(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,o=UR(r.loc),s=Wb.get(i);s&&!s.has(o)?XO&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||Wb.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),n.push(r))}else n.push(r)}),_e(_e({},t),{definitions:n})}function HR(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var o=r[i];o&&typeof o=="object"&&e.add(o)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function zR(t){var e=eD(t);if(!fp.has(e)){var n=Ch(t,{experimentalFragmentVariables:dp,allowLegacyFragmentVariables:dp});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");fp.set(e,HR(qR(n)))}return fp.get(e)}function Is(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,o){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[o+1]}),zR(r)}function tD(){fp.clear(),Wb.clear()}function nD(){XO=!1}function rD(){dp=!0}function iD(){dp=!1}var Sl={gql:Is,resetCaches:tD,disableFragmentWarnings:nD,enableExperimentalFragmentVariables:rD,disableExperimentalFragmentVariables:iD};(function(t){t.gql=Sl.gql,t.resetCaches=Sl.resetCaches,t.disableFragmentWarnings=Sl.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Sl.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Sl.disableExperimentalFragmentVariables})(Is||(Is={}));Is.default=Is;WI(globalThis.__DEV__!==!1?"log":"silent");var Gt="primary",Fl=Symbol("RouteTitle"),Jb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hc(t){return new Jb(t)}function WR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function GR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!eo(t[n],e[n]))return!1;return!0}function eo(t,e){let n=t?Zb(t):void 0,r=e?Zb(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!mD(t[i],e[i]))return!1;return!0}function Zb(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function mD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function yD(t){return t.length>0?t[t.length-1]:null}function Ds(t){return Ma(t)?t:Ji(t)?On(Promise.resolve(t)):Dt(t)}var KR={exact:vD,subset:bD},gD={exact:QR,subset:YR,ignored:()=>!0};function oD(t,e,n){return KR[n.paths](t.root,e.root,n.matrixParams)&&gD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function QR(t,e){return eo(t,e)}function vD(t,e,n){if(!ma(t.segments,e.segments)||!mp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vD(t.children[r],e.children[r],n))return!1;return!0}function YR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mD(t[n],e[n]))}function bD(t,e,n){return _D(t,e,e.segments,n)}function _D(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ma(i,n)||e.hasChildren()||!mp(i,n,r))}else if(t.segments.length===n.length){if(!ma(t.segments,n)||!mp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!bD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ma(t.segments,i)||!mp(t.segments,i,r)||!t.children[Gt]?!1:_D(t.children[Gt],e,o,r)}}function mp(t,e,n){return e.every((r,i)=>gD[n](t[i].parameters,r.parameters))}var Lo=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Cn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hc(this.queryParams),this._queryParamMap}toString(){return XR.serialize(this)}},Cn=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yp(this)}},pa=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hc(this.parameters),this._parameterMap}toString(){return SD(this)}};function JR(t,e){return ma(t,e)&&t.every((n,r)=>eo(n.parameters,e[r].parameters))}function ma(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ZR(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Gt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Gt&&(n=n.concat(e(i,r)))}),n}var Ll=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>new zc,providedIn:"root"})}return t})(),zc=class{parse(e){let n=new e0(e);return new Lo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${El(e.root,!0)}`,r=n4(e.queryParams),i=typeof e.fragment=="string"?`#${e4(e.fragment)}`:"";return`${n}${r}${i}`}},XR=new zc;function yp(t){return t.segments.map(e=>SD(e)).join("/")}function El(t,e){if(!t.hasChildren())return yp(t);if(e){let n=t.children[Gt]?El(t.children[Gt],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Gt&&r.push(`${i}:${El(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZR(t,(r,i)=>i===Gt?[El(t.children[Gt],!1)]:[`${i}:${El(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Gt]!=null?`${yp(t)}/${n[0]}`:`${yp(t)}/(${n.join("//")})`}}function wD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hp(t){return wD(t).replace(/%3B/gi,";")}function e4(t){return encodeURI(t)}function Xb(t){return wD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gp(t){return decodeURIComponent(t)}function sD(t){return gp(t.replace(/\+/g,"%20"))}function SD(t){return`${Xb(t.path)}${t4(t.parameters)}`}function t4(t){return Object.entries(t).map(([e,n])=>`;${Xb(e)}=${Xb(n)}`).join("")}function n4(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${hp(n)}=${hp(i)}`).join("&"):`${hp(n)}=${hp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var r4=/^[^\/()?;#]+/;function Gb(t){let e=t.match(r4);return e?e[0]:""}var i4=/^[^\/()?;=#]+/;function o4(t){let e=t.match(i4);return e?e[0]:""}var s4=/^[^=?&#]+/;function a4(t){let e=t.match(s4);return e?e[0]:""}var c4=/^[^&#]+/;function u4(t){let e=t.match(c4);return e?e[0]:""}var e0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Gt]=new Cn(e,n)),r}parseSegment(){let e=Gb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new St(4009,!1);return this.capture(e),new pa(gp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=o4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gb(this.remaining);i&&(r=i,this.capture(r))}e[gp(n)]=gp(r)}parseQueryParam(e){let n=a4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=u4(this.remaining);s&&(r=s,this.capture(r))}let i=sD(n),o=sD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new St(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Gt);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Gt]:new Cn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new St(4011,!1)}};function ED(t){return t.segments.length>0?new Cn([],{[Gt]:t}):t}function ID(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ID(i);if(r===Gt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Cn(t.segments,e);return l4(n)}function l4(t){if(t.numberOfChildren===1&&t.children[Gt]){let e=t.children[Gt];return new Cn(t.segments.concat(e.segments),e.children)}return t}function ya(t){return t instanceof Lo}function f4(t,e,n=null,r=null){let i=OD(t);return DD(i,e,n,r)}function OD(t){let e;function n(o){let s={};for(let c of o.children){let f=n(c);s[c.outlet]=f}let a=new Cn(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=ED(r);return e??i}function DD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Kb(i,i,i,n,r);let o=d4(e);if(o.toRoot())return Kb(i,i,new Cn([],{}),n,r);let s=h4(o,i,t),a=s.processChildren?Dl(s.segmentGroup,s.index,o.commands):TD(s.segmentGroup,s.index,o.commands);return Kb(i,s.segmentGroup,a,n,r)}function vp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xl(t){return typeof t=="object"&&t!=null&&t.outlets}function Kb(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,f])=>{o[c]=Array.isArray(f)?f.map(y=>`${y}`):`${f}`});let s;t===e?s=n:s=AD(t,e,n);let a=ED(ID(s));return new Lo(a,o,i)}function AD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=AD(o,e,n)}),new Cn(t.segments,r)}var bp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vp(r[0]))throw new St(4003,!1);let i=r.find(xl);if(i&&i!==yD(r))throw new St(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function d4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bp(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,f])=>{a[c]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new bp(n,e,r)}var Vc=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function h4(t,e,n){if(t.isAbsolute)return new Vc(e,!0,0);if(!n)return new Vc(e,!1,NaN);if(n.parent===null)return new Vc(n,!0,0);let r=vp(t.commands[0])?0:1,i=n.segments.length-1+r;return p4(n,i,t.numberOfDoubleDots)}function p4(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new St(4005,!1);i=r.segments.length}return new Vc(r,!1,i-o)}function m4(t){return xl(t[0])?t[0].outlets:{[Gt]:t}}function TD(t,e,n){if(t??=new Cn([],{}),t.segments.length===0&&t.hasChildren())return Dl(t,e,n);let r=y4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Cn(t.segments.slice(0,r.pathIndex),{});return o.children[Gt]=new Cn(t.segments.slice(r.pathIndex),t.children),Dl(o,0,i)}else return r.match&&i.length===0?new Cn(t.segments,{}):r.match&&!t.hasChildren()?t0(t,e,n):r.match?Dl(t,0,i):t0(t,e,n)}function Dl(t,e,n){if(n.length===0)return new Cn(t.segments,{});{let r=m4(n),i={};if(Object.keys(r).some(o=>o!==Gt)&&t.children[Gt]&&t.numberOfChildren===1&&t.children[Gt].segments.length===0){let o=Dl(t.children[Gt],e,n);return new Cn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Cn(t.segments,i)}}function y4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(xl(a))break;let c=`${a}`,f=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&f&&typeof f=="object"&&f.outlets===void 0){if(!cD(c,f,s))return o;r+=2}else{if(!cD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function t0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(xl(o)){let c=g4(o.outlets);return new Cn(r,c)}if(i===0&&vp(n[0])){let c=t.segments[e];r.push(new pa(c.path,aD(n[0]))),i++;continue}let s=xl(o)?o.outlets[Gt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&vp(a)?(r.push(new pa(s,aD(a))),i+=2):(r.push(new pa(s,{})),i++)}return new Cn(r,{})}function g4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=t0(new Cn([],{}),0,r))}),e}function aD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cD(t,e,n){return t==n.path&&eo(e,n.parameters)}var Al="imperative",vr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(vr||{}),Si=class{id;url;constructor(e,n){this.id=e,this.url=n}},Wc=class extends Si{type=vr.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},to=class extends Si{urlAfterRedirects;type=vr.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},li=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(li||{}),_p=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_p||{}),Fo=class extends Si{reason;code;type=vr.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Os=class extends Si{reason;code;type=vr.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Cl=class extends Si{error;target;type=vr.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wp=class extends Si{urlAfterRedirects;state;type=vr.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n0=class extends Si{urlAfterRedirects;state;type=vr.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r0=class extends Si{urlAfterRedirects;state;shouldActivate;type=vr.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},i0=class extends Si{urlAfterRedirects;state;type=vr.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o0=class extends Si{urlAfterRedirects;state;type=vr.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s0=class{route;type=vr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},a0=class{route;type=vr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},c0=class{snapshot;type=vr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u0=class{snapshot;type=vr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},l0=class{snapshot;type=vr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f0=class{snapshot;type=vr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sp=class{routerEvent;position;anchor;type=vr.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ml=class{},Gc=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function v4(t,e){return t.providers&&!t._injector&&(t._injector=Xd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $i(t){return t.outlet||Gt}function b4(t,e){let n=t.filter(r=>$i(r)===e);return n.push(...t.filter(r=>$i(r)!==e)),n}function $l(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var d0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $l(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Bl(this.rootInjector)}},Bl=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new d0(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(bt(kr))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ep=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=h0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=h0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=p0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return p0(e,this._root).map(n=>n.value)}};function h0(t,e){if(t===e.value)return e;for(let n of e.children){let r=h0(t,n);if(r)return r}return null}function p0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=p0(t,n);if(r.length)return r.unshift(e),r}return[]}var ui=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ip=class extends Ep{snapshot;constructor(e,n){super(e),this.snapshot=n,E0(this,e)}toString(){return this.snapshot.toString()}};function xD(t){let e=_4(t),n=new ar([new pa("",{})]),r=new ar({}),i=new ar({}),o=new ar({}),s=new ar(""),a=new no(n,r,o,s,i,Gt,t,e.root);return a.snapshot=e.root,new Ip(new ui(a,[]),e)}function _4(t){let e={},n={},r={},i="",o=new Uc([],e,r,i,n,Gt,t,null,{});return new Dp("",new ui(o,[]))}var no=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Nt(f=>f[Fl]))??Dt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Nt(e=>Hc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Nt(e=>Hc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Op(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:ke(ke({},e.params),t.params),data:ke(ke({},e.data),t.data),resolve:ke(ke(ke(ke({},t.data),e.data),i?.data),t._resolvedData)}:r={params:ke({},t.params),data:ke({},t.data),resolve:ke(ke({},t.data),t._resolvedData??{})},i&&MD(i)&&(r.resolve[Fl]=i.title),r}var Uc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fl]}constructor(e,n,r,i,o,s,a,c,f){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Dp=class extends Ep{url;constructor(e,n){super(n),this.url=e,E0(this,n)}toString(){return CD(this._root)}};function E0(t,e){e.value._routerState=t,e.children.forEach(n=>E0(t,n))}function CD(t){let e=t.children.length>0?` { ${t.children.map(CD).join(", ")} } `:"";return`${t.value}${e}`}function Qb(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,eo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),eo(e.params,n.params)||t.paramsSubject.next(n.params),GR(e.url,n.url)||t.urlSubject.next(n.url),eo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function m0(t,e){let n=eo(t.params,e.params)&&JR(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||m0(t.parent,e.parent))}function MD(t){return typeof t.title=="string"||t.title===null}var w4=new rt(""),I0=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Gt;activateEvents=new pr;deactivateEvents=new pr;attachEvents=new pr;detachEvents=new pr;routerOutletData=US(void 0);parentContexts=Se(Bl);location=Se(Lu);changeDetector=Se(ta);inputBinder=Se(Cp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new St(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new St(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new St(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new St(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new y0(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Gr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ic]})}return t})(),y0=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===no?this.route:e===Bl?this.childContexts:e===w4?this.outletData:this.parent.get(e,n)}},Cp=new rt(""),uD=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=_u([r.queryParams,r.params,r.data]).pipe(zr(([o,s,a],c)=>(a=ke(ke(ke({},o),s),a),c===0?Dt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=oI(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();function S4(t,e,n){let r=Nl(t,e._root,n?n._root:void 0);return new Ip(r,e)}function Nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=E4(t,e,n);return new ui(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nl(t,a)),s}}let r=I4(e.value),i=e.children.map(o=>Nl(t,o));return new ui(r,i)}}function E4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Nl(t,r,i);return Nl(t,r)})}function I4(t){return new no(new ar(t.url),new ar(t.params),new ar(t.queryParams),new ar(t.fragment),new ar(t.data),t.outlet,t.component,t)}var Pl=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},ND="ngNavigationCancelingError";function Ap(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ya(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PD(!1,li.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ND]=!0,n.cancellationCode=e,n}function O4(t){return kD(t)&&ya(t.url)}function kD(t){return!!t&&t[ND]}var D4=(t,e,n,r)=>Nt(i=>(new g0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),g0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Bc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Bc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Bc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new f0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new u0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Qb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Tp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qc=class{component;route;constructor(e,n){this.component=e,this.route=n}};function A4(t,e,n){let r=t._root,i=e?e._root:null;return Il(r,i,n,[r.value])}function T4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!kw(t)?t:e.get(t):r}function Il(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bc(e);return t.children.forEach(s=>{x4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Tl(a,n.getContext(s),i)),i}function x4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=C4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Tp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Il(t,e,a?a.children:null,r,i):Il(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qc(a.outlet.component,s))}else s&&Tl(e,a,i),i.canActivateChecks.push(new Tp(r)),o.component?Il(t,null,a?a.children:null,r,i):Il(t,null,n,r,i);return i}function C4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ma(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ma(t.url,e.url)||!eo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m0(t,e)||!eo(t.queryParams,e.queryParams);case"paramsChange":default:return!m0(t,e)}}function Tl(t,e,n){let r=Bc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Tl(s,e.children.getContext(o),n):Tl(s,null,n):Tl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qc(e.outlet.component,i)):n.canDeactivateChecks.push(new qc(null,i)):n.canDeactivateChecks.push(new qc(null,i))}function Vl(t){return typeof t=="function"}function M4(t){return typeof t=="boolean"}function N4(t){return t&&Vl(t.canLoad)}function P4(t){return t&&Vl(t.canActivate)}function k4(t){return t&&Vl(t.canActivateChild)}function R4(t){return t&&Vl(t.canDeactivate)}function j4(t){return t&&Vl(t.canMatch)}function RD(t){return t instanceof mo||t?.name==="EmptyError"}var pp=Symbol("INITIAL_VALUE");function Kc(){return zr(t=>_u(t.map(e=>e.pipe(Hr(1),Bs(pp)))).pipe(Nt(e=>{for(let n of e)if(n!==!0){if(n===pp)return pp;if(n===!1||F4(n))return n}return!0}),Jn(e=>e!==pp),Hr(1)))}function F4(t){return ya(t)||t instanceof Pl}function L4(t,e){return Ln(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Dt(Mt(ke({},n),{guardsResult:!0})):$4(s,r,i,t).pipe(Ln(a=>a&&M4(a)?B4(r,o,t,e):Dt(a)),Nt(a=>Mt(ke({},n),{guardsResult:a})))})}function $4(t,e,n,r){return On(t).pipe(Ln(i=>z4(i.component,i.route,n,e,r)),go(i=>i!==!0,!0))}function B4(t,e,n,r){return On(e).pipe(yo(i=>Pa(U4(i.route.parent,r),V4(i.route,r),H4(t,i.path,n),q4(t,i.route,n))),go(i=>i!==!0,!0))}function V4(t,e){return t!==null&&e&&e(new l0(t)),Dt(!0)}function U4(t,e){return t!==null&&e&&e(new c0(t)),Dt(!0)}function q4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Dt(!0);let i=r.map(o=>Yf(()=>{let s=$l(e)??n,a=Qc(o,s),c=P4(a)?a.canActivate(e,t):mr(s,()=>a(e,t));return Ds(c).pipe(go())}));return Dt(i).pipe(Kc())}function H4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>T4(s)).filter(s=>s!==null).map(s=>Yf(()=>{let a=s.guards.map(c=>{let f=$l(s.node)??n,y=Qc(c,f),m=k4(y)?y.canActivateChild(r,t):mr(f,()=>y(r,t));return Ds(m).pipe(go())});return Dt(a).pipe(Kc())}));return Dt(o).pipe(Kc())}function z4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Dt(!0);let s=o.map(a=>{let c=$l(e)??i,f=Qc(a,c),y=R4(f)?f.canDeactivate(t,e,n,r):mr(c,()=>f(t,e,n,r));return Ds(y).pipe(go())});return Dt(s).pipe(Kc())}function W4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Dt(!0);let o=i.map(s=>{let a=Qc(s,t),c=N4(a)?a.canLoad(e,n):mr(t,()=>a(e,n));return Ds(c)});return Dt(o).pipe(Kc(),jD(r))}function jD(t){return Ym(Hn(e=>{if(typeof e!="boolean")throw Ap(t,e)}),Nt(e=>e===!0))}function G4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Dt(!0);let o=i.map(s=>{let a=Qc(s,t),c=j4(a)?a.canMatch(e,n):mr(t,()=>a(e,n));return Ds(c)});return Dt(o).pipe(Kc(),jD(r))}var kl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Rl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function $c(t){return Ui(new kl(t))}function K4(t){return Ui(new St(4e3,!1))}function Q4(t){return Ui(PD(!1,li.GuardRejected))}var v0=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Dt(r);if(i.numberOfChildren>1||!i.children[Gt])return K4(`${e.redirectTo}`);i=i.children[Gt]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:f,routeConfig:y,url:m,outlet:u,params:l,data:h,title:d}=i,p=mr(o,()=>a({params:l,data:h,queryParams:c,fragment:f,routeConfig:y,url:m,outlet:u,title:d}));if(p instanceof Lo)throw new Rl(p);n=p}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Rl(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Lo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Cn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new St(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},b0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y4(t,e,n,r,i){let o=FD(t,e,n);return o.matched?(r=v4(e,r),G4(r,e,n,i).pipe(Nt(s=>s===!0?o:ke({},b0)))):Dt(o)}function FD(t,e,n){if(e.path==="**")return J4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ke({},b0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WR)(n,t,e);if(!i)return ke({},b0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?ke(ke({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function J4(t){return{matched:!0,parameters:t.length>0?yD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function lD(t,e,n,r){return n.length>0&&e5(t,n,r)?{segmentGroup:new Cn(e,X4(r,new Cn(n,t.children))),slicedSegments:[]}:n.length===0&&t5(t,n,r)?{segmentGroup:new Cn(t.segments,Z4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Cn(t.segments,t.children),slicedSegments:n}}function Z4(t,e,n,r){let i={};for(let o of n)if(Mp(t,e,o)&&!r[$i(o)]){let s=new Cn([],{});i[$i(o)]=s}return ke(ke({},r),i)}function X4(t,e){let n={};n[Gt]=e;for(let r of t)if(r.path===""&&$i(r)!==Gt){let i=new Cn([],{});n[$i(r)]=i}return n}function e5(t,e,n){return n.some(r=>Mp(t,e,r)&&$i(r)!==Gt)}function t5(t,e,n){return n.some(r=>Mp(t,e,r))}function Mp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function n5(t,e,n){return e.length===0&&!t.children[n]}var _0=class{};function r5(t,e,n,r,i,o,s="emptyOnly"){return new w0(t,e,n,r,i,s,o).recognize()}var i5=31,w0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new v0(this.urlSerializer,this.urlTree)}noMatchError(e){return new St(4002,`'${e.segmentGroup}'`)}recognize(){let e=lD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Nt(({children:n,rootSnapshot:r})=>{let i=new ui(r,n),o=new Dp("",i),s=f4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Uc([],Object.freeze({}),Object.freeze(ke({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Gt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Gt,n).pipe(Nt(r=>({children:r,rootSnapshot:n})),qr(r=>{if(r instanceof Rl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof kl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Nt(s=>s instanceof ui?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return On(o).pipe(yo(s=>{let a=r.children[s],c=b4(n,s);return this.processSegmentGroup(e,c,a,s,i)}),sy((s,a)=>(s.push(...a),s)),pi(null),iy(),Ln(s=>{if(s===null)return $c(r);let a=LD(s);return o5(a),Dt(a)}))}processSegment(e,n,r,i,o,s,a){return On(n).pipe(yo(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(qr(f=>{if(f instanceof kl)return Dt(null);throw f}))),go(c=>!!c),qr(c=>{if(RD(c))return n5(r,i,o)?Dt(new _0):$c(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return $i(r)!==s&&(s===Gt||!Mp(i,o,r))?$c(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):$c(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:f,consumedSegments:y,positionalParamSegments:m,remainingSegments:u}=FD(n,i,o);if(!c)return $c(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i5&&(this.allowRedirects=!1));let l=new Uc(o,f,Object.freeze(ke({},this.urlTree.queryParams)),this.urlTree.fragment,fD(i),$i(i),i.component??i._loadedComponent??null,i,dD(i)),h=Op(l,a,this.paramsInheritanceStrategy);l.params=Object.freeze(h.params),l.data=Object.freeze(h.data);let d=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,m,l,e);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ln(p=>this.processSegment(e,r,n,p.concat(u),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Y4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(zr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zr(({routes:f})=>{let y=r._loadedInjector??e,{parameters:m,consumedSegments:u,remainingSegments:l}=c,h=new Uc(u,m,Object.freeze(ke({},this.urlTree.queryParams)),this.urlTree.fragment,fD(r),$i(r),r.component??r._loadedComponent??null,r,dD(r)),d=Op(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(d.params),h.data=Object.freeze(d.data);let{segmentGroup:p,slicedSegments:g}=lD(n,u,l,f);if(g.length===0&&p.hasChildren())return this.processChildren(y,f,p,h).pipe(Nt(v=>new ui(h,v)));if(f.length===0&&g.length===0)return Dt(new ui(h,[]));let b=$i(r)===o;return this.processSegment(y,f,p,g,b?Gt:o,!0,h).pipe(Nt(v=>new ui(h,v instanceof ui?[v]:[])))}))):$c(n)))}getChildConfig(e,n,r){return n.children?Dt({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Dt({routes:n._loadedRoutes,injector:n._loadedInjector}):W4(e,n,r,this.urlSerializer).pipe(Ln(i=>i?this.configLoader.loadChildren(e,n).pipe(Hn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Q4(n))):Dt({routes:[],injector:e})}};function o5(t){t.sort((e,n)=>e.value.outlet===Gt?-1:n.value.outlet===Gt?1:e.value.outlet.localeCompare(n.value.outlet))}function s5(t){let e=t.value.routeConfig;return e&&e.path===""}function LD(t){let e=[],n=new Set;for(let r of t){if(!s5(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=LD(r.children);e.push(new ui(r.value,i))}return e.filter(r=>!n.has(r))}function fD(t){return t.data||{}}function dD(t){return t.resolve||{}}function a5(t,e,n,r,i,o){return Ln(s=>r5(t,e,n,r,s.extractedUrl,i,o).pipe(Nt(({state:a,tree:c})=>Mt(ke({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function c5(t,e){return Ln(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Dt(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let f of $D(c))s.add(f);let a=0;return On(s).pipe(yo(c=>o.has(c)?u5(c,r,t,e):(c.data=Op(c,c.parent,t).resolve,Dt(void 0))),Hn(()=>a++),Ra(1),Ln(c=>a===s.size?Dt(n):Xr))})}function $D(t){let e=t.children.map(n=>$D(n)).flat();return[t,...e]}function u5(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!MD(i)&&(o[Fl]=i.title),l5(o,t,e,r).pipe(Nt(s=>(t._resolvedData=s,t.data=Op(t,t.parent,n).resolve,null)))}function l5(t,e,n,r){let i=Zb(t);if(i.length===0)return Dt({});let o={};return On(i).pipe(Ln(s=>f5(t[s],e,n,r).pipe(go(),Hn(a=>{if(a instanceof Pl)throw Ap(new zc,a);o[s]=a}))),Ra(1),ny(o),qr(s=>RD(s)?Xr:Ui(s)))}function f5(t,e,n,r){let i=$l(e)??r,o=Qc(t,i),s=o.resolve?o.resolve(e,n):mr(i,()=>o(e,n));return Ds(s)}function Yb(t){return zr(e=>{let n=t(e);return n?On(n).pipe(Nt(()=>e)):Dt(e)})}var BD=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Gt);return r}getResolvedTitleForRoute(n){return n.data[Fl]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>Se(d5),providedIn:"root"})}return t})(),d5=(()=>{class t extends BD{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(bt($I))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ul=new rt("",{providedIn:"root",factory:()=>({})}),h5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=yr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&Wn(0,"router-outlet")},dependencies:[I0],encapsulation:2})}return t})();function O0(t){let e=t.children&&t.children.map(O0),n=e?Mt(ke({},t),{children:e}):ke({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Gt&&(n.component=h5),n}var jl=new rt(""),D0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Se(ih);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Dt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ds(n.loadComponent()).pipe(Nt(VD),Hn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),qi(()=>{this.componentLoaders.delete(n)})),i=new xa(r,()=>new jn).pipe(Ta());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=p5(r,this.compiler,n,this.onLoadEndListener).pipe(qi(()=>{this.childrenLoaders.delete(r)})),s=new xa(o,()=>new jn).pipe(Ta());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p5(t,e,n,r){return Ds(t.loadChildren()).pipe(Nt(VD),Ln(i=>i instanceof Nu||Array.isArray(i)?Dt(i):On(e.compileModuleAsync(i))),Nt(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(jl,[],{optional:!0,self:!0}).flat()),{routes:s.map(O0),injector:o}}))}function m5(t){return t&&typeof t=="object"&&"default"in t}function VD(t){return m5(t)?t.default:t}var A0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>Se(y5),providedIn:"root"})}return t})(),y5=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UD=new rt(""),qD=new rt("");function g5(t,e,n){let r=t.get(qD),i=t.get(Or);return t.get(yn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(f=>setTimeout(f));let o,s=new Promise(f=>{o=f}),a=i.startViewTransition(()=>(o(),v5(t))),{onViewTransitionCreated:c}=r;return c&&mr(t,()=>c({transition:a,from:e,to:n})),s})}function v5(t){return new Promise(e=>{$g({read:()=>setTimeout(e)},{injector:t})})}var HD=new rt(""),T0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new jn;transitionAbortSubject=new jn;configLoader=Se(D0);environmentInjector=Se(kr);urlSerializer=Se(Ll);rootContexts=Se(Bl);location=Se(cs);inputBindingEnabled=Se(Cp,{optional:!0})!==null;titleStrategy=Se(BD);options=Se(Ul,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Se(A0);createViewTransition=Se(UD,{optional:!0});navigationErrorHandler=Se(HD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Dt(void 0);rootComponentType=null;constructor(){let n=i=>this.events.next(new s0(i)),r=i=>this.events.next(new a0(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Mt(ke(ke({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ar({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Al,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jn(o=>o.id!==0),Nt(o=>Mt(ke({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zr(o=>{let s=!1,a=!1;return Dt(o).pipe(zr(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",li.SupersededByNewNavigation),Xr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Mt(ke({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&y!=="reload"){let m="";return this.events.next(new Os(c.id,this.urlSerializer.serialize(c.rawUrl),m,_p.IgnoredSameUrlNavigation)),c.resolve(!1),Xr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Dt(c).pipe(zr(m=>{let u=this.transitions?.getValue();return this.events.next(new Wc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),u!==this.transitions?.getValue()?Xr:Promise.resolve(m)}),a5(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Hn(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Mt(ke({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let u=new wp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(u)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:u,source:l,restoredState:h,extras:d}=c,p=new Wc(m,this.urlSerializer.serialize(u),l,h);this.events.next(p);let g=xD(this.rootComponentType).snapshot;return this.currentTransition=o=Mt(ke({},c),{targetSnapshot:g,urlAfterRedirects:u,extras:Mt(ke({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,Dt(o)}else{let m="";return this.events.next(new Os(c.id,this.urlSerializer.serialize(c.extractedUrl),m,_p.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Xr}}),Hn(c=>{let f=new n0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),Nt(c=>(this.currentTransition=o=Mt(ke({},c),{guards:A4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),L4(this.environmentInjector,c=>this.events.next(c)),Hn(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ap(this.urlSerializer,c.guardsResult);let f=new r0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Jn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",li.GuardRejected),!1)),Yb(c=>{if(c.guards.canActivateChecks.length)return Dt(c).pipe(Hn(f=>{let y=new i0(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),zr(f=>{let y=!1;return Dt(f).pipe(c5(this.paramsInheritanceStrategy,this.environmentInjector),Hn({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(f,"",li.NoDataFromResolver)}}))}),Hn(f=>{let y=new o0(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),Yb(c=>{let f=y=>{let m=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(y.routeConfig).pipe(Hn(u=>{y.component=u}),Nt(()=>{})));for(let u of y.children)m.push(...f(u));return m};return _u(f(c.targetSnapshot.root)).pipe(pi(null),Hr(1))}),Yb(()=>this.afterPreactivation()),zr(()=>{let{currentSnapshot:c,targetSnapshot:f}=o,y=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return y?On(y).pipe(Nt(()=>o)):Dt(o)}),Nt(c=>{let f=S4(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Mt(ke({},c),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Hn(()=>{this.events.next(new Ml)}),D4(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Hr(1),Hn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new to(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),vo(this.transitionAbortSubject.pipe(Hn(c=>{throw c}))),qi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",li.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),qr(c=>{if(a=!0,kD(c))this.events.next(new Fo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),O4(c)?this.events.next(new Gc(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let f=new Cl(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let y=mr(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(y instanceof Pl){let{message:m,cancellationCode:u}=Ap(this.urlSerializer,y);this.events.next(new Fo(o.id,this.urlSerializer.serialize(o.extractedUrl),m,u)),this.events.next(new Gc(y.redirectTo,y.navigationBehaviorOptions))}else throw this.events.next(f),c}catch(y){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(y)}}return Xr}))}))}cancelNavigationTransition(n,r,i){let o=new Fo(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b5(t){return t!==Al}var _5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>Se(w5),providedIn:"root"})}return t})(),S0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},w5=(()=>{class t extends S0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ys(t)))(i||t)}})();static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:()=>Se(S5),providedIn:"root"})}return t})(),S5=(()=>{class t extends zD{location=Se(cs);urlSerializer=Se(Ll);options=Se(Ul,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=Se(A0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Lo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=xD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Wc)this.stateMemento=this.createStateMemento();else if(n instanceof Os)this.rawUrlTree=r.initialUrl;else if(n instanceof wp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ml?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Fo&&(n.code===li.GuardRejected||n.code===li.NoDataFromResolver)?this.restoreHistory(r):n instanceof Cl?this.restoreHistory(r,!0):n instanceof to&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Lo?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=ke(ke({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=ke(ke({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ys(t)))(i||t)}})();static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ol=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ol||{});function WD(t,e){t.events.pipe(Jn(n=>n instanceof to||n instanceof Fo||n instanceof Cl||n instanceof Os),Nt(n=>n instanceof to||n instanceof Os?Ol.COMPLETE:(n instanceof Fo?n.code===li.Redirect||n.code===li.SupersededByNewNavigation:!1)?Ol.REDIRECTING:Ol.FAILED),Jn(n=>n!==Ol.REDIRECTING),Hr(1)).subscribe(()=>{e()})}var E5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Se(eh);stateManager=Se(zD);options=Se(Ul,{optional:!0})||{};pendingTasks=Se(ns);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Se(T0);urlSerializer=Se(Ll);location=Se(cs);urlHandlingStrategy=Se(A0);_events=new jn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Se(_5);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Se(jl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Se(Cp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Zn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fo&&r.code!==li.Redirect&&r.code!==li.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof to)this.navigated=!0;else if(r instanceof Gc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=ke({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||b5(i.source)},s);this.scheduleNavigation(a,Al,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}D5(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Al,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=ke({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(O0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=c?this.currentUrlTree.fragment:s,y=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":y=ke(ke({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}y!==null&&(y=this.removeEmptyProps(y));let m;try{let u=i?i.snapshot:this.routerState.snapshot.root;m=OD(u)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return DD(m,n,y,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ya(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Al,null,r)}navigate(n,r={skipLocationChange:!1}){return O5(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=ke({},E5):r===!1?i=ke({},I5):i=r,ya(n))return oD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return oD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((m,u)=>{a=m,c=u});let y=this.pendingTasks.add();return WD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O5(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new St(4008,!1)}function D5(t){return!(t instanceof Ml)&&!(t instanceof Gc)}var Np=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new jn;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(f=>{f instanceof to&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ya(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:XS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ya(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Pn(tr),Pn(no),Ng("tabindex"),Pn(Zs),Pn(rs),Pn(Ao))};static \u0275dir=Gr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&br("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&th("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",na],skipLocationChange:[2,"skipLocationChange","skipLocationChange",na],replaceUrl:[2,"replaceUrl","replaceUrl",na],routerLink:"routerLink"},features:[Xg,ic]})}return t})();var xp=class{};var A5=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Jn(n=>n instanceof to),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xd(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return On(i).pipe(Na())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Dt(null);let o=i.pipe(Ln(s=>s===null?Dt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return On([o,s]).pipe(Na())}else return o})}static \u0275fac=function(r){return new(r||t)(bt(tr),bt(ih),bt(kr),bt(xp),bt(D0))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GD=new rt(""),T5=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof to?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Os&&n.code===_p.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sp&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sp(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){dE()};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();function KD(t,...e){return ri([{provide:jl,multi:!0,useValue:t},[],{provide:no,useFactory:QD,deps:[tr]},{provide:Xs,multi:!0,useFactory:YD},e.map(n=>n.\u0275providers)])}function QD(t){return t.routerState.root}function ql(t,e){return{\u0275kind:t,\u0275providers:e}}function YD(){let t=Se(cr);return e=>{let n=t.get(ss);if(e!==n.components[0])return;let r=t.get(tr),i=t.get(JD);t.get(x0)===1&&r.initialNavigation(),t.get(ZD,null,nn.Optional)?.setUpPreloading(),t.get(GD,null,nn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var JD=new rt("",{factory:()=>new jn}),x0=new rt("",{providedIn:"root",factory:()=>1});function x5(){return ql(2,[{provide:x0,useValue:0},{provide:cc,multi:!0,deps:[cr],useFactory:e=>{let n=e.get(fI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(tr),o=e.get(JD);WD(i,()=>{r(!0)}),e.get(T0).afterPreactivation=()=>(r(!0),o.closed?Dt(void 0):o),i.initialNavigation()}))}}])}function C5(){return ql(3,[{provide:cc,multi:!0,useFactory:()=>{let e=Se(tr);return()=>{e.setUpLocationChangeListener()}}},{provide:x0,useValue:2}])}var ZD=new rt("");function M5(t){return ql(0,[{provide:ZD,useExisting:A5},{provide:xp,useExisting:t}])}function N5(){return ql(8,[uD,{provide:Cp,useExisting:uD}])}function P5(t){let e=[{provide:UD,useValue:g5},{provide:qD,useValue:ke({skipNextTransition:!!t?.skipInitialTransition},t)}];return ql(9,e)}var hD=new rt("ROUTER_FORROOT_GUARD"),k5=[cs,{provide:Ll,useClass:zc},tr,Bl,{provide:no,useFactory:QD,deps:[tr]},D0,[]],XD=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[k5,[],{provide:jl,multi:!0,useValue:n},{provide:hD,useFactory:L5,deps:[[tr,new gg,new Vw]]},r?.errorHandler?{provide:HD,useValue:r.errorHandler}:[],{provide:Ul,useValue:r||{}},r?.useHash?j5():F5(),R5(),r?.preloadingStrategy?M5(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?$5(r):[],r?.bindToComponentInputs?N5().\u0275providers:[],r?.enableViewTransitions?P5().\u0275providers:[],B5()]}}static forChild(n){return{ngModule:t,providers:[{provide:jl,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)(bt(hD,8))};static \u0275mod=ii({type:t});static \u0275inj=ni({})}return t})();function R5(){return{provide:GD,useFactory:()=>{let t=Se(yI),e=Se(yn),n=Se(Ul),r=Se(T0),i=Se(Ll);return n.scrollOffset&&t.setOffset(n.scrollOffset),new T5(i,r,t,e,n)}}}function j5(){return{provide:Ao,useClass:hI}}function F5(){return{provide:Ao,useClass:uv}}function L5(t){return"guarded"}function $5(t){return[t.initialNavigation==="disabled"?C5().\u0275providers:[],t.initialNavigation==="enabledBlocking"?x5().\u0275providers:[]]}var pD=new rt("");function B5(){return[{provide:pD,useFactory:YD},{provide:Xs,multi:!0,useExisting:pD}]}function eA(t){return new $t(e=>(t().then(n=>{e.closed||(e.next(n),e.complete())},n=>{e.closed||e.error(n)}),()=>e.unsubscribe()))}function U5(t,e){return e?t.pipe(Bs({loading:!0}),Nt(n=>Mt(ke({},n),{loading:!!n.loading}))):t.pipe(Nt(n=>Mt(ke({},n),{loading:!1})))}var M0=class{zone;constructor(e){this.zone=e}now=Date.now?Date.now:()=>+new Date;schedule(e,n=0,r){return this.zone.run(()=>ey.schedule(e,n,r))}};function N0(t){return t[ho]=()=>t,t}function P0(t,e){return t.pipe($s(new M0(e)))}function q5(t){return function(n){return new $t(function(i){let o=t.getCurrentResult(),{loading:s,errors:a,error:c,partial:f,data:y}=o,{partialRefetch:m,fetchPolicy:u}=t.options,l=a||c;return m&&f&&(!y||Object.keys(y).length===0)&&u!=="cache-only"&&!s&&!l&&i.next(Mt(ke({},o),{loading:!0,networkStatus:_n.loading})),n.subscribe(i)})}}var k0=class{obsQuery;valueChanges;queryId;constructor(e,n,r){this.obsQuery=e;let i=P0(On(N0(this.obsQuery)),n);this.valueChanges=r.useInitialLoading?i.pipe(q5(this.obsQuery)):i,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(e){return this.obsQuery.refetch(e)}fetchMore(e){return this.obsQuery.fetchMore(e)}subscribeToMore(e){return this.obsQuery.subscribeToMore(e)}updateQuery(e){return this.obsQuery.updateQuery(e)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(e){return this.obsQuery.startPolling(e)}setOptions(e){return this.obsQuery.setOptions(e)}setVariables(e){return this.obsQuery.setVariables(e)}},tA=new rt("APOLLO_FLAGS"),nA=new rt("APOLLO_OPTIONS"),H5=new rt("APOLLO_NAMED_OPTIONS"),Pp=class{ngZone;flags;_client;useInitialLoading;useMutationLoading;constructor(e,n,r){this.ngZone=e,this.flags=n,this._client=r,this.useInitialLoading=n?.useInitialLoading??!1,this.useMutationLoading=n?.useMutationLoading??!1}watchQuery(e){return new k0(this.ensureClient().watchQuery(ke({},e)),this.ngZone,ke({useInitialLoading:this.useInitialLoading},e))}query(e){return eA(()=>this.ensureClient().query(ke({},e)))}mutate(e){return U5(eA(()=>this.ensureClient().mutate(ke({},e))),e.useMutationLoading??this.useMutationLoading)}watchFragment(e,n){let r=On(N0(this.ensureClient().watchFragment(ke({},e))));return n&&n.useZone!==!0?r:P0(r,this.ngZone)}subscribe(e,n){let r=On(N0(this.ensureClient().subscribe(ke({},e))));return n&&n.useZone!==!0?r:P0(r,this.ngZone)}get client(){return this.ensureClient()}set client(e){if(this._client)throw new Error("Client has been already defined");this._client=e}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(this._client)return!0;throw new Error("Client has not been defined yet")}},R0=(()=>{class t extends Pp{map=new Map;constructor(n,r,i,o){if(super(n,o),r&&this.createDefault(r),i&&typeof i=="object"){for(let s in i)if(i.hasOwnProperty(s)){let a=i[s];this.create(a,s)}}}create(n,r){C0(r)?this.createNamed(r,n):this.createDefault(n)}default(){return this}use(n){return C0(n)?this.map.get(n):this.default()}createDefault(n){if(this._client)throw new Error("Apollo has been already created.");this.client=this.ngZone.runOutsideAngular(()=>new wl(n))}createNamed(n,r){if(this.map.has(n))throw new Error(`Client ${n} has been already created`);this.map.set(n,new Pp(this.ngZone,this.flags,this.ngZone.runOutsideAngular(()=>new wl(r))))}removeClient(n){C0(n)?this.map.delete(n):this._client=void 0}static \u0275fac=function(r){return new(r||t)(bt(yn),bt(nA,8),bt(H5,8),bt(tA,8))};static \u0275prov=Qe({token:t,factory:t.\u0275fac})}return t})();function C0(t){return!!t&&t!=="default"}function rA(t,e={}){return[R0,{provide:nA,useFactory:t},{provide:tA,useValue:e}]}var z5=Is,ga=z5;var W5=(t,e,n)=>{let r=["POST","PUT","PATCH"].indexOf(t.method.toUpperCase())!==-1,i=f=>["variables","extensions"].indexOf(f.toLowerCase())!==-1,o=t.body.length,s=t.options&&t.options.useMultipart,a;if(s){if(o)return new $t(f=>f.error(new Error("File upload is not available when combined with Batching")));if(!r)return new $t(f=>f.error(new Error("File upload is not available when GET is used")));if(!n)return new $t(f=>f.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));a=n(t.body),s=!!a.files.size}let c={};if(o){if(!r)return new $t(f=>f.error(new Error("Batching is not available for GET requests")));c={body:t.body}}else{let f=s?a.clone:t.body;r?c={body:f}:c={params:Object.keys(t.body).reduce((m,u)=>{let l=t.body[u];return m[u]=i(u)?JSON.stringify(l):l,m},{})}}if(s&&r){let f=new FormData;f.append("operations",JSON.stringify(c.body));let y={},m=a.files,u=0;m.forEach(l=>{y[++u]=l}),f.append("map",JSON.stringify(y)),u=0,m.forEach((l,h)=>{f.append(++u+"",h,h.name)}),c.body=f}return e.request(t.method,t.url,ke(ke({observe:"response",responseType:"json",reportProgress:!1},c),t.options))},G5=(t,e)=>t&&e?e.keys().reduce((r,i)=>r.set(i,e.getAll(i)),t):e||t;function K5(...t){return t.find(e=>typeof e<"u")}function Q5(t){let e=t.headers&&t.headers instanceof bi?t.headers:new bi(t.headers);if(t.clientAwareness){let{name:n,version:r}=t.clientAwareness;n&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",n)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}var Y5={batchInterval:10,batchMax:10,uri:"graphql",method:"POST",withCredentials:!1,includeQuery:!0,includeExtensions:!1,useMultipart:!1};function Yc(t,e,n){return K5(t[n],e[n],Y5[n])}var j0=class extends wi{httpClient;options;requester;print=Sc;constructor(e,n){super(),this.httpClient=e,this.options=n,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new en(i=>{let o=r.getContext(),s=Yc(o,this.options,"method"),a=Yc(o,this.options,"includeQuery"),c=Yc(o,this.options,"includeExtensions"),f=Yc(o,this.options,"uri"),y=Yc(o,this.options,"withCredentials"),m=Yc(o,this.options,"useMultipart"),u=this.options.useGETForQueries===!0,l=r.query.definitions.some(g=>g.kind==="OperationDefinition"&&g.operation==="query");u&&l&&(s="GET");let h={method:s,url:typeof f=="function"?f(r):f,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:y,useMultipart:m,headers:this.options.headers}};c&&(h.body.extensions=r.extensions),a&&(h.body.query=this.print(r.query));let d=Q5(o);h.options.headers=G5(h.options.headers,d);let p=W5(h,this.httpClient,this.options.extractFiles).subscribe({next:g=>{r.setContext({response:g}),i.next(g.body)},error:g=>i.error(g),complete:()=>i.complete()});return()=>{p.closed||p.unsubscribe()}})}request(e){return this.requester(e)}},iA=(()=>{class t{httpClient;constructor(n){this.httpClient=n}create(n){return new j0(this.httpClient,n)}static \u0275fac=function(r){return new(r||t)(bt(gv))};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J5=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,y=o>>2,m=(o&3)<<4|a>>4,u=(a&15)<<2|f>>6,l=f&63;c||(l=64,s||(u=64)),r.push(n[y],n[m],n[u],n[l])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let f=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||f==null||m==null)throw new L0;let u=o<<2|a>>4;if(r.push(u),f!==64){let l=a<<4&240|f>>2;if(r.push(l),m!==64){let h=f<<6&192|m;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},L0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Z5=function(t){let e=sA(t);return aA.encodeByteArray(e,!0)},B0=function(t){return Z5(t).replace(/\./g,"")},V0=function(t){try{return aA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ej=()=>X5().__FIREBASE_DEFAULTS__,tj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&V0(t[1]);return e&&JSON.parse(e)},U0=()=>{try{return ej()||tj()||nj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cA=t=>{var e,n;return(n=(e=U0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var q0=()=>{var t;return(t=U0())===null||t===void 0?void 0:t.config},H0=t=>{var e;return(e=U0())===null||e===void 0?void 0:e[`_${t}`]};var kp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){let t=Tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var rj="FirebaseError",Bi=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}},$o=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ij(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bi(i,a,r)}};function ij(t,e){return t.replace(oj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oj=/\{\$([^}]+)}/g;function yA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jc(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(oA(o)&&oA(s)){if(!Jc(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oA(t){return t!==null&&typeof t=="object"}function Zc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gA(t,e){let n=new $0(t,e);return n.subscribe.bind(n)}var $0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=F0),i.error===void 0&&(i.error=F0),i.complete===void 0&&(i.complete=F0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function F0(){}var Dre=4*60*60*1e3;function va(t){return t&&t._delegate?t._delegate:t}var ro=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ba="[DEFAULT]";var z0=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new kp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cj(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return Me(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aj(t){return t===ba?void 0:t}function cj(t){return t.instantiationMode==="EAGER"}var Rp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new z0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uj=[],Bn=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Bn||{}),lj={debug:Bn.DEBUG,verbose:Bn.VERBOSE,info:Bn.INFO,warn:Bn.WARN,error:Bn.ERROR,silent:Bn.SILENT},fj=Bn.INFO,dj={[Bn.DEBUG]:"log",[Bn.VERBOSE]:"log",[Bn.INFO]:"info",[Bn.WARN]:"warn",[Bn.ERROR]:"error"},hj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=dj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xc=class{constructor(e){this.name=e,this._logLevel=fj,this._logHandler=hj,this._userLogHandler=null,uj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bn.DEBUG,...e),this._logHandler(this,Bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bn.VERBOSE,...e),this._logHandler(this,Bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bn.INFO,...e),this._logHandler(this,Bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bn.WARN,...e),this._logHandler(this,Bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bn.ERROR,...e),this._logHandler(this,Bn.ERROR,...e)}};var pj=(t,e)=>e.some(n=>t instanceof n),vA,bA;function mj(){return vA||(vA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yj(){return bA||(bA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _A=new WeakMap,G0=new WeakMap,wA=new WeakMap,W0=new WeakMap,Q0=new WeakMap;function gj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(io(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_A.set(n,t)}).catch(()=>{}),Q0.set(e,t),e}function vj(t){if(G0.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});G0.set(t,e)}var K0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SA(t){K0=t(K0)}function bj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jp(this),e,...n);return wA.set(r,e.sort?e.sort():[e]),io(r)}:yj().includes(t)?function(...e){return t.apply(jp(this),e),io(_A.get(this))}:function(...e){return io(t.apply(jp(this),e))}}function _j(t){return typeof t=="function"?bj(t):(t instanceof IDBTransaction&&vj(t),pj(t,mj())?new Proxy(t,K0):t)}function io(t){if(t instanceof IDBRequest)return gj(t);if(W0.has(t))return W0.get(t);let e=_j(t);return e!==t&&(W0.set(t,e),Q0.set(e,t)),e}var jp=t=>Q0.get(t);function IA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=io(s);return r&&s.addEventListener("upgradeneeded",c=>{r(io(s.result),c.oldVersion,c.newVersion,io(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}var wj=["get","getKey","getAll","getAllKeys","count"],Sj=["put","add","delete","clear"],Y0=new Map;function EA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y0.get(e))return Y0.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Sj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wj.includes(n)))return;let o=function(s,...a){return Me(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),f=c.store;return r&&(f=f.index(a.shift())),(yield Promise.all([f[n](...a),i&&c.done]))[0]})};return Y0.set(e,o),o}SA(t=>Mt(ke({},t),{get:(e,n,r)=>EA(e,n)||t.get(e,n,r),has:(e,n)=>!!EA(e,n)||t.has(e,n)}));var Z0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ej(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Ej(t){let e=t.getComponent();return e?.type==="VERSION"}var X0="@firebase/app",OA="0.10.17";var Bo=new Xc("@firebase/app"),Ij="@firebase/app-compat",Oj="@firebase/analytics-compat",Dj="@firebase/analytics",Aj="@firebase/app-check-compat",Tj="@firebase/app-check",xj="@firebase/auth",Cj="@firebase/auth-compat",Mj="@firebase/database",Nj="@firebase/data-connect",Pj="@firebase/database-compat",kj="@firebase/functions",Rj="@firebase/functions-compat",jj="@firebase/installations",Fj="@firebase/installations-compat",Lj="@firebase/messaging",$j="@firebase/messaging-compat",Bj="@firebase/performance",Vj="@firebase/performance-compat",Uj="@firebase/remote-config",qj="@firebase/remote-config-compat",Hj="@firebase/storage",zj="@firebase/storage-compat",Wj="@firebase/firestore",Gj="@firebase/vertexai",Kj="@firebase/firestore-compat",Qj="firebase",Yj="11.1.0";var e1="[DEFAULT]",Jj={[X0]:"fire-core",[Ij]:"fire-core-compat",[Dj]:"fire-analytics",[Oj]:"fire-analytics-compat",[Tj]:"fire-app-check",[Aj]:"fire-app-check-compat",[xj]:"fire-auth",[Cj]:"fire-auth-compat",[Mj]:"fire-rtdb",[Nj]:"fire-data-connect",[Pj]:"fire-rtdb-compat",[kj]:"fire-fn",[Rj]:"fire-fn-compat",[jj]:"fire-iid",[Fj]:"fire-iid-compat",[Lj]:"fire-fcm",[$j]:"fire-fcm-compat",[Bj]:"fire-perf",[Vj]:"fire-perf-compat",[Uj]:"fire-rc",[qj]:"fire-rc-compat",[Hj]:"fire-gcs",[zj]:"fire-gcs-compat",[Wj]:"fire-fst",[Kj]:"fire-fst-compat",[Gj]:"fire-vertex","fire-js":"fire-js",[Qj]:"fire-js-all"};var Fp=new Map,Zj=new Map,t1=new Map;function DA(t,e){try{t.container.addComponent(e)}catch(n){Bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eu(t){let e=t.name;if(t1.has(e))return Bo.debug(`There were multiple attempts to register component ${e}.`),!1;t1.set(e,t);for(let n of Fp.values())DA(n,t);for(let n of Zj.values())DA(n,t);return!0}function o1(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oo(t){return t.settings!==void 0}var Xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new $o("app","Firebase",Xj);var n1=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}};var tu=Yj;function s1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:e1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw As.create("bad-app-name",{appName:String(i)});if(n||(n=q0()),!n)throw As.create("no-options");let o=Fp.get(i);if(o){if(Jc(n,o.options)&&Jc(r,o.config))return o;throw As.create("duplicate-app",{appName:i})}let s=new Rp(i);for(let c of t1.values())s.addComponent(c);let a=new n1(n,r,s);return Fp.set(i,a),a}function CA(t=e1){let e=Fp.get(t);if(!e&&t===e1&&q0())return s1();if(!e)throw As.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let i=(r=Jj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bo.warn(a.join(" "));return}eu(new ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var e9="firebase-heartbeat-database",t9=1,Hl="firebase-heartbeat-store",J0=null;function MA(){return J0||(J0=IA(e9,t9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),J0}function n9(t){return Me(this,null,function*(){try{let n=(yield MA()).transaction(Hl),r=yield n.objectStore(Hl).get(NA(t));return yield n.done,r}catch(e){if(e instanceof Bi)Bo.warn(e.message);else{let n=As.create("idb-get",{originalErrorMessage:e?.message});Bo.warn(n.message)}}})}function AA(t,e){return Me(this,null,function*(){try{let r=(yield MA()).transaction(Hl,"readwrite");yield r.objectStore(Hl).put(e,NA(t)),yield r.done}catch(n){if(n instanceof Bi)Bo.warn(n.message);else{let r=As.create("idb-set",{originalErrorMessage:n?.message});Bo.warn(r.message)}}})}function NA(t){return`${t.name}!${t.options.appId}`}var r9=1024,i9=30*24*60*60*1e3,r1=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new i1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return Me(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=i9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bo.warn(r)}})}getHeartbeatsHeader(){return Me(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TA(),{heartbeatsToSend:r,unsentEntries:i}=o9(this._heartbeatsCache.heartbeats),o=B0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bo.warn(n),""}})}};function TA(){return new Date().toISOString().substring(0,10)}function o9(t,e=r9){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var i1=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Me(this,null,function*(){return pA()?mA().then(()=>!0).catch(()=>!1):!1})}read(){return Me(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield n9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return Me(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return Me(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xA(t){return B0(JSON.stringify({version:2,heartbeats:t})).length}function s9(t){eu(new ro("platform-logger",e=>new Z0(e),"PRIVATE")),eu(new ro("heartbeat",e=>new r1(e),"PRIVATE")),Ts(X0,OA,t),Ts(X0,OA,"esm2017"),Ts("fire-js","")}s9("");var a9="firebase",c9="11.1.0";Ts(a9,c9,"app");var nu=class t{app=s1({apiKey:"AIzaSyCwaR1rO8KBMknwhX2heD1_xEIoIV3qKtI",authDomain:"angular-3131825.firebaseapp.com",projectId:"angular-3131825",storageBucket:"angular-3131825.firebasestorage.app",messagingSenderId:"1042370316731",appId:"1:1042370316731:web:a66788faa7553374799c9e"});static \u0275fac=function(n){return new(n||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})};function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KA=GA,QA=new $o("auth","Firebase",GA());var qp=new Xc("@firebase/auth");function u9(t,...e){qp.logLevel<=Bn.WARN&&qp.warn(`Auth (${tu}): ${t}`,...e)}function $p(t,...e){qp.logLevel<=Bn.ERROR&&qp.error(`Auth (${tu}): ${t}`,...e)}function ao(t,...e){throw I1(t,...e)}function Vi(t,...e){return I1(t,...e)}function E1(t,e,n){let r=Object.assign(Object.assign({},KA()),{[e]:n});return new $o("auth","Firebase",r).create(e,{appName:t.name})}function _a(t){return E1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l9(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ao(t,"argument-error"),E1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I1(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QA.create(t,...e)}function Bt(t,e,...n){if(!t)throw I1(e,...n)}function Vo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw $p(e),new Error(e)}function qo(t,e){t||Vo(e)}function u1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f9(){return PA()==="http:"||PA()==="https:"}function PA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function d9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f9()||fA()||"connection"in navigator)?navigator.onLine:!0}function h9(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var wa=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=uA()||dA()}get(){return d9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function O1(t,e){qo(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Hp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var p9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var m9=new wa(3e4,6e4);function D1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ou(o,s,a,c){return Me(this,arguments,function*(t,e,n,r,i={}){return YA(t,i,()=>Me(this,null,function*(){let f={},y={};r&&(e==="GET"?y=r:f={body:JSON.stringify(r)});let m=Zc(Object.assign({key:t.config.apiKey},y)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},f);return lA()||(l.referrerPolicy="no-referrer"),Hp.fetch()(JA(t,t.config.apiHost,n,m),l)}))})}function YA(t,e,n){return Me(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},p9),e);try{let i=new l1(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,f]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lp(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Lp(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Lp(t,"user-disabled",s);let y=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw E1(t,y,f);ao(t,y)}}catch(i){if(i instanceof Bi)throw i;ao(t,"network-request-failed",{message:String(i)})}})}function y9(o,s,a,c){return Me(this,arguments,function*(t,e,n,r,i={}){let f=yield ou(t,e,n,r,i);return"mfaPendingCredential"in f&&ao(t,"multi-factor-auth-required",{_serverResponse:f}),f})}function JA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?O1(t.config,i):`${t.config.apiScheme}://${i}`}var l1=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),m9.get())})}};function Lp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Vi(t,e,r);return i.customData._tokenResponse=n,i}function g9(t,e){return Me(this,null,function*(){return ou(t,"POST","/v1/accounts:delete",e)})}function ZA(t,e){return Me(this,null,function*(){return ou(t,"POST","/v1/accounts:lookup",e)})}function zl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function XA(t,e=!1){return Me(this,null,function*(){let n=va(t),r=yield n.getIdToken(e),i=A1(r);Bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:zl(a1(i.auth_time)),issuedAtTime:zl(a1(i.iat)),expirationTime:zl(a1(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function a1(t){return Number(t)*1e3}function A1(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $p("JWT malformed, contained fewer than 3 sections"),null;try{let i=V0(n);return i?JSON.parse(i):($p("Failed to decode base64 JWT payload"),null)}catch(i){return $p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kA(t){let e=A1(t);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gl(t,e,n=!1){return Me(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Bi&&v9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function v9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var f1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>Me(this,null,function*(){yield this.iteration()}),n)}iteration(){return Me(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zp(t){return Me(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Gl(t,ZA(n,{idToken:r}));Bt(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tT(o.providerUserInfo):[],a=b9(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!a?.length,y=c?f:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kl(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,m)})}function eT(t){return Me(this,null,function*(){let e=va(t);yield zp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function b9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tT(t){return t.map(e=>{var{providerId:n}=e,r=hr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _9(t,e){return Me(this,null,function*(){let n=yield YA(t,{},()=>Me(this,null,function*(){let r=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=JA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function w9(t,e){return Me(this,null,function*(){return ou(t,"POST","/v2/accounts:revokeToken",D1(t,e))})}var Wl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");let n=kA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return Me(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return Me(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield _9(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Bt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Bt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Bt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vo("not implemented")}};function xs(t,e){Bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var iu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return Me(this,null,function*(){let n=yield Gl(this,this.stsTokenManager.getToken(this.auth,e));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return XA(this,e)}reload(){return eT(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return Me(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield zp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return Me(this,null,function*(){if(oo(this.auth.app))return Promise.reject(_a(this.auth));let e=yield this.getIdToken();return yield Gl(this,g9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,f,y;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,u=(i=n.email)!==null&&i!==void 0?i:void 0,l=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,h=(s=n.photoURL)!==null&&s!==void 0?s:void 0,d=(a=n.tenantId)!==null&&a!==void 0?a:void 0,p=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,g=(f=n.createdAt)!==null&&f!==void 0?f:void 0,b=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:v,emailVerified:_,isAnonymous:S,providerData:w,stsTokenManager:D}=n;Bt(v&&D,e,"internal-error");let x=Wl.fromJSON(this.name,D);Bt(typeof v=="string",e,"internal-error"),xs(m,e.name),xs(u,e.name),Bt(typeof _=="boolean",e,"internal-error"),Bt(typeof S=="boolean",e,"internal-error"),xs(l,e.name),xs(h,e.name),xs(d,e.name),xs(p,e.name),xs(g,e.name),xs(b,e.name);let M=new t({uid:v,auth:e,email:u,emailVerified:_,displayName:m,isAnonymous:S,photoURL:h,phoneNumber:l,tenantId:d,stsTokenManager:x,createdAt:g,lastLoginAt:b});return w&&Array.isArray(w)&&(M.providerData=w.map(P=>Object.assign({},P))),p&&(M._redirectEventId=p),M}static _fromIdTokenResponse(e,n,r=!1){return Me(this,null,function*(){let i=new Wl;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zp(o),o})}static _fromGetAccountInfoResponse(e,n,r){return Me(this,null,function*(){let i=n.users[0];Bt(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Wl;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Kl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,f),c})}};var RA=new Map;function Uo(t){qo(t instanceof Function,"Expected a class definition");let e=RA.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RA.set(t,e),e)}var S9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return Me(this,null,function*(){return!0})}_set(n,r){return Me(this,null,function*(){this.storage[n]=r})}_get(n){return Me(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return Me(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),d1=S9;function Bp(t,e,n){return`firebase:${t}:${e}:${n}`}var Wp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return Me(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?iu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return Me(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return Me(this,null,function*(){if(!n.length)return new t(Uo(d1),e,r);let i=(yield Promise.all(n.map(f=>Me(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=i[0]||Uo(d1),s=Bp(r,e.config.apiKey,e.name),a=null;for(let f of n)try{let y=yield f._get(s);if(y){let m=iu._fromJSON(e,y);f!==o&&(a=m),o=f;break}}catch{}let c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(f=>Me(this,null,function*(){if(f!==o)try{yield f._remove(s)}catch{}}))),new t(o,e,r))})}};function jA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(cT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nT(t=Tr()){return/firefox\//i.test(t)}function rT(t=Tr()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(t=Tr()){return/crios\//i.test(t)}function oT(t=Tr()){return/iemobile/i.test(t)}function sT(t=Tr()){return/android/i.test(t)}function aT(t=Tr()){return/blackberry/i.test(t)}function cT(t=Tr()){return/webos/i.test(t)}function T1(t=Tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E9(t=Tr()){var e;return T1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I9(){return hA()&&document.documentMode===10}function uT(t=Tr()){return T1(t)||sT(t)||cT(t)||aT(t)||/windows phone/i.test(t)||oT(t)}function lT(t,e=[]){let n;switch(t){case"Browser":n=jA(Tr());break;case"Worker":n=`${jA(Tr())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${r}`}var h1=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return Me(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function O9(n){return Me(this,arguments,function*(t,e={}){return ou(t,"GET","/v2/passwordPolicy",D1(t,e))})}var D9=6,p1=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:D9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var m1=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gp(this),this.idTokenSubscription=new Gp(this),this.beforeStateQueue=new h1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Uo(n)),this._initializationPromise=this.queue(()=>Me(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return Me(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return Me(this,null,function*(){try{let n=yield ZA(this,{idToken:e}),r=yield iu._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return Me(this,null,function*(){var n;if(oo(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return Me(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return Me(this,null,function*(){try{yield zp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=h9()}_delete(){return Me(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return Me(this,null,function*(){if(oo(this.app))return Promise.reject(_a(this));let n=e?va(e):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return Me(this,null,function*(){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>Me(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return Me(this,null,function*(){return oo(this.app)?Promise.reject(_a(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return oo(this.app)?Promise.reject(_a(this)):this.queue(()=>Me(this,null,function*(){yield this.assertedPersistence.setPersistence(Uo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return Me(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return Me(this,null,function*(){let e=yield O9(this),n=new p1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return Me(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield w9(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return Me(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return Me(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Uo(e)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=yield Wp.create(this,[Uo(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return Me(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>Me(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return Me(this,null,function*(){if(e===this.currentUser)return this.queue(()=>Me(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return Me(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return Me(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return Me(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&u9(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function tm(t){return va(t)}var Gp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gA(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var x1={loadJS(){return Me(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A9(t){x1=t}function T9(t){return x1.loadJS(t)}function x9(){return x1.gapiScript}function fT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function dT(t,e){let n=o1(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Jc(o,e??{}))return i;ao(i,"already-initialized")}return n.initialize({options:e})}function C9(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Uo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function hT(t,e,n){let r=tm(t);Bt(r._canInitEmulator,r,"emulator-config-failed"),Bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=pT(e),{host:s,port:a}=M9(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||N9()}function pT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M9(t){let e=pT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FA(s)}}}function FA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function N9(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ql=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vo("not implemented")}_getIdTokenResponse(e){return Vo("not implemented")}_linkToIdToken(e,n){return Vo("not implemented")}_getReauthenticationResolver(e){return Vo("not implemented")}};function ru(t,e){return Me(this,null,function*(){return y9(t,"POST","/v1/accounts:signInWithIdp",D1(t,e))})}var P9="http://localhost",Kp=class t extends Ql{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ao("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=hr(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return ru(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ru(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ru(e,n)}buildRequest(){let e={requestUri:P9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}};var Yl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Qp=class extends Yl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xl=(()=>{class t extends Qp{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Kp._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Jl=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return Me(this,null,function*(){let o=yield iu._fromIdTokenResponse(e,r,i),s=LA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return Me(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var y1=class t extends Bi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function mT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?y1._fromErrorAndOperation(t,o,e,r):o})}function k9(t,e,n=!1){return Me(this,null,function*(){let r=yield Gl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jl._forOperation(t,"link",r)})}function R9(t,e,n=!1){return Me(this,null,function*(){let{auth:r}=t;if(oo(r.app))return Promise.reject(_a(r));let i="reauthenticate";try{let o=yield Gl(t,mT(r,i,e,t),n);Bt(o.idToken,r,"internal-error");let s=A1(o.idToken);Bt(s,r,"internal-error");let{sub:a}=s;return Bt(t.uid===a,r,"user-mismatch"),Jl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ao(r,"user-mismatch"),o}})}function j9(t,e,n=!1){return Me(this,null,function*(){if(oo(t.app))return Promise.reject(_a(t));let r="signIn",i=yield mT(t,r,e),o=yield Jl._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function yT(t,e,n,r){return va(t).onIdTokenChanged(e,n,r)}function gT(t,e,n){return va(t).beforeAuthStateChanged(e,n)}var Yp="__sak";var Jp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var F9=1e3,L9=10,$9=(()=>{class t extends Jp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,f)=>{this.notifyListeners(a,f)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);I9()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,L9):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},F9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return Me(this,null,function*(){yield ks(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return Me(this,null,function*(){let r=yield ks(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return Me(this,null,function*(){yield ks(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),vT=$9;var B9=(()=>{class t extends Jp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),C1=B9;function V9(t){return Promise.all(t.map(e=>Me(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var U9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return Me(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(y=>Me(this,null,function*(){return y(r.origin,s)})),f=yield V9(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function M1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var g1=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return Me(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let f=M1("",20);i.port1.start();let y=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let u=m;if(u.data.eventId===f)switch(u.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(u.data.response);break;default:clearTimeout(y),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function so(){return window}function q9(t){so().location.href=t}function bT(){return typeof so().WorkerGlobalScope<"u"&&typeof so().importScripts=="function"}function H9(){return Me(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function z9(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function W9(){return bT()?self:null}var _T="firebaseLocalStorageDb",G9=1,Zp="firebaseLocalStorage",wT="fbase_key",Sa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function nm(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function K9(){let t=indexedDB.deleteDatabase(_T);return new Sa(t).toPromise()}function v1(){let t=indexedDB.open(_T,G9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zp,{keyPath:wT})}catch(i){n(i)}}),t.addEventListener("success",()=>Me(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zp)?e(r):(r.close(),yield K9(),e(yield v1()))}))})}function $A(t,e,n){return Me(this,null,function*(){let r=nm(t,!0).put({[wT]:e,value:n});return new Sa(r).toPromise()})}function Q9(t,e){return Me(this,null,function*(){let n=nm(t,!1).get(e),r=yield new Sa(n).toPromise();return r===void 0?null:r.value})}function BA(t,e){let n=nm(t,!0).delete(e);return new Sa(n).toPromise()}var Y9=800,J9=3,Z9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return Me(this,null,function*(){return this.db?this.db:(this.db=yield v1(),this.db)})}_withRetries(n){return Me(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>J9)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return Me(this,null,function*(){return bT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return Me(this,null,function*(){this.receiver=U9._getInstance(W9()),this.receiver._subscribe("keyChanged",(n,r)=>Me(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>Me(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return Me(this,null,function*(){var n,r;if(this.activeServiceWorker=yield H9(),!this.activeServiceWorker)return;this.sender=new g1(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return Me(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return Me(this,null,function*(){try{if(!indexedDB)return!1;let n=yield v1();return yield $A(n,Yp,"1"),yield BA(n,Yp),!0}catch{}return!1})}_withPendingWrite(n){return Me(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return Me(this,null,function*(){return this._withPendingWrite(()=>Me(this,null,function*(){return yield this._withRetries(i=>$A(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return Me(this,null,function*(){let r=yield this._withRetries(i=>Q9(i,n));return this.localCache[n]=r,r})}_remove(n){return Me(this,null,function*(){return this._withPendingWrite(()=>Me(this,null,function*(){return yield this._withRetries(r=>BA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return Me(this,null,function*(){let n=yield this._withRetries(o=>{let s=nm(o,!1).getAll();return new Sa(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>Me(this,null,function*(){return this._poll()}),Y9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ST=Z9;var sie=fT("rcb"),aie=new wa(3e4,6e4);function ET(t,e){return e?Uo(e):(Bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Zl=class extends Ql{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ru(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ru(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ru(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function X9(t){return j9(t.auth,new Zl(t),t.bypassAuthState)}function e7(t){let{auth:e,user:n}=t;return Bt(n,e,"internal-error"),R9(n,new Zl(t),t.bypassAuthState)}function t7(t){return Me(this,null,function*(){let{auth:e,user:n}=t;return Bt(n,e,"internal-error"),k9(n,new Zl(t),t.bypassAuthState)})}var Xp=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>Me(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return Me(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X9;case"linkViaPopup":case"linkViaRedirect":return t7;case"reauthViaPopup":case"reauthViaRedirect":return e7;default:ao(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var n7=new wa(2e3,1e4);function ef(t,e,n){return Me(this,null,function*(){if(oo(t.app))return Promise.reject(Vi(t,"operation-not-supported-in-this-environment"));let r=tm(t);l9(t,e,Yl);let i=ET(r,n);return new r7(r,"signInViaPopup",e,i).executeNotNull()})}var r7=(()=>{class t extends Xp{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return Me(this,null,function*(){let n=yield this.execute();return Bt(n,this.auth,"internal-error"),n})}onExecution(){return Me(this,null,function*(){qo(this.filter.length===1,"Popup operations only handle one event");let n=M1();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,n7.get())};n()}}t.currentPopupAction=null;return t})(),i7="pendingRedirect",Vp=new Map,b1=class t extends Xp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return Me(this,null,function*(){let e=Vp.get(this.auth._key());if(!e){try{let r=(yield o7(this.resolver,this.auth))?yield ks(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return Me(this,null,function*(){if(e.type==="signInViaRedirect")return ks(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ks(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return Me(this,null,function*(){})}cleanUp(){}};function o7(t,e){return Me(this,null,function*(){let n=c7(e),r=a7(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function s7(t,e){Vp.set(t._key(),e)}function a7(t){return Uo(t._redirectPersistence)}function c7(t){return Bp(i7,t.config.apiKey,t.name)}function u7(t,e,n=!1){return Me(this,null,function*(){if(oo(t.app))return Promise.reject(_a(t));let r=tm(t),i=ET(r,e),s=yield new b1(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var l7=10*60*1e3,_1=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l7&&this.cachedEventUids.clear(),this.cachedEventUids.has(VA(e))}saveEventToCache(e){this.cachedEventUids.add(VA(e)),this.lastProcessedEventTime=Date.now()}};function VA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function f7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(t);default:return!1}}function d7(n){return Me(this,arguments,function*(t,e={}){return ou(t,"GET","/v1/projects",e)})}var h7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p7=/^https?/;function m7(t){return Me(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield d7(t);for(let n of e)try{if(y7(n))return}catch{}ao(t,"unauthorized-domain")})}function y7(t){let e=u1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!p7.test(n))return!1;if(h7.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var g7=new wa(3e4,6e4);function UA(){let t=so().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v7(t){return new Promise((e,n)=>{var r,i,o;function s(){UA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UA(),n(Vi(t,"network-request-failed"))},timeout:g7.get()})}if(!((i=(r=so().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=so().gapi)===null||o===void 0)&&o.load)s();else{let a=fT("iframefcb");return so()[a]=()=>{gapi.load?s():n(Vi(t,"network-request-failed"))},T9(`${x9()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Up=null,e})}var Up=null;function b7(t){return Up=Up||v7(t),Up}var _7=new wa(5e3,15e3),w7="__/auth/iframe",S7="emulator/auth/iframe",E7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O7(t){let e=t.config;Bt(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?O1(e,S7):`https://${t.config.authDomain}/${w7}`,r={apiKey:e.apiKey,appName:t.name,v:tu},i=I7.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zc(r).slice(1)}`}function D7(t){return Me(this,null,function*(){let e=yield b7(t),n=so().gapi;return Bt(n,t,"internal-error"),e.open({where:document.body,url:O7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E7,dontclear:!0},r=>new Promise((i,o)=>Me(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Vi(t,"network-request-failed"),a=so().setTimeout(()=>{o(s)},_7.get());function c(){so().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var A7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T7=500,x7=600,C7="_blank",M7="http://localhost",em=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function N7(t,e,n,r=T7,i=x7){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},A7),{width:r.toString(),height:i.toString(),top:o,left:s}),f=Tr().toLowerCase();n&&(a=iT(f)?C7:n),nT(f)&&(e=e||M7,c.scrollbars="yes");let y=Object.entries(c).reduce((u,[l,h])=>`${u}${l}=${h},`,"");if(E9(f)&&a!=="_self")return P7(e||"",a),new em(null);let m=window.open(e||"",a,y);Bt(m,t,"popup-blocked");try{m.focus()}catch{}return new em(m)}function P7(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var k7="__/auth/handler",R7="emulator/auth/handler",j7=encodeURIComponent("fac");function qA(t,e,n,r,i,o){return Me(this,null,function*(){Bt(t.config.authDomain,t,"auth-domain-config-required"),Bt(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tu,eventId:i};if(e instanceof Yl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",yA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,m]of Object.entries(o||{}))s[y]=m}if(e instanceof Qp){let y=e.getScopes().filter(m=>m!=="");y.length>0&&(s.scopes=y.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let y of Object.keys(a))a[y]===void 0&&delete a[y];let c=yield t._getAppCheckToken(),f=c?`#${j7}=${encodeURIComponent(c)}`:"";return`${F7(t)}?${Zc(a).slice(1)}${f}`})}function F7({config:t}){return t.emulator?O1(t,R7):`https://${t.authDomain}/${k7}`}var c1="webStorageSupport",w1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C1,this._completeRedirectFn=u7,this._overrideRedirectResult=s7}_openPopup(e,n,r,i){return Me(this,null,function*(){var o;qo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield qA(e,n,r,u1(),i);return N7(e,s,M1())})}_openRedirect(e,n,r,i){return Me(this,null,function*(){yield this._originValidation(e);let o=yield qA(e,n,r,u1(),i);return q9(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(qo(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return Me(this,null,function*(){let n=yield D7(e),r=new _1(e);return n.register("authEvent",i=>(Bt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c1,{type:c1},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[c1];s!==void 0&&n(!!s),ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uT()||rT()||T1()}},OT=w1;var HA="@firebase/auth",zA="1.8.1";var S1=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return Me(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function L7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $7(t){eu(new ro("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Bt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(t)},f=new m1(r,i,o,c);return C9(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eu(new ro("auth-internal",e=>{let n=tm(e.getProvider("auth").getImmediate());return(r=>new S1(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(HA,zA,L7(t)),Ts(HA,zA,"esm2017")}var B7=5*60,V7=H0("authIdTokenMaxAge")||B7,WA=null,U7=t=>e=>Me(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V7)return;let i=n?.token;WA!==i&&(WA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tf(t=CA()){let e=o1(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dT(t,{popupRedirectResolver:OT,persistence:[ST,vT,C1]}),r=H0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=U7(o.toString());gT(n,s,()=>s(n.currentUser)),yT(n,a=>s(a))}}let i=cA("auth");return i&&hT(n,`http://${i}`),n}function q7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A9({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Vi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",q7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$7("Browser");var co=class t{apollo=Se(R0);client=this.apollo.client;query(e){var n=this.apollo.watchQuery(ke({},e));return n.valueChanges}mutate(e){return this.apollo.mutate(ke({},e))}constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})};var rm=ga`
  mutation($dto:RegisterDto!){
    register(dto:$dto){
      existed
      authorization
      username
      _id
    }
  }
`,im=ga`
  mutation($dto:CreateProfileDto!){
    createProfile(dto:$dto){
      profileImage
      firstName
      surname
    }
  }
`,DT=ga`
  mutation($dto:NewMessageDto!){
    sendMessage(dto:$dto){
      _id
      sender
      receiver
      value
      groupId
      contentType
      description
      read
      sendAt
    }
  }
`;function N1(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&wg(N1);let r=n?e?.injector?.get(sc)??Se(sc):null,i=z7(e?.equal),o;e?.requireSync?o=is({kind:0},{equal:i}):o=is({kind:1,value:e?.initialValue},{equal:i});let s=t.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;o.set({kind:2,error:a})}});if(e?.requireSync&&o().kind===0)throw new St(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),Io(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new St(601,!1)}},{equal:e?.equal})}function z7(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var uo="NGXS_META",su="NGXS_OPTIONS_META",P1="NGXS_SELECTOR_META";function R1(t){if(!t.hasOwnProperty(uo)){let e={name:null,actions:{},defaults:{},path:null,makeRootSelector(n){return n.getStateGetter(e.name)},children:[]};Object.defineProperty(t,uo,{value:e})}return rf(t)}function rf(t){return t[uo]}function j1(t){return t.hasOwnProperty(P1)||Object.defineProperty(t,P1,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),F1(t)}function F1(t){return t[P1]}function W7(t,e,n){if(e===null||n===null||e.length!==n.length)return!1;let r=e.length;for(let i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function sm(t,e=Object.is){let n=null,r=null;function i(){return W7(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}return i.reset=function(){n=null,r=null},i}var nf=class{constructor(e){this._name=e;let n=j1(this);n.makeRootSelector=r=>r.getStateGetter(this._name)}getName(){return this._name}toString(){return`StateToken[${this._name}]`}},G7=(()=>{class t{static{this._value={}}static set(n){this._value=n}static pop(){let n=this._value;return this._value={},n}}return t})(),L1=new rt("",{providedIn:"root",factory:()=>G7.pop()}),$1=(()=>{class t extends po{constructor(){super(1)}bootstrap(){this.next(!0),this.complete()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AT(t){let e=[],n=!1;return function(...i){if(n){e.unshift(i);return}for(n=!0,t(...i);e.length>0;){let o=e.pop();o&&t(...o)}n=!1}}var om=class extends jn{constructor(){super(...arguments),this._orderedNext=AT(e=>super.next(e))}next(e){this._orderedNext(e)}},k1=class extends ar{constructor(e){super(e),this._orderedNext=AT(n=>super.next(n)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}};function B1(t){return e=>new $t(n=>e.subscribe({next(r){t(()=>n.next(r))},error(r){t(()=>n.error(r))},complete(){t(()=>n.complete())}}))}var am=(()=>{class t extends k1{constructor(){super({}),this.state=N1(this.pipe(B1(vi)),{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var cm=(()=>{class t{static{this.type="@@INIT"}}return t})(),V1=(()=>{class t{static{this.type="@@UPDATE_STATE"}constructor(n){this.addedStates=n}}return t})(),um=new rt("");function TT(t){return!!t.prototype.handle}function Cs(t){return t.constructor?.type||t.type}function xT(t){let e=Cs(t);return function(n){return e===Cs(n)}}var of=(t,e,n)=>{t=ke({},t);let r=e.split("."),i=r.length-1;return r.reduce((o,s,a)=>(a===i?o[s]=n:o[s]=Array.isArray(o[s])?o[s].slice():ke({},o[s]),o&&o[s]),t),t},Ea=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r],t);function CT(t){return typeof t=="function"}var K7=(()=>{class t{enter(n){return n()}leave(n){return n()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FT=(()=>{class t{constructor(){this._ngZone=Se(yn),this._isServer=To(Se(Wr))}enter(n){return this._isServer?this.runInsideAngular(n):this.runOutsideAngular(n)}leave(n){return this.runInsideAngular(n)}runInsideAngular(n){return yn.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n){return yn.isInAngularZone()?this._ngZone.runOutsideAngular(n):n()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LT=new rt(""),Q7=new rt("",{providedIn:"root",factory:()=>{let t=Se(yn),e=Se(Rd),n=e.get(LT),r=t instanceof yn;return n?e.get(n):e.get(r?FT:K7)}}),$T=(()=>{class t{constructor(){this._executionStrategy=Se(Q7)}enter(n){return this._executionStrategy.enter(n)}leave(n){return this._executionStrategy.leave(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lm(t){return B1(e=>t.leave(e))}var BT=(()=>{class t extends om{constructor(){super(),this.dispatched$=new jn,this.pipe(Jn(n=>n.status==="DISPATCHED")).subscribe(n=>{this.dispatched$.next(n)})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var VT=(()=>{class t{constructor(){this.plugins=[],this._parentManager=Se(t,{optional:!0,skipSelf:!0}),this._pluginHandlers=Se(um,{optional:!0}),this.registerHandlers()}get _rootPlugins(){return this._parentManager?.plugins||this.plugins}registerHandlers(){let n=this.getPluginHandlers();this._rootPlugins.push(...n)}getPluginHandlers(){return(this._pluginHandlers||[]).map(r=>r.handle?r.handle.bind(r):r)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),q1=new WeakMap,MT=!1;function Y7(){if(MT)return;let t=xr.onUnhandledError;xr.onUnhandledError=function(e){let n=q1.get(e);if(n)n();else if(t)t.call(this,e);else throw e},MT=!0}function J7(t){let e=q1.get(t);return e?(e(),!0):!1}function Z7(t,e){if(t!==null&&typeof t=="object"){let n=!1;q1.set(t,()=>{n||(n=!0,e())})}return t}function X7(t){return e=>{let n=e.subscribe({error:r=>{t.runOutsideAngular(()=>{queueMicrotask(()=>{n&&J7(r)})})}});return new $t(r=>(n?.unsubscribe(),n=null,e.subscribe(r)))}}var UT=(()=>{class t extends jn{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ys(t)))(i||t)}})()}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eF=(()=>{class t{constructor(){this._ngZone=Se(yn),this._actions=Se(BT),this._actionResults=Se(UT),this._pluginManager=Se(VT),this._stateStream=Se(am),this._ngxsExecutionStrategy=Se($T),this._injector=Se(cr)}dispatch(n){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(n)).pipe(X7(this._ngZone),lm(this._ngxsExecutionStrategy))}dispatchByEvents(n){return Array.isArray(n)?n.length===0?Dt(void 0):ka(n.map(r=>this.dispatchSingle(r))).pipe(Nt(()=>{})):this.dispatchSingle(n)}dispatchSingle(n){let r=this._stateStream.getValue(),i=this._pluginManager.plugins;return qT(this._injector,[...i,(o,s)=>{o!==r&&this._stateStream.next(o);let a=this.getActionResultStream(s);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:s,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(r,n).pipe(Wo())}getActionResultStream(n){return this._actionResults.pipe(Jn(r=>r.action===n&&r.status!=="DISPATCHED"),Hr(1),Wo())}createDispatchObservable(n){return n.pipe(Ln(r=>{switch(r.status){case"SUCCESSFUL":return Dt(this._stateStream.getValue());case"ERRORED":return Ui(()=>r.error);default:return Dt()}}),Wo())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qT=(t,e)=>(...n)=>{let r=e.shift();return mr(t,()=>r(...n,(...i)=>qT(t,e)(...i)))},HT=new rt(""),hse=new rt(""),zT=new rt(""),sf=(()=>{class t{constructor(){this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=FT,this.selectorOptions={injectContainerState:!1,suppressErrors:!1}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:()=>(()=>{let n=new t,r=Se(zT);return Mt(ke(ke({},n),r),{selectorOptions:ke(ke({},n.selectorOptions),r.selectorOptions)})})(),providedIn:"root"})}}return t})(),U1=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}};var fm=(()=>{class t{constructor(){this._stateStream=Se(am),this._dispatcher=Se(eF),this._config=Se(sf)}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:r=>this._stateStream.next(r),dispatch:r=>this._dispatcher.dispatch(r)}}setStateToTheCurrentWithNew(n){let r=this.getRootStateOperations(),i=r.getState();r.setState(ke(ke({},i),n.defaults))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tF(t,e,n){return r=>{let{argumentSelectorFunctions:i,selectorOptions:o}=rF(r,t,e),{suppressErrors:s}=o;return function(c){let f=i.map(y=>y(c));try{return n(...f)}catch(y){if(s&&y instanceof TypeError)return;throw y}}}}function nF(t,e){let n=e&&e.containerClass,i=sm(function(){let s=t.apply(n,arguments);return typeof s=="function"?sm.apply(null,[s]):s});return Object.setPrototypeOf(i,t),i}function rF(t,e,n=[]){let r=e.getSelectorOptions(),i=t.getSelectorOptions(r),s=iF(n,i,e.containerClass).map(a=>WT(a)(t));return{selectorOptions:i,argumentSelectorFunctions:s}}function iF(t=[],e,n){let r=[],i=e.injectContainerState||t.length===0;return n&&i&&rf(n)&&r.push(n),r.push(...t),r}function WT(t){let e=F1(t)||rf(t);return e&&e.makeRootSelector||(()=>t)}function oF(t){return e=>{for(let n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}function sF(t){let e=t,n="store."+e[0],r=0,i=e.length,o=n;for(;++r<i;)o=o+" && "+(n=n+"."+e[r]);return new Function("store","return "+o+";")}var aF=new rt("",{providedIn:"root",factory:()=>Se(sf).compatibility?.strictContentSecurityPolicy?oF:sF});function cF(t){let e=n=>t.find(i=>i===n)[uo].name;return t.reduce((n,r)=>{let{name:i,children:o}=r[uo];return n[i]=(o||[]).map(e),n},{})}function uF(t){return t.reduce((e,n)=>{let r=n[uo];return e[r.name]=n,e},{})}function lF(t,e={}){let n=(r,i)=>{for(let o in r)if(r.hasOwnProperty(o)&&r[o].indexOf(i)>=0){let s=n(r,o);return s!==null?`${s}.${o}`:o}return null};for(let r in t)if(t.hasOwnProperty(r)){let i=n(t,r);e[r]=i?`${i}.${r}`:r}return e}function fF(t){let e=[],n={},r=(i,o=[])=>{Array.isArray(o)||(o=[]),o.push(i),n[i]=!0,t[i].forEach(s=>{n[s]||r(s,o.slice(0))}),e.indexOf(i)<0&&e.push(i)};return Object.keys(t).forEach(i=>r(i)),e.reverse()}var dF=(()=>{class t{constructor(){this._actionTypeToHandlersMap=new Map}ngOnDestroy(){this._actionTypeToHandlersMap.clear()}get(n){return this._actionTypeToHandlersMap.get(n)}register(n,r){let i=this._actionTypeToHandlersMap.get(n)??new Set;return i.add(r),this._actionTypeToHandlersMap.set(n,i),()=>{this._actionTypeToHandlersMap.get(n).delete(r)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pse=new RegExp("^[a-zA-Z0-9_]+$");var hF=(()=>{class t{constructor(){this._ngZone=Se(yn),this._errorHandler=Se(Mi)}handleError(n,r){this._ngZone.runOutsideAngular(()=>this._errorHandler.handleError(n))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pF(t){return e=>{let n=ke({},e);for(let r in t)n[r]=t[r];return n}}var GT=(()=>{class t{constructor(){this._internalStateOperations=Se(fm)}createStateContext(n){let r=this._internalStateOperations.getRootStateOperations();return{getState(){let i=r.getState();return QT(i,n)},patchState(i){let o=r.getState(),s=pF(i);NT(r,o,s,n)},setState(i){let o=r.getState();CT(i)?NT(r,o,i,n):KT(r,o,i,n)},dispatch(i){return r.dispatch(i)}}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KT(t,e,n,r){let i=of(e,r,n);return t.setState(i),i}function NT(t,e,n,r){let i=QT(e,r),o=n(i);return KT(t,e,o,r)}function QT(t,e){return Ea(t,e)}function mF(...t){return yF(t,["DISPATCHED"])}function yF(t,e,n=vF){let r=bF(t),i=e&&_F(e);return function(o){return o.pipe(gF(r,i),n())}}function gF(t,e){return Jn(n=>{let r=Cs(n.action),i=t[r],o=e?e[n.status]:!0;return i&&o})}function vF(){return Nt(t=>t.action)}function bF(t){return t.reduce((e,n)=>(e[Cs(n)]=!0,e),{})}function _F(t){return t.reduce((e,n)=>(e[n]=!0,e),{})}function wF(t){let e=t===void 0?{}:t;return t&&(Array.isArray(t)?e=t.slice():typeof t=="object"&&(e=ke({},t))),e}var YT=(()=>{class t{constructor(){this._injector=Se(cr),this._config=Se(sf),this._stateContextFactory=Se(GT),this._actions=Se(BT),this._actionResults=Se(UT),this._initialState=Se(L1,{optional:!0}),this._actionRegistry=Se(dF),this._propGetter=Se(aF),this._actionsSubscription=null,this._ngxsUnhandledErrorHandler=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=sm(()=>{let n=this,r=n._propGetter;function i(s){let a=n._statePaths[s];return a?r(a.split(".")):null}return{getStateGetter(s){let a=i(s);return a||((...c)=>(a||(a=i(s)),a?a(...c):void 0))},getSelectorOptions(s){let a=n._config.selectorOptions;return ke(ke({},a),s||{})}}})}ngOnDestroy(){this._actionsSubscription?.unsubscribe()}add(n){let{newStates:r}=this.addToStatesMap(n);if(!r.length)return[];let i=cF(r),o=fF(i),s=lF(i),a=uF(r),c=[];for(let f of o){let y=a[f],m=s[f],u=y[uo];this.addRuntimeInfoToMeta(u,m);let l={name:f,path:m,isInitialised:!1,actions:u.actions,instance:Se(y),defaults:wF(u.defaults)};this.hasBeenMountedAndBootstrapped(f,m)||c.push(l),this._states.push(l),this.hydrateActionMetasMap(l)}return c}addAndReturnDefaults(n){let r=n||[],i=this.add(r);return{defaults:i.reduce((s,a)=>of(s,a.path,a.defaults),{}),states:i}}connectActionHandlers(){this._actionsSubscription=this._actions.pipe(Jn(n=>n.status==="DISPATCHED"),Ln(n=>{let r=n.action;return this.invokeActions(r).pipe(Nt(()=>({action:r,status:"SUCCESSFUL"})),pi({action:r,status:"CANCELED"}),qr(i=>{let o=this._ngxsUnhandledErrorHandler||=this._injector.get(hF),s=Z7(i,()=>o.handleError(i,{action:r}));return Dt({action:r,status:"ERRORED",error:s})}))})).subscribe(n=>this._actionResults.next(n))}invokeActions(n){let r=Cs(n),i=[],o=!1,s=this._actionRegistry.get(r);if(s)for(let a of s){let c;try{c=a(n)}catch(f){c=Ui(()=>f)}i.push(c),o=!0}return i.length||i.push(Dt(void 0)),ka(i)}addToStatesMap(n){let r=[],i=this._statesByName;for(let o of n){let s=rf(o).name;!i[s]&&(r.push(o),i[s]=o)}return{newStates:r}}addRuntimeInfoToMeta(n,r){this._statePaths[n.name]=r,n.path=r}hasBeenMountedAndBootstrapped(n,r){let i=Ea(this._initialState,r)!==void 0;return this._statesByName[n]&&i}hydrateActionMetasMap({path:n,actions:r,instance:i}){let{dispatched$:o}=this._actions;for(let s of Object.keys(r)){let a=r[s].map(c=>{let f=!!c.options.cancelUncompleted;return y=>{let m=this._stateContextFactory.createStateContext(n),u=i[c.fn](m,y);if(Ji(u)&&(u=On(u)),Ma(u)){if(u=u.pipe(Ln(l=>Ji(l)?On(l):Ma(l)?l:Dt(l)),pi(void 0)),f){let l=o.pipe(mF(y));u=u.pipe(vo(l))}u=u.pipe(qi(()=>{m.setState=PT,m.patchState=PT}))}else u=Dt(void 0);return u}});for(let c of a)this._actionRegistry.register(s,c)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PT(){}var fr=(()=>{class t{constructor(){this._stateStream=Se(am),this._internalStateOperations=Se(fm),this._config=Se(sf),this._internalExecutionStrategy=Se($T),this._stateFactory=Se(YT),this._selectableStateStream=this._stateStream.pipe(lm(this._internalExecutionStrategy),Wo({bufferSize:1,refCount:!0})),this.initStateStream()}dispatch(n){return this._internalStateOperations.getRootStateOperations().dispatch(n)}select(n){let r=this.getStoreBoundSelectorFn(n);return this._selectableStateStream.pipe(Nt(r),qr(i=>this._config.selectorOptions.suppressErrors&&i instanceof TypeError?Dt(void 0):Ui(i)),ry(),lm(this._internalExecutionStrategy))}selectOnce(n){return this.select(n).pipe(Hr(1))}selectSnapshot(n){return this.getStoreBoundSelectorFn(n)(this._stateStream.getValue())}selectSignal(n){let r=this.getStoreBoundSelectorFn(n);return Io(()=>r(this._stateStream.state()))}subscribe(n){return this._selectableStateStream.pipe(lm(this._internalExecutionStrategy)).subscribe(n)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(n){this._internalStateOperations.getRootStateOperations().setState(n)}getStoreBoundSelectorFn(n){let r=WT(n),i=this._stateFactory.getRuntimeSelectorContext();return r(i)}initStateStream(){let n=Se(L1),r=this._stateStream.value;(!r||Object.keys(r).length===0)&&this._stateStream.next(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SF=new rt("");var EF=(()=>{class t{static{this.store=null}static{this.config=null}constructor(n,r){t.store=n,t.config=r}ngOnDestroy(){t.store=null,t.config=null}static{this.\u0275fac=function(r){return new(r||t)(bt(fr),bt(sf))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IF=(()=>{class t{constructor(){this._store=Se(fr),this._internalStateOperations=Se(fm),this._stateContextFactory=Se(GT),this._appBootstrappedState=Se($1),this._destroy$=new po(1)}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(n,r){this._internalStateOperations.getRootStateOperations().dispatch(n).pipe(Jn(()=>!!r),Hn(()=>this._invokeInitOnStates(r.states)),Ln(()=>this._appBootstrappedState),Jn(i=>!!i),vo(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(r.states))}_invokeInitOnStates(n){for(let r of n){let i=r.instance;i.ngxsOnChanges&&this._store.select(o=>Ea(o,r.path)).pipe(Bs(void 0),oy(),vo(this._destroy$)).subscribe(([o,s])=>{let a=new U1(o,s,!r.isInitialised);i.ngxsOnChanges(a)}),i.ngxsOnInit&&i.ngxsOnInit(this._getStateContext(r)),r.isInitialised=!0}}_invokeBootstrapOnStates(n){for(let r of n){let i=r.instance;i.ngxsAfterBootstrap&&i.ngxsAfterBootstrap(this._getStateContext(r))}}_getStateContext(n){return this._stateContextFactory.createStateContext(n.path)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function OF(){Y7(),(Se(SF,{optional:!0})||[]).forEach(s=>s());let e=Se(YT),n=Se(fm);Se(fr),Se(EF);let r=Se(HT,{optional:!0})||[],i=Se(IF),o=e.addAndReturnDefaults(r);n.setStateToTheCurrentWithNew(o),e.connectActionHandlers(),i.ngxsBootstrap(new cm,o)}var kT=new rt(""),mse=new rt(""),DF=[{provide:kT,useFactory:OF},{provide:Wi,multi:!0,useFactory(){return()=>Se(kT)}}];function AF(t,e){return[...t,{provide:HT,useValue:t},{provide:Xs,useFactory:()=>{let n=Se($1);return()=>n.bootstrap()},multi:!0},{provide:zT,useValue:e},{provide:LT,useValue:e.executionStrategy}]}function lo(t,e){return(n,r,i)=>{let o=R1(n.constructor),s=Array.isArray(t)?t:[t];for(let a of s){let c=a.type;o.actions[c]||(o.actions[c]=[]),o.actions[c].push({fn:r,options:e||{},type:c})}}}function Ms(t){return e=>{let n=e,r=R1(n),i=Object.getPrototypeOf(n),o=TF(i,t);xF({meta:r,inheritedStateClass:i,optionsWithInheritance:o}),n[su]=o}}function TF(t,e){let n=t[su]||{};return ke(ke({},n),e)}function xF(t){let{meta:e,inheritedStateClass:n,optionsWithInheritance:r}=t,{children:i,defaults:o,name:s}=r,a=typeof s=="string"?s:s&&s.getName()||null;if(n.hasOwnProperty(uo)){let c=n[uo]||{};e.actions=ke(ke({},e.actions),c.actions)}e.children=i,e.defaults=o,e.name=a}var RT="NGXS_SELECTOR_OPTIONS_META",jT={getOptions:t=>t&&t[RT]||{},defineOptions:(t,e)=>{t&&(t[RT]=e)}};function CF(t,e){let n=j1(t);n.originalFn=t;let r=()=>({});e&&(n.containerClass=e.containerClass,n.selectorName=e.selectorName||null,r=e.getSelectorOptions||r);let i=ke({},n);return n.getSelectorOptions=()=>MF(i,r()),n}function MF(t,e){return ke(ke(ke(ke({},jT.getOptions(t.containerClass)||{}),jT.getOptions(t.originalFn)||{}),t.getSelectorOptions()||{}),e)}function NF(t,e,n){let r=nF(e,n),i=CF(e,n);return i.makeRootSelector=tF(i,t,r),r}function dm(t){return(e,n,r)=>{r||=Object.getOwnPropertyDescriptor(e,n);let i=r?.value,o=NF(t,i,{containerClass:e,selectorName:n.toString(),getSelectorOptions(){return{}}});return{configurable:!0,get(){return o},originalFn:i}}}function JT(t=[],...e){let n=[],r={};return e.length>0&&(PF(e[0])?n.push(...e):(r=e[0],n.push(...e.slice(1)))),ri([...AF(t,r),DF,n])}function PF(t){return!!t.\u0275providers}function hm(t){return ri([TT(t)?{provide:um,useClass:t,multi:!0}:{provide:um,useValue:t,multi:!0},{provide:Wi,useValue:()=>Se(VT),multi:!0}])}var Ei=class{constructor(e){this.payload=e}static type="[Home/Register/Login] SetAuthorization"};var Ii=class{constructor(e){this.payload=e}static type="[Home/Register/Login] SetProfile"};var pm=class t{clicked=!1;store=Se(fr);graphql=Se(co);router=Se(tr);firebase=Se(nu);onSuccessSignUpWithGoogle(e){var n=e.uid,r={dto:{oauthReference:n}};this.graphql.mutate({mutation:rm,variables:r}).subscribe(i=>{var o=i.data;this.next(e,o)})}next(e,n){var r=e.photoURL,i=e.displayName,o=n.register.authorization,[s,a]=i.split(" "),c=n.register._id,f={dto:{profileImage:r,surname:a,firstName:s,usersRef:c}};if(n.register.existed){var y={profileImage:r,firstName:s,surname:a,usersRef:c};this.store.dispatch(new Ei(o)),this.store.dispatch(new Ii(y)),this.router.navigate([""])}else this.graphql.mutate({mutation:im,variables:f}).subscribe(m=>{var u=m.data?.createProfile;this.store.dispatch(new Ei(o)),this.store.dispatch(new Ii(u)),this.router.navigate([""])})}loginWithGoogle(){return Me(this,null,function*(){this.clicked=!0;try{var e=tf(),n=new Xl,r=yield ef(e,n);this.onSuccessSignUpWithGoogle(r.user.providerData[0])}catch(i){console.error(i)}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"fullscreen","flex","flex-col","gap-3","justify-center","items-center","bg-blue-400","flex","flex-col","gap-3"],[1,"text-4xl","text-white",2,"font-family","'Dancing script',serif"],[1,"bg-white","flex","flex-col","gap-3","rounded","px-10","py-8","w-3/5","sm:w-2/5","lg:w-1/3"],[1,"flex","flex-col","gap-1"],[1,"font-bold","text-xl"],[1,"text-slate-500","text-sm"],[1,"underline","text-blue-900"],[1,"flex","flex-col","gap-2"],["for","defaultInput",1,"font-bold","text-gray-600","label","label-text"],["type","text","placeholder","your email address","id","defaultInput",1,"input"],[1,"p-3","mt-3","rounded","bg-purple-500","text-white","font-bold"],[1,"mt-3","flex","flex-row","gap-3"],[1,"btn","btn-outline","flex-1","text-red-900","hover:border-[#1877F2]","hover:bg-[#1877F2]/10",3,"click","disabled"],[1,"icon-[tabler--brand-google]"]],template:function(n,r){n&1&&(Pt(0,"div",0)(1,"span",1),Kn(2," Messenger... "),Xt(),Pt(3,"div",2)(4,"div",3)(5,"span",4),Kn(6,"Login"),Xt(),Pt(7,"span",5),Kn(8,"Doesn't have an account yet? "),Pt(9,"span")(10,"a",6),Kn(11,"Sign up"),Xt()()()(),Pt(12,"div",7)(13,"div")(14,"label",8),Kn(15," Email "),Xt(),Wn(16,"input",9),Xt()(),Pt(17,"button",10),Kn(18,"Login"),Xt(),Pt(19,"div",11)(20,"button",12),br("click",function(){return r.loginWithGoogle()}),Wn(21,"span",13),Kn(22," Google "),Xt()()()()),n&2&&(zn(20),gr("disabled",r.clicked))},encapsulation:2})};var mm=class t{router=Se(tr);ngOnInit(){this.router.navigate(["messages"])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){n&1&&(Pt(0,"p"),Kn(1,"home works!"),Xt())},encapsulation:2})};var kF=(t,e)=>({_:t,groupId:e});function RF(t,e){if(t&1){let n=KE();Pt(0,"div",2)(1,"button",3),br("click",function(){fS(n);let i=as();return dS(i.router.navigate(["search"]))}),Kn(2," Write new message! "),Xt()()}}function jF(t,e){t&1&&(Pt(0,"span"),Yi(),Pt(1,"svg",18),Wn(2,"path",19),Xt()())}function FF(t,e){t&1&&(Pt(0,"span",20),Yi(),Pt(1,"svg",18),Wn(2,"path",19),Xt()())}function LF(t,e){t&1&&(Pt(0,"span",20),Yi(),Pt(1,"svg",18),Wn(2,"path",19),Xt()())}function $F(t,e){if(t&1&&(Pt(0,"a",10)(1,"div",11),Wn(2,"img",12),Pt(3,"div",13)(4,"span",14),Kn(5),Xt(),Pt(6,"span",15),Kn(7),ac(8,jF,3,0,"span",16)(9,FF,3,0,"span",17)(10,LF,3,0,"span",17),Xt()()()()),t&2){let n=e.$implicit,r=as(2);$u("routerLink","/messages/",n.profile.usersRef,""),gr("state",XE(10,kF,n.profile,n.groupId)),zn(2),gr("src",n.profile.profileImage,Js),zn(3),ea("",n.profile.firstName," ",n.profile.surname,""),zn(2),dc(" ",n.lastMessage==null?null:n.lastMessage.value," "),zn(),gr("ngIf",(n.lastMessage==null?null:n.lastMessage.sender)===r.profile.usersRef&&!(n.lastMessage!=null&&n.lastMessage.send)),zn(),gr("ngIf",(n.lastMessage==null?null:n.lastMessage.sender)===r.profile.usersRef&&(n.lastMessage==null?null:n.lastMessage.send)),zn(),gr("ngIf",(n.lastMessage==null?null:n.lastMessage.sender)===r.profile.usersRef&&(n.lastMessage==null?null:n.lastMessage.read))}}function BF(t,e){if(t&1&&(Pt(0,"div",4)(1,"form",5),Yi(),Pt(2,"svg",6),Wn(3,"path",7),Xt(),Qs(),Wn(4,"input",8),Xt(),Pt(5,"div",9),lc(6,$F,11,13,"a",10,uc),Xt()()),t&2){let n=as();zn(6),fc(n.history())}}var au=class t{store=Se(fr);router=Se(tr);profile=this.store.selectSnapshot(e=>e.profile);history=this.store.selectSignal(e=>e.history);select(e){var[n]=this.history().filter(r=>r.profile.usersRef=e);return n.profile}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-history"]],decls:2,vars:2,consts:[["class","h-full border-2 border-blue-900 flex flex justify-center items-center",4,"ngIf"],["class","min-h-full max-h-fit border-2 border-blue-900 flex flex-col relative",4,"ngIf"],[1,"h-full","border-2","border-blue-900","flex","flex","justify-center","items-center"],[1,"bg-blue-500","rounded-full","p-5","text-white",3,"click"],[1,"min-h-full","max-h-fit","border-2","border-blue-900","flex","flex-col","relative"],[1,"relative","flex","flex-col","justify-center","bg-black","p-3","sticky","top-0"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","absolute","text-white","right-7"],["stroke-linecap","round","stroke-linejoin","round","d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"],["type","text","placeholder","who are you looking for?",1,"p-3","rounded-full","border-2","border-white","w-full","px-5","text-white"],[1,"flex","flex-col","gap-6","p-3","px-4"],[3,"routerLink","state"],[1,"border-2","border-white","rounded","p-3","flex","flex-row","gap-3","items-center"],[1,"h-[64px]","rounded-full",3,"src"],[1,"flex","flex-col","gap-2"],[1,"text-white"],[1,"text-white","flex","flex-row","gap-1"],[4,"ngIf"],["class","text-blue-900",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"],[1,"text-blue-900"]],template:function(n,r){n&1&&ac(0,RF,3,0,"div",0)(1,BF,8,0,"div",1),n&2&&(gr("ngIf",r.history().length<1),zn(),gr("ngIf",r.history().length>0))},dependencies:[ra,pI,Np],encapsulation:2})};var ym=class t{store=Se(fr);router=Se(tr);profile=this.store.selectSnapshot(e=>e.profile);history=this.store.selectSignal(e=>e.history);logout(){this.store.dispatch(new Ei(null)),this.store.dispatch(new Ii(null)),this.router.navigate([""])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-messages"]],decls:5,vars:0,consts:[[1,"flex","flex-row","fullscreen","bg-black","relative"],[1,"border-4","border-red-900","flex-1","overflow-y-scroll","h-screen","sticky","top-0"],[1,"border-4","border-green-900","flex-1","p-3","flex","flex-col","justify-center","items-center"],[1,"text-2xl"]],template:function(n,r){n&1&&(Pt(0,"div",0),Wn(1,"app-history",1),Pt(2,"div",2)(3,"span",3),Kn(4,"Choose a conversation!"),Xt()()())},dependencies:[ra,au],encapsulation:2})};var gm=class t{clicked=!1;store=Se(fr);router=Se(tr);graphql=Se(co);firebase=Se(nu);onSuccessSignUpWithGoogle(e){var n=e.uid,r={dto:{oauthReference:n}};this.graphql.mutate({mutation:rm,variables:r}).subscribe(i=>{var o=i.data;this.login(e,o)})}login(e,n){var r=e.photoURL,i=e.displayName,o=n.register.authorization,[s,a]=i.split(" "),c=n.register._id,f={dto:{profileImage:r,surname:a,firstName:s,usersRef:c}};if(n.register.existed){var y={profileImage:r,firstName:s,surname:a,usersRef:c};this.store.dispatch(new Ei(o)),this.store.dispatch(new Ii(y)),this.router.navigate([""])}else this.graphql.mutate({mutation:im,variables:f}).subscribe(m=>{var u=m.data?.createProfile;this.store.dispatch(new Ei(o)),this.store.dispatch(new Ii(u)),this.router.navigate([""])})}test(){}signUpWithGoogle(){return Me(this,null,function*(){this.clicked=!0;try{var e=tf(),n=new Xl,r=yield ef(e,n);this.onSuccessSignUpWithGoogle(r.user.providerData[0])}catch(i){console.error(i)}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-register"]],decls:4,vars:1,consts:[[1,"fullscreen","bg-blue-400","flex","flex","col","justify-center","items-center"],[1,"bg-white","p-3","rounded"],[1,"p-3","rounded","bg-black","text-white",3,"click","disabled"]],template:function(n,r){n&1&&(Pt(0,"div",0)(1,"div",1)(2,"button",2),br("click",function(){return r.signUpWithGoogle()}),Kn(3," test "),Xt()()()),n&2&&(zn(2),gr("disabled",r.clicked))},encapsulation:2})};var af=(t,e)=>{var n=Se(tr),r=Se(fr),i=e.url==="/login",o=r.selectSnapshot(s=>!!s.authorization);return!o&&!i&&n.navigate(["login"]),o&&i&&n.navigate([""]),o?!i:!!i};var ZT=ga`
  query($username:String!){
    search(username:$username){
      profile{
        profileImage
        surname
        firstName
        usersRef
      }
    }
  }
`,H1=ga`
  query($_id:String!){
    getMessages(_id:$_id){
      _id
      sender
      receiver
      groupId
      value
      sendAt
      read
      contentType
      description
    }
  }
`;var VF=t=>({_:t,groupId:""});function UF(t,e){if(t&1&&(Pt(0,"div",6)(1,"a",7),Wn(2,"img",8),Xt(),Pt(3,"a",9)(4,"span"),Kn(5),Xt()()()),t&2){let n=e.$implicit;zn(2),gr("src",n.profileImage,Js),zn(),$u("routerLink","/messages/",n.usersRef,""),gr("state",ZE(6,VF,n)),zn(2),ea("",n.firstName," ",n.surname,"")}}var vm=class t{result=[];graphql=Se(co);onSearchKeywordChange(e){var n=e.value;n.length>0&&this.search(n)}test(){alert("ok")}search(e){var n={username:e};this.graphql.query({query:ZT,variables:n}).subscribe(r=>{this.result=r.data.search.map(i=>i.profile)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-search"]],decls:9,vars:0,consts:[[1,"fullscreen","border-2","border-red-900","flex","flex-col","p-3"],[1,"p-3","relative","flex","flex-col","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","absolute","left-6"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],["name","param","type","text","placeholder","who are you looking for?",1,"border-2","border-black","p-3","rounded","w-full","px-11",3,"input"],[1,"flex","flex-col","gap-3","p-3"],[1,"border-4","border-black-900","p-3","flex","flex-row","items-center","gap-3"],["routerLink","/profile"],[1,"rounded-full","h-[64px]",3,"src"],[3,"routerLink","state"]],template:function(n,r){n&1&&(Pt(0,"div",0)(1,"form",1),Yi(),Pt(2,"svg",2),Wn(3,"path",3),Xt(),Qs(),Pt(4,"input",4),br("input",function(o){return r.onSearchKeywordChange(o.target)}),Xt()(),Pt(5,"div")(6,"div",5),lc(7,UF,6,8,"div",6,uc),Xt()()()),n&2&&(zn(7),fc(r.result))},dependencies:[XD,Np],encapsulation:2})};var X1=Hx(XT());var cu=class{constructor(e){this.payload=e}static type="[Message] AddHistory"},uu=class{constructor(e){this.payload=e}static type="[Message] ReplaceHistory"},bm=class{constructor(e){this.payload=e}static type="[Message] EditHistory"};var ax=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Pn(Zs),Pn(rs))};static \u0275dir=Gr({type:t})}return t})(),qF=(()=>{class t extends ax{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ys(t)))(i||t)}})();static \u0275dir=Gr({type:t,features:[os]})}return t})(),cx=new rt("");var HF={provide:cx,useExisting:nc(()=>Am),multi:!0};function zF(){let t=Do()?Do().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var WF=new rt(""),Am=(()=>{class t extends ax{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!zF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Pn(Zs),Pn(rs),Pn(WF,8))};static \u0275dir=Gr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&br("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[rh([HF]),os]})}return t})();var ux=new rt(""),lx=new rt("");function fx(t){return t!=null}function dx(t){return Ji(t)?On(t):t}function hx(t){let e={};return t.forEach(n=>{e=n!=null?ke(ke({},e),n):e}),Object.keys(e).length===0?null:e}function px(t,e){return e.map(n=>n(t))}function GF(t){return!t.validate}function mx(t){return t.map(e=>GF(e)?e:n=>e.validate(n))}function KF(t){if(!t)return null;let e=t.filter(fx);return e.length==0?null:function(n){return hx(px(n,e))}}function G1(t){return t!=null?KF(mx(t)):null}function QF(t){if(!t)return null;let e=t.filter(fx);return e.length==0?null:function(n){let r=px(n,e).map(dx);return ka(r).pipe(Nt(hx))}}function K1(t){return t!=null?QF(mx(t)):null}function ex(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YF(t){return t._rawValidators}function JF(t){return t._rawAsyncValidators}function W1(t){return t?Array.isArray(t)?t:[t]:[]}function wm(t,e){return Array.isArray(t)?t.includes(e):t===e}function tx(t,e){let n=W1(e);return W1(t).forEach(i=>{wm(n,i)||n.push(i)}),n}function nx(t,e){return W1(e).filter(n=>!wm(t,n))}var Sm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=G1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},du=class extends Sm{name;get formDirective(){return null}get path(){return null}},pf=class extends Sm{_parent=null;name=null;valueAccessor=null},Em=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ZF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qae=Mt(ke({},ZF),{"[class.ng-submitted]":"isSubmitted"}),yx=(()=>{class t extends Em{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Pn(pf,2))};static \u0275dir=Gr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&nh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[os]})}return t})(),gx=(()=>{class t extends Em{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Pn(du,10))};static \u0275dir=Gr({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&nh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[os]})}return t})();var uf="VALID",_m="INVALID",lu="PENDING",lf="DISABLED",hu=class{},Im=class extends hu{value;source;constructor(e,n){super(),this.value=e,this.source=n}},df=class extends hu{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},hf=class extends hu{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},fu=class extends hu{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function vx(t){return(Tm(t)?t.validators:t)||null}function XF(t){return Array.isArray(t)?G1(t):t||null}function bx(t,e){return(Tm(e)?e.asyncValidators:t)||null}function eL(t){return Array.isArray(t)?K1(t):t||null}function Tm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new St(1e3,"");if(!r[n])throw new St(1001,"")}function nL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new St(1002,"")})}var Om=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vi(this.statusReactive)}set status(e){vi(()=>this.statusReactive.set(e))}_status=Io(()=>this.statusReactive());statusReactive=is(void 0);get valid(){return this.status===uf}get invalid(){return this.status===_m}get pending(){return this.status==lu}get disabled(){return this.status===lf}get enabled(){return this.status!==lf}errors;get pristine(){return vi(this.pristineReactive)}set pristine(e){vi(()=>this.pristineReactive.set(e))}_pristine=Io(()=>this.pristineReactive());pristineReactive=is(!0);get dirty(){return!this.pristine}get touched(){return vi(this.touchedReactive)}set touched(e){vi(()=>this.touchedReactive.set(e))}_touched=Io(()=>this.touchedReactive());touchedReactive=is(!1);get untouched(){return!this.touched}_events=new jn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nx(e,this._rawAsyncValidators))}hasValidator(e){return wm(this._rawValidators,e)}hasAsyncValidator(e){return wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Mt(ke({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hf(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new hf(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Mt(ke({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new df(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new df(!0,r))}markAsPending(e={}){this.status=lu;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fu(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Mt(ke({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lf,this.errors=null,this._forEachChild(i=>{i.disable(Mt(ke({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Im(this.value,r)),this._events.next(new fu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Mt(ke({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uf,this._forEachChild(r=>{r.enable(Mt(ke({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Mt(ke({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uf||this.status===lu)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Im(this.value,n)),this._events.next(new fu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Mt(ke({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lf:uf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=lu,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=dx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fu(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new pr,this.statusChanges=new pr}_calculateStatus(){return this._allControlsDisabled()?lf:this.errors?_m:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lu)?lu:this._anyControlsHaveStatus(_m)?_m:uf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new df(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new hf(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eL(this._rawAsyncValidators)}},Dm=class extends Om{constructor(e,n,r){super(vx(n),bx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nL(this,!0,e),Object.keys(e).forEach(r=>{tL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q1=new rt("CallSetDisabledState",{providedIn:"root",factory:()=>Y1}),Y1="always";function rL(t,e){return[...e.path,t]}function _x(t,e,n=Y1){wx(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oL(t,e),aL(t,e),sL(t,e),iL(t,e)}function rx(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function wx(t,e){let n=YF(t);e.validator!==null?t.setValidators(ex(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JF(t);e.asyncValidator!==null?t.setAsyncValidators(ex(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();rx(e._rawValidators,i),rx(e._rawAsyncValidators,i)}function oL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Sx(t,e)})}function sL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Sx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Sx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cL(t,e){t==null,wx(t,e)}function uL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lL(t){return Object.getPrototypeOf(t.constructor)===qF}function fL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Am?n=o:lL(o)?r=o:i=o}),i||r||n||null}var hL={provide:du,useExisting:nc(()=>J1)},ff=Promise.resolve(),J1=(()=>{class t extends du{callSetDisabledState;get submitted(){return vi(this.submittedReactive)}_submitted=Io(()=>this.submittedReactive());submittedReactive=is(!1);_directives=new Set;form;ngSubmit=new pr;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Dm({},G1(n),K1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ff.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),_x(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ff.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ff.then(()=>{let r=this._findContainer(n.path),i=new Dm({});cL(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ff.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ff.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),fL(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Pn(ux,10),Pn(lx,10),Pn(Q1,8))};static \u0275dir=Gr({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&br("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[rh([hL]),os]})}return t})();function ix(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ox(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pL=class extends Om{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(vx(n),bx(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ox(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ix(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ix(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ox(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mL={provide:pf,useExisting:nc(()=>Z1)},sx=Promise.resolve(),Z1=(()=>{class t extends pf{_changeDetectorRef;callSetDisabledState;control=new pL;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pr;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dL(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uL(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_x(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){sx.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&na(r);sx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?rL(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Pn(du,9),Pn(ux,10),Pn(lx,10),Pn(cx,10),Pn(ta,8),Pn(Q1,8))};static \u0275dir=Gr({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[rh([mL]),os,ic]})}return t})(),Ex=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Gr({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var yL=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=ni({})}return t})();var Ix=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Q1,useValue:n.callSetDisabledState??Y1}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ii({type:t});static \u0275inj=ni({imports:[yL]})}return t})();function vL(t,e){if(t&1&&(Pt(0,"div",14)(1,"span",16),Kn(2),Xt()()),t&2){let n=as().$implicit;zn(2),dc(" ",n.value," ")}}function bL(t,e){if(t&1&&(Pt(0,"div",15)(1,"span",16),Kn(2),Xt()()),t&2){let n=as().$implicit;zn(2),dc(" ",n.value," ")}}function _L(t,e){if(t&1&&ac(0,vL,3,1,"div",14)(1,bL,3,1,"div",15),t&2){let n=e.$implicit,r=as();GE(n.sender===r.profile2.usersRef?0:1)}}var xm=class t{message="";store=Se(fr);location=Se(cs);graphql=Se(co);route=Se(no);routeId=this.route.snapshot.params._id;profile2=window.history.state._;groupId=window.history.state.groupId;url=void 0;fetchPolicy="cache-only";profile1=this.store.selectSnapshot(e=>e.profile);history=this.store.selectSignal(e=>e.history);send(){var e=this.groupId,n=this.message,r=this.profile1.usersRef,i=this.profile2.usersRef,o=new X1.Types.ObjectId().toString(),[s]=this.history().filter(c=>c._id===this.profile2.usersRef);this.store.dispatch(new uu({f:this.profile2.usersRef,m:{_id:o,sender:r,contentType:"text",value:n,read:!1,send:!1,sendAt:Date.now()}}));var a={dto:{_id:o,groupId:e,value:n,sender:r,receiver:i,read:!1,contentType:"text",description:"empty",sendAt:Date.now()}};this.graphql.mutate({mutation:DT,variables:a}).subscribe({next:c=>this.onSuccessSendMessage(c.data),error:c=>console.log(c.message)})}onSuccessSendMessage(e){e=e}setHistoryAndGroupId(){var[e]=this.history().filter(i=>i._id===this.profile2.usersRef);if(e&&(this.groupId=e.groupId),!e){var n=new X1.Types.ObjectId,r=n.toString();this.store.dispatch(new cu({_id:this.profile2.usersRef,groupId:r,profile:this.profile2,lastMessage:null})),this.groupId=r}}isCached(){var e=this.graphql.client.readQuery({query:H1,variables:{_id:this.routeId}});return this.fetchPolicy=e?"cache-only":"network-only",e?.getMessages}fetch(e){var n={$_id:e};this.graphql.query({query:H1,fetchPolicy:this.fetchPolicy,variables:n}).subscribe(r=>{console.log(r)})}ngOnInit(){this.url=this.route.url.subscribe(e=>{this.route.snapshot.params._id!==this.routeId?(this.routeId=this.route.snapshot.params._id,this.groupId=window.history.state.groupId,this.profile2=window.history.state._,this.isCached(),this.fetch(this.routeId),this.setHistoryAndGroupId()):(this.isCached(),this.fetch(this.routeId),this.setHistoryAndGroupId())})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["ng-component"]],decls:18,vars:4,consts:[[1,"flex","flex-row","fullscreen","bg-black"],[1,"border-4","border-red-900","flex-1","overflow-y-scroll","h-screen","sticky","top-0"],[1,"flex","flex-col","flex-1","border-2","border-green-900","relative"],[1,"flex","flex-row","items-center","p-6","gap-3","sticky","bg-black","top-0"],[1,"text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"h-[64px]","rounded-full",3,"src"],[1,"text-white","font-bold"],[1,"flex-1","flex","flex-col","p-3","gap-6"],[1,"sticky","bottom-0","w-full","flex","flex-row","items-center","bg-black"],[1,"absolute","right-5","text-white",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"],["name","message","type","text","placeholder","new message",1,"w-full","border-2","border-white","text-white","p-3","rounded",3,"ngModelChange","ngModel"],[1,"p-3","rounded","bg-gray-500","w-3/5"],[1,"ml-auto","p-3","rounded","bg-blue-500","w-3/5"],[1,"text-white"]],template:function(n,r){n&1&&(Pt(0,"div",0),Wn(1,"app-history",1),Pt(2,"div",2)(3,"div",3)(4,"button",4),br("click",function(){return r.location.back()}),Yi(),Pt(5,"svg",5),Wn(6,"path",6),Xt()(),Qs(),Wn(7,"img",7),Pt(8,"span",8),Kn(9),Xt()(),Pt(10,"div",9),lc(11,_L,2,1,null,null,uc),Xt(),Pt(13,"form",10)(14,"button",11),br("click",function(){return r.send()}),Yi(),Pt(15,"svg",5),Wn(16,"path",12),Xt()(),Qs(),Pt(17,"input",13),tv("ngModelChange",function(o){return YE(r.message,o)||(r.message=o),o}),Xt()()()()),n&2&&(zn(7),gr("src",r.profile2.profileImage,Js),zn(2),ea(" ",r.profile2.firstName," ",r.profile2.surname," "),zn(2),fc(r.isCached()),zn(6),ev("ngModel",r.message))},dependencies:[ra,au,Ix,Ex,Am,yx,gx,Z1,J1],encapsulation:2})};var Ox=[{path:"",component:mm,canActivate:[af]},{path:"messages",component:ym,canActivate:[af]},{path:"messages/:_id",component:xm,canActivate:[af]},{path:"login",component:pm,canActivate:[af]},{path:"register",component:gm},{path:"search",component:vm}];var e_=class{constructor(e){this.options=e,this.options=this.options||{},this.logger=e.logger||console}startGroup(e){let n=this.options.collapsed?this.logger.groupCollapsed:this.logger.group;try{n.call(this.logger,e)}catch{console.log(e)}}endGroup(){try{this.logger.groupEnd()}catch{this.logger.log("\u2014\u2014 log end \u2014\u2014")}}logGrey(e,n){this.log(e,"color: #9E9E9E; font-weight: bold",n)}logGreen(e,n){this.log(e,"color: #4CAF50; font-weight: bold",n)}logRedish(e,n){this.log(e,"color: #FD8182; font-weight: bold",n)}log(e,n,r){this.logger.log("%c "+e,n,r)}},wL=(t,e)=>new Array(e+1).join(t),Cm=(t,e)=>wL("0",e-t.toString().length)+t;function SL(t){return Cm(t.getHours(),2)+":"+Cm(t.getMinutes(),2)+":"+Cm(t.getSeconds(),2)+"."+Cm(t.getMilliseconds(),3)}var t_=class{constructor(e,n,r){this.action=e,this.store=n,this.logWriter=r}dispatched(e){let n=Cs(this.action),r=SL(new Date),i=`action ${n} @ ${r}`;this.logWriter.startGroup(i),this._hasPayload(this.action)&&this.logWriter.logGrey("payload",ke({},this.action)),this.logWriter.logGrey("prev state",e)}completed(e){this.logWriter.logGreen("next state",e),this.logWriter.endGroup()}errored(e){this.logWriter.logRedish("next state after error",this.store.snapshot()),this.logWriter.logRedish("error",e),this.logWriter.endGroup()}_hasPayload(e){return this._getNonEmptyProperties(e).length>0}_getNonEmptyProperties(e){return Object.keys(e).map(i=>e[i]).filter(i=>i!==void 0)}},Ax=new rt("NGXS_LOGGER_PLUGIN_OPTIONS"),EL=(()=>{class t{constructor(){this._options=Se(Ax),this._injector=Se(cr)}handle(n,r,i){if(this._options.disabled||this._skipLogging(n,r))return i(n,r);this._logWriter||=new e_(this._options),this._store||=this._injector.get(fr);let o=new t_(r,this._store,this._logWriter);return o.dispatched(n),i(n,r).pipe(Hn(s=>{o.completed(s)}),qr(s=>{throw o.errored(s),s}))}_skipLogging(n,r){return!mr(this._injector,()=>this._options.filter(r,n))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac})}}return t})(),Dx=new rt("LOGGER_USER_OPTIONS");function IL(t){return ke(ke({},{logger:console,collapsed:!1,disabled:!1,filter:()=>!0}),t)}function Tx(t){return ri([hm(EL),{provide:Dx,useValue:t},{provide:Ax,useFactory:IL,deps:[Dx]}])}var n_="@@STATE",Mm=new rt(""),xx=new rt("",{providedIn:"root",factory:()=>Se(Mm).keys==="*"}),mf=new rt(""),r_=new rt("");function i_(t){return t!=null&&!!t.engine}function Cx(t){return i_(t)&&(t=t.key),t.hasOwnProperty(su)&&(t=t[su].name),t instanceof nf?t.getName():t}function OL(t){return Mt(ke({storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},t),{keys:t.keys==="*"?[n_]:t.keys})}function DL(t,e){return To(e)?null:t.storage===0?localStorage:t.storage===1?sessionStorage:null}function Mx(t,e){return e?.namespace?`${e.namespace}:${t}`:t}var AL=(()=>{class t{constructor(){this._keys=new Set,this._injector=Se(cr),this._keysWithEngines=[];let{keys:n}=Se(mf);this.addKeys(n)}getKeysWithEngines(){return[...this._keysWithEngines]}addKeys(n){for(let r of n){let i=Cx(r);if(this._keys.has(i))continue;this._keys.add(i);let o=i_(r)?this._injector.get(r.engine):this._injector.get(r_);this._keysWithEngines.push({key:i,engine:o})}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TL=(()=>{class t{constructor(){this._keysManager=Se(AL),this._options=Se(mf),this._allStatesPersisted=Se(xx),this._isServer=To(Se(Wr))}handle(n,r,i){if(this._isServer)return i(n,r);let o=xT(r),s=o(cm),a=o(V1),c=s||a,f=!1;if(c){let y=a&&r.addedStates;for(let{key:m,engine:u}of this._keysManager.getKeysWithEngines()){if(!this._allStatesPersisted&&y){let d=m.indexOf(xL),p=d>-1?m.slice(0,d):m;if(!y.hasOwnProperty(p))continue}let l=Mx(m,this._options),h=u.getItem(l);if(h!=="undefined"&&h!=null){try{let d=this._options.deserialize(h);h=this._options.afterDeserialize(d,m)}catch{h={}}this._options.migrations?.forEach(d=>{let p=d.version===Ea(h,d.versionKey||"version"),g=!d.key&&this._allStatesPersisted||d.key===m;p&&g&&(h=d.migrate(h),f=!0)}),this._allStatesPersisted?(h=this._hydrateSelectivelyOnUpdate(h,y),n=ke(ke({},n),h)):n=of(n,m,h)}}}return i(n,r).pipe(Hn(y=>{if(!(c&&!f))for(let{key:m,engine:u}of this._keysManager.getKeysWithEngines()){let l=y,h=Mx(m,this._options);m!==n_&&(l=Ea(y,m));try{let d=this._options.beforeSerialize(l,m);u.setItem(h,this._options.serialize(d))}catch{}}}))}_hydrateSelectivelyOnUpdate(n,r){return!n||!r||Object.keys(r).length===0?n:Object.keys(r).reduce((i,o)=>(n.hasOwnProperty(o)&&(i[o]=n[o]),i),{})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac})}}return t})(),xL=".";function Nx(t){return ri([hm(TL),{provide:Mm,useValue:t},{provide:mf,useFactory:OL,deps:[Mm]},{provide:r_,useFactory:DL,deps:[mf,Wr]}])}var fi=class{set(e,n){e.setState(n.payload)}};hi(fi,"\u0275fac",function(n){return new(n||fi)}),hi(fi,"\u0275prov",Qe({token:fi,factory:fi.\u0275fac})),Er([lo(Ei)],fi.prototype,"set",1),fi=Er([Ms({name:"authorization",defaults:null})],fi);var Qr=class{set(e,n){e.setState(n.payload)}static getCurrent(e){return e}};hi(Qr,"\u0275fac",function(n){return new(n||Qr)}),hi(Qr,"\u0275prov",Qe({token:Qr,factory:Qr.\u0275fac})),Er([lo(Ii)],Qr.prototype,"set",1),Er([dm()],Qr,"getCurrent",1),Qr=Er([Ms({name:"profile",defaults:null})],Qr);var Px=(t,e)=>{let r=Se(fr).selectSnapshot(s=>s.authorization),o=!!r?t.clone({setHeaders:{Authorization:`Bearer ${r}`}}):t;return e(o)};var Vr=class{add(e,n){e.setState(r=>[...r,n.payload])}replace(e,n){var r=[...e.getState()],[i]=r.filter(s=>s._id===n.payload.f),o=r.findIndex(s=>s._id===i._id);r[o].lastMessage=n.payload.m,e.setState(r)}edit(e,n){var r=[...e.getState()],[i]=r.filter(a=>a._id===n.payload.f),o=r.findIndex(a=>a._id===i._id),s=r[o].lastMessage;alert("test"),r[o].lastMessage=Mt(ke({},s),{send:!0}),e.setState(r)}};hi(Vr,"\u0275fac",function(n){return new(n||Vr)}),hi(Vr,"\u0275prov",Qe({token:Vr,factory:Vr.\u0275fac})),Er([lo(cu)],Vr.prototype,"add",1),Er([lo(uu)],Vr.prototype,"replace",1),Er([lo(bm)],Vr.prototype,"edit",1),Vr=Er([Ms({name:"history",defaults:[]})],Vr);var Nm=class{constructor(e){this.payload=e}static type="[Messages] SetMessages"};var Yr=class{init(e,n){var r=e.getState();e.setState([...r,n.payload])}get(e){return n=>e.filter(r=>r._id===n)[0]}};hi(Yr,"\u0275fac",function(n){return new(n||Yr)}),hi(Yr,"\u0275prov",Qe({token:Yr,factory:Yr.\u0275fac})),Er([lo(Nm)],Yr.prototype,"init",1),Er([dm()],Yr.prototype,"get",1),Yr=Er([Ms({name:"messages",defaults:[]})],Yr);var CL="https://8000-idx-nest-3141825-1736324093764.cluster-3g4scxt2njdd6uovkqyfcabgo6.cloudworkstations.dev/graphql",ML=()=>Me(void 0,null,function*(){let t=new Fc,e=new Nv(window.localStorage);yield Cv({cache:t,storage:e})}),kx={providers:[nI({eventCoalescing:!0}),{provide:cc,useFactory:()=>ML,multi:!0},rA(()=>{let t=new Fc,e=new Nv(window.localStorage);return HI({cache:t,storage:e}),{link:Se(iA).create({uri:CL}),connectToDevTools:!0,cache:t}}),AI(TI([Px])),KD(Ox),JT([fi,Qr,Vr,Yr],Nx({keys:"*"}),Tx())]};var Pm=class t{title="myapp";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Wn(0,"router-outlet")},dependencies:[I0],encapsulation:2})};LI(Pm,kx).catch(t=>console.error(t));
